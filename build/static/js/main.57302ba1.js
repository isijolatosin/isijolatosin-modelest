/*! For license information please see main.57302ba1.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(9727)},5764:function(e,t,n){!function(e,t){"use strict";function n(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function i(){}function a(){}a.resetWarningCache=i;var o=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n},s=n((function(e){e.exports=o()}));function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){return d(e)||p(e,t)||v(e,t)||y()}function d(e){if(Array.isArray(e))return e}function p(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}function v(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},w=function(e){return null!==e&&"object"===u(e)},b=function(e){return w(e)&&"function"===typeof e.then},k=function(e){return w(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},x="[object Object]",_=function e(t,n){if(!w(t)||!w(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===x;if(i!==(Object.prototype.toString.call(n)===x))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var s={},u=0;u<a.length;u+=1)s[a[u]]=!0;for(var c=0;c<o.length;c+=1)s[o[c]]=!0;var l=Object.keys(s);if(l.length!==a.length)return!1;var f=t,h=n,d=function(t){return e(f[t],h[t])};return l.every(d)},S=function(e,t,n){return w(e)?Object.keys(e).reduce((function(r,i){var a=!w(t)||!_(e[i],t[i]);return n.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),r):a?f(f({},r||{}),{},c({},i,e[i])):r}),null):null},E="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",T=function(e){if(null===e||k(e))return e;throw new Error(E)},I=function(e){if(b(e))return{tag:"async",stripePromise:Promise.resolve(e).then(T)};var t=T(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},C=t.createContext(null);C.displayName="ElementsContext";var N=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},A=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useRef(!1),o=t.useRef(!0),s=t.useMemo((function(){return I(n)}),[n]),u=h(t.useState((function(){return{stripe:null,elements:null}})),2),c=u[0],l=u[1],f=g(n);null!==f&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),a.current||("sync"===s.tag&&(a.current=!0,l({stripe:s.stripe,elements:s.stripe.elements(r)})),"async"===s.tag&&(a.current=!0,s.stripePromise.then((function(e){e&&o.current&&l({stripe:e,elements:e.elements(r)})}))));var d=g(r);return t.useEffect((function(){if(c.elements){var e=S(r,d,["clientSecret","fonts"]);e&&c.elements.update(e)}}),[r,d,c.elements]),t.useEffect((function(){return function(){o.current=!1}}),[]),t.useEffect((function(){var e=c.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.7.0"}),e.registerAppInfo({name:"react-stripe-js",version:"1.7.0",url:"https://stripe.com/docs/stripe-js/react"}))}),[c.stripe]),t.createElement(C.Provider,{value:c},i)};A.propTypes={stripe:s.any,options:s.object};var O=function(e){var n=t.useContext(C);return N(n,e)},P=function(){return O("calls useElements()").elements},R=function(){return O("calls useStripe()").stripe},j=function(e){return(0,e.children)(O("mounts <ElementsConsumer>"))};j.propTypes={children:s.func.isRequired};var D=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),function(){n.current&&n.current.apply(n,arguments)}},L=function(){},M=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},U=function(e,n){var r="".concat(M(e),"Element"),i=n?function(e){O("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i=n.id,a=n.className,o=n.options,s=void 0===o?{}:o,u=n.onBlur,c=void 0===u?L:u,l=n.onFocus,f=void 0===l?L:l,h=n.onReady,d=void 0===h?L:h,p=n.onChange,v=void 0===p?L:p,m=n.onEscape,y=void 0===m?L:m,w=n.onClick,b=void 0===w?L:w,k=O("mounts <".concat(r,">")).elements,x=t.useRef(null),_=t.useRef(null),E=D(d),T=D(c),I=D(f),C=D(b),N=D(v),A=D(y);t.useLayoutEffect((function(){if(null==x.current&&k&&null!=_.current){var t=k.create(e,s);x.current=t,t.mount(_.current),t.on("ready",(function(){return E(t)})),t.on("change",N),t.on("blur",T),t.on("focus",I),t.on("escape",A),t.on("click",C)}}));var P=g(s);return t.useEffect((function(){if(x.current){var e=S(s,P,["paymentRequest"]);e&&x.current.update(e)}}),[s,P]),t.useLayoutEffect((function(){return function(){x.current&&x.current.destroy()}}),[]),t.createElement("div",{id:i,className:a,ref:_})};return i.propTypes={id:s.string,className:s.string,onChange:s.func,onBlur:s.func,onFocus:s.func,onReady:s.func,onClick:s.func,options:s.object},i.displayName=r,i.__elementType=e,i},F="undefined"===typeof window,V=U("auBankAccount",F),z=U("card",F),B=U("cardNumber",F),q=U("cardExpiry",F),H=U("cardCvc",F),W=U("fpxBank",F),K=U("iban",F),G=U("idealBank",F),Q=U("p24Bank",F),$=U("epsBank",F),Y=U("payment",F),J=U("paymentRequestButton",F),X=U("linkAuthentication",F),Z=U("shippingAddress",F),ee=U("affirmMessage",F),te=U("afterpayClearpayMessage",F);e.AffirmMessageElement=ee,e.AfterpayClearpayMessageElement=te,e.AuBankAccountElement=V,e.CardCvcElement=H,e.CardElement=z,e.CardExpiryElement=q,e.CardNumberElement=B,e.Elements=A,e.ElementsConsumer=j,e.EpsBankElement=$,e.FpxBankElement=W,e.IbanElement=K,e.IdealBankElement=G,e.LinkAuthenticationElement=X,e.P24BankElement=Q,e.PaymentElement=Y,e.PaymentRequestButtonElement=J,e.ShippingAddressElement=Z,e.useElements=P,e.useStripe=R,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2791))},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),s=n(1804),u=n(9145),c=n(5411),l=n(6467),f=n(221),h=n(9346);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,v=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete v["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(w+":"+b)}var k=s(e.baseURL,e.url);function x(){if(g){var r="getAllResponseHeaders"in g?u(g.getAllResponseHeaders()):null,a={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};i((function(e){t(e),y()}),(function(e){n(e),y()}),a),g=null}}if(g.open(e.method.toUpperCase(),o(k,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(x)},g.onabort=function(){g&&(n(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||c(k))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;_&&(v[e.xsrfHeaderName]=_)}"setRequestHeader"in g&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),m&&"json"!==m&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){g&&(n(!e||e&&e.type?new h("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),g.send(p)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(221));s.Axios=a,s.Cancel=n(9346),s.CancelToken=n(6857),s.isCancel=n(5517),s.VERSION=n(7600).version,s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),s=n(777),u=n(7835),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!r){var l=[o,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var f=e;n.length;){var h=n.shift(),d=n.shift();try{f=h(f)}catch(p){d(p);break}}try{i=o(f)}catch(p){return Promise.reject(p)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(221),s=n(9346);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(221);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(6460),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(o)})),e.exports=u},7600:function(e){e.exports={version:"0.24.0"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},9580:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var r=n(7600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},3589:function(e,t,n){"use strict";var r=n(4049),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},2110:function(e,t,n){"use strict";var r=n(7441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(w){}}}}return t}},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,w);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,w);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,w);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,S=60107,E=60108,T=60114,I=60109,C=60110,N=60112,A=60113,O=60120,P=60115,R=60116,j=60121,D=60128,L=60129,M=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;x=F("react.element"),_=F("react.portal"),S=F("react.fragment"),E=F("react.strict_mode"),T=F("react.profiler"),I=F("react.provider"),C=F("react.context"),N=F("react.forward_ref"),A=F("react.suspense"),O=F("react.suspense_list"),P=F("react.memo"),R=F("react.lazy"),j=F("react.block"),F("react.scope"),D=F("react.opaque.id"),L=F("react.debug_trace_mode"),M=F("react.offscreen"),U=F("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case T:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case j:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var we={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||we.hasOwnProperty(e)&&we[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(we).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),we[t]=we[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ie(e.stateNode,e.type,t))}}function Oe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Re(e,t){return e(t)}function je(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Re,Me=!1,Ue=!1;function Fe(){null===Ce&&null===Ne||(De(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ke=!1,Ge=null,Qe={onError:function(e){He=!0,We=e}};function $e(e,t,n,r,i,a,o,s,u){He=!1,We=null,qe.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function wt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(wt),ft.forEach(wt)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return kt(t,e)}if(0<ot.length){kt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&kt(st,e),null!==ut&&kt(ut,e),null!==ct&&kt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Et={},Tt={};function It(e){if(Et[e])return Et[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Et[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=It("animationend"),Nt=It("animationiteration"),At=It("animationstart"),Ot=It("transitionend"),Pt=new Map,Rt=new Map,jt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Mt(u),i=Lt):0!==(s&=a)&&(r=Mt(s),i=Lt)}else 0!==(a=n&~o)?(r=Mt(a),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Me||De();var i=Xt,a=Me;Me=!0;try{je(i,e,t,n,r)}finally{(Me=a)||Fe()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Dr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),wn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(kn),_n=un(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return In}var Nn=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),On=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=un(jn),Ln=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var Fn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Mn||Un&&8<Un&&11>=Un),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Jn(e){Nr(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];if(Qn(t,Yn,e,Te(e)),e=Jn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function ur(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,wr=null,br=null,kr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==wr||wr!==X(r)||("selectionStart"in(r=wr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&hr(kr,r)||(kr=r,0<(r=Mr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(jt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Sr.length;Er++)Rt.set(Sr[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if($e.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,s.forEach((function(t){Ir.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),jr(a,e,i,t),o.add(s))}function jr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Le(e,t,n)}finally{Ue=!1,Fe()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=wn;break;case"focusout":c="blur",u=wn;break;case"beforeblur":case"afterblur":u=wn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Ct:case Nt:case At:u=bn;break;case Ot:u=Rn;break;case"scroll":u=vn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==u&&Fr(o,s,u,l,!1),null!==c&&null!==f&&Fr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(wr=y,br=r,kr=null);break;case"focusout":kr=br=wr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Wn?qn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=Mr(r,w)).length&&(w=new _n(w,e,null,n,i),o.push({event:w,listeners:y}),g?w.data=g:null!==(g=Hn(n))&&(w.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&qn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Lr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Lr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Xr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function wi(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Si=null,Ei=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,ji=a.unstable_NormalPriority,Di=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Mi={},Ui=void 0!==Ni?Ni:function(){},Fi=null,Vi=null,zi=!1,Bi=Ai(),qi=1e4>Bi?Ai:function(){return Ai()-Bi};function Hi(){switch(Oi()){case Pi:return 99;case Ri:return 98;case ji:return 97;case Di:return 96;case Li:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return ji;case 96:return Di;case 95:return Li;default:throw Error(o(332))}}function Ki(e,t){return e=Wi(e),Ei(e,t)}function Gi(e,t,n){return e=Wi(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ii(e)}$i()}function $i(){if(!zi&&null!==Fi){zi=!0;var e=0;try{var t=Fi;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ti(Pi,Qi),n}finally{zi=!1}}}var Yi=k.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function wa(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Ju(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var w=d(i,v,g.value,c);if(null===w){null===v&&(v=y);break}e&&v&&null===w.alternate&&t(i,v),s=a(w,s,m),null===f?l=w:f.sibling=w,f=w,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Yu(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(B(a))return m(e,r,a,u);if(l&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ea(!0),Ia=Ea(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Oa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Ra(e,t){switch(fi(Oa,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function ja(){li(Na),li(Aa),li(Oa)}function Da(e){Pa(Oa.current);var t=Pa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function La(e){Aa.current===e&&(li(Na),li(Aa))}var Ma=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Va=null,za=!1;function Ba(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(za){var t=Va;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Fa=e);Ba(Fa,n)}Fa=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Fa=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Ka(e){if(e!==Fa)return!1;if(!za)return Wa(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Fa?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Fa=null,za=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=k.ReactCurrentDispatcher,Ja=k.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Ro:jo,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Do,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Mo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Rs;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ya.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function wo(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function ko(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return ko(516,4,e,t)}function So(e,t){return ko(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,Eo.bind(null,t,e),n)}function Io(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Hi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Oo(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:Io,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},jo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:So,useMemo:No,useReducer:lo,useRef:wo,useState:function(){return lo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[wo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:So,useMemo:No,useReducer:fo,useRef:wo,useState:function(){return fo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[wo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Lo=k.ReactCurrentOwner,Mo=!1;function Uo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Ta(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Mo=!0)}return Ho(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Uo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Mo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;ki(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wa(t,n,r),ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Uo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wi(0,t.context,!1),Ra(e,t.containerInfo)}var Qo,$o,Yo,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Ma.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ma,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$u(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Ma.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ma,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return ja(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Na.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Se(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Ma),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ma.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Rs||0===(134217727&zs)&&0===(134217727&Bs)||gu(Rs,Ds))),(r||n)&&(t.flags|=4),null);case 4:return ja(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ma),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Us||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ma,1&Ma.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ua(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Ma.current,fi(Ma,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ja(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(Ma),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ma),null;case 4:return ja(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===D?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ke("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ws(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Es(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ks(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ks(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ks(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Ss(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ws(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ws(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=qi(),gs(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=k.ReactCurrentDispatcher,Os=k.ReactCurrentOwner,Ps=0,Rs=null,js=null,Ds=0,Ls=0,Ms=ci(0),Us=0,Fs=null,Vs=0,zs=0,Bs=0,qs=0,Hs=null,Ws=0,Ks=1/0;function Gs(){Ks=qi()+500}var Qs,$s=null,Ys=!1,Js=null,Xs=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Ps)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Vs),0!==Yi.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Ps)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Rs&&(Bs|=t,4===Us&&gu(e,Ds));var r=Hi();1===t?0!==(8&Ps)&&0===(48&Ps)?wu(e):(mu(e,n),0===Ps&&(Gs(),Qi())):(0===(4&Ps)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ut(e,e===Rs?Ds:0),t=Lt,0===r)null!==n&&(n!==Mi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ii(n)}15===t?(n=wu.bind(null,e),null===Fi?(Fi=[n],Vi=Ti(Pi,$i)):Fi.push(n),n=Mi):14===t?n=Gi(99,wu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Ps))throw Error(o(327));var t=e.callbackNode;if(Du()&&e.callbackNode!==t)return null;var n=Ut(e,e===Rs?Ds:0);if(0===n)return null;var r=n,i=Ps;Ps|=16;var a=Tu();for(Rs===e&&Ds===r||(Gs(),Su(e,r));;)try{Nu();break}catch(u){Eu(e,u)}if(na(),As.current=a,Ps=i,null!==js?r=0:(Rs=null,Ds=0,r=Us),0!==(Vs&Bs))Su(e,0);else if(0!==r){if(2===r&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=Iu(e,n))),1===r)throw t=Fs,Su(e,0),gu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Pu(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ws+500-qi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Pu.bind(null,e),r);break}Pu(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Wr(Pu.bind(null,e),n);break}Pu(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function wu(e){if(0!==(48&Ps))throw Error(o(327));if(Du(),e===Rs&&0!==(e.expiredLanes&Ds)){var t=Ds,n=Iu(e,t);0!==(Vs&Bs)&&(n=Iu(e,t=Ut(e,t)))}else n=Iu(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ps|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=Iu(e,t))),1===n)throw n=Fs,Su(e,0),gu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pu(e),mu(e,qi()),null}function bu(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function ku(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}}function xu(e,t){fi(Ms,Ls),Ls|=t,Vs|=t}function _u(){Ls=Ms.current,li(Ms)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==js)for(n=js.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:ja(),li(pi),li(di),$a();break;case 5:La(r);break;case 4:ja();break;case 13:case 19:li(Ma);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Rs=e,js=Ku(e.current,null),Ds=Ls=Vs=t,Us=0,Fs=null,qs=Bs=zs=0}function Eu(e,t){for(;;){var n=js;try{if(na(),Ya.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Os.current=null,null===n||null===n.return){Us=1,Fs=t,js=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Ma.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var w=a.pingCache;if(null===w?(w=a.pingCache=new fs,u=new Set,w.set(c,u)):void 0===(u=w.get(c))&&(u=new Set,w.set(c,u)),!u.has(s)){u.add(s);var b=zu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var k=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof k.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xs||!Xs.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ou(n)}catch(_){t=_,js===n&&null!==n&&(js=n=n.return);continue}break}}function Tu(){var e=As.current;return As.current=Po,null===e?Po:e}function Iu(e,t){var n=Ps;Ps|=16;var r=Tu();for(Rs===e&&Ds===t||Su(e,t);;)try{Cu();break}catch(i){Eu(e,i)}if(na(),Ps=n,As.current=r,null!==js)throw Error(o(261));return Rs=null,Ds=0,Us}function Cu(){for(;null!==js;)Au(js)}function Nu(){for(;null!==js&&!Ci();)Au(js)}function Au(e){var t=Qs(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Ou(e):js=t,Os.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(js=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(js=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(js=t);js=t=e}while(null!==t);0===Us&&(Us=5)}function Pu(e){var t=Hi();return Ki(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{Du()}while(null!==eu);if(0!==(48&Ps))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Rs&&(js=Rs=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ps,Ps|=32,Os.current=null,zr=$t,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},$t=!1,lu=null,fu=!1,$s=r;do{try{ju()}catch(T){if(null===$s)throw Error(o(330));Vu($s,T),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var w=$s.flags;if(16&w&&ge($s.stateNode,""),128&w){var b=$s.alternate;if(null!==b){var k=b.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&w){case 2:xs($s),$s.flags&=-3;break;case 6:xs($s),$s.flags&=-3,Ts($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Ts($s.alternate,$s);break;case 4:Ts($s.alternate,$s);break;case 8:Es(s,u=$s);var x=u.alternate;bs(u),null!==x&&bs(x)}$s=$s.nextEffect}}catch(T){if(null===$s)throw Error(o(330));Vu($s,T),$s=$s.nextEffect}}while(null!==$s);if(k=Br,b=mr(),w=k.focusedElem,s=k.selectionRange,b!==w&&w&&w.ownerDocument&&vr(w.ownerDocument.documentElement,w)){null!==s&&yr(w)&&(b=s.start,void 0===(k=s.end)&&(k=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(k,w.value.length)):(k=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(k=k.getSelection(),u=w.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!k.extend&&x>s&&(u=s,s=x,x=u),u=pr(w,x),a=pr(w,s),u&&a&&(1!==k.rangeCount||k.anchorNode!==u.node||k.anchorOffset!==u.offset||k.focusNode!==a.node||k.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),k.removeAllRanges(),x>s?(k.addRange(b),k.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),k.addRange(b))))),b=[];for(k=w;k=k.parentNode;)1===k.nodeType&&b.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<b.length;w++)(k=b[w]).element.scrollLeft=k.left,k.element.scrollTop=k.top}$t=!!zr,Br=zr=null,e.current=n,$s=r;do{try{for(w=e;null!==$s;){var _=$s.flags;if(36&_&&ys(w,$s.alternate,$s),128&_){b=void 0;var S=$s.ref;if(null!==S){var E=$s.stateNode;$s.tag,b=E,"function"===typeof S?S(b):S.current=b}}$s=$s.nextEffect}}catch(T){if(null===$s)throw Error(o(330));Vu($s,T),$s=$s.nextEffect}}while(null!==$s);$s=null,Ui(),Ps=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((_=$s).sibling=null,_.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,qi()),Ys)throw Ys=!1,e=Js,Js=null,e;return 0!==(8&Ps)||Qi(),null}function ju(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(fu=!0):13===$s.tag&&Cs(e,$s)&&et($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ms(e,$s),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Du(),null}))),$s=$s.nextEffect}}function Du(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Uu)}return!1}function Lu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Du(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Du(),null})))}function Uu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Ps))throw Error(o(331));var t=Ps;Ps|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Ps=t,Qi(),!0}function Fu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Fu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(Ds&n)===n&&(4===Us||3===Us&&(62914560&Ds)===Ds&&500>qi()-Ws?Su(e,0):qs|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Vs),0===(t=zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new qu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Qu(n.children,i,a,t);case L:s=8,i|=16;break;case E:s=8,i|=1;break;case T:return(e=Hu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case A:return(e=Hu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case O:return(e=Hu(19,n,t,i)).elementType=O,e.lanes=a,e;case M:return $u(n,i,a,t);case U:return(e=Hu(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case N:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e;case j:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=M,e.lanes=n,e}function Yu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ku((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Mo=!0;else{if(0===(n&r)){switch(Mo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Da(t);break;case 1:yi(t.type)&&ki(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Ma,1&Ma.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Ma,1&Ma.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ma,Ma.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}Mo=0!==(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;ki(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ka(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Fa=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return Da(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),qo(e,t),Uo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Xo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,ki(t)):e=!1,aa(t,n),wa(t,r,i),ka(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=bu,je=function(e,t,n,r,i){var a=Ps;Ps|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ps=a)&&(Gs(),Qi())}},De=function(){0===(49&Ps)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}Qi()}(),Du())},Le=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Oe,Pe,Du,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Si=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ps;if(0!==(48&n))return e(t);Ps|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ps=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ku((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(!a(e[u],o[u]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!a(u.value[1],o.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(e[u]!==o[u])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!a(e[c[u]],o[c[u]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},1372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return k(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||k(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===h},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===m},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===w||e.$$typeof===b||e.$$typeof===y)},t.typeOf=k},7441:function(e,t,n){"use strict";e.exports=n(1372)},8459:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w("react.element"),r=w("react.portal"),i=w("react.fragment"),a=w("react.strict_mode"),o=w("react.profiler"),s=w("react.provider"),u=w("react.context"),c=w("react.forward_ref"),l=w("react.suspense"),f=w("react.suspense_list"),h=w("react.memo"),d=w("react.lazy"),p=w("react.block"),v=w("react.server.block"),m=w("react.fundamental"),y=w("react.debug_trace_mode"),g=w("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case h:case s:return e;default:return t}}case r:return t}}}},6900:function(e,t,n){"use strict";n(8459)},9475:function(e,t,n){"use strict";var r,i=n(2791),a=(r=i)&&"object"===typeof r&&"default"in r?r.default:r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var u,c=[];function l(){u=e(c.map((function(e){return e.props}))),f.canUseDOM?t(u):n&&(u=n(u))}var f=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return u},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=u;return u=void 0,c=[],e};var o=i.prototype;return o.UNSAFE_componentWillMount=function(){c.push(this),l()},o.componentDidUpdate=function(){l()},o.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),l()},o.render=function(){return a.createElement(r,this.props)},i}(i.PureComponent);return o(f,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),o(f,"canUseDOM",s),f}}},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=g.prototype=new y;w.constructor=g,r(w,m.prototype),w.isPureReactComponent=!0;var b={current:null},k=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),I(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=I(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function O(){var e=A.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)k.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},3315:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(2900))&&r.__esModule?r:{default:r}},2900:function(e,t){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},5752:function(e,t,n){"use strict";var r;t.Z=void 0;var i=(0,((r=n(3315))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(O){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var w={};u(w,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(N([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=g.prototype=m.prototype=Object.create(w);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),u(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,k=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();w=e+g;try{m(!0,e)?k.postMessage(null):(v=!1,m=null)}catch(n){throw k.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,k.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>E(o,n))void 0!==u&&0>E(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>E(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],I=[],C=1,N=null,A=3,O=!1,P=!1,R=!1;function j(e){for(var t=_(I);null!==t;){if(null===t.callback)S(I);else{if(!(t.startTime<=e))break;S(I),t.sortIndex=t.expirationTime,x(T,t)}t=_(I)}}function D(e){if(R=!1,j(e),!P)if(null!==_(T))P=!0,n(L);else{var t=_(I);null!==t&&r(D,t.startTime-e)}}function L(e,n){P=!1,R&&(R=!1,i()),O=!0;var a=A;try{for(j(n),N=_(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===_(T)&&S(T),j(n)}else S(T);N=_(T)}if(null!==N)var u=!0;else{var c=_(I);null!==c&&r(D,c.startTime-n),u=!1}return u}finally{N=null,A=a,O=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(I,e),null===_(T)&&e===_(I)&&(R?i():R=!0,r(D,o-s))):(e.sortIndex=u,x(T,e),P||O||(P=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},101:function(e,t,n){"use strict";e.exports=n.p+"static/media/about.1e2e89b19e7603e2160a.jpeg"},3361:function(e,t,n){"use strict";e.exports=n.p+"static/media/can-image.f13d242a2772764f09d6.jpeg"},7451:function(e,t,n){"use strict";e.exports=n.p+"static/media/lon-image.8086ab47bfde18287173.jpeg"},1268:function(e,t,n){"use strict";e.exports=n.p+"static/media/usa-image.2235cb0777a90363deb7.jpeg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".b423ba4d.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="modelest:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[o[c]]=0},r=self.webpackChunkmodelest=self.webpackChunkmodelest||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return nn},SDK_VERSION:function(){return Xn},_DEFAULT_ENTRY_NAME:function(){return Mn},_addComponent:function(){return zn},_addOrOverwriteComponent:function(){return Bn},_apps:function(){return Fn},_clearComponents:function(){return Kn},_components:function(){return Vn},_getProvider:function(){return Hn},_registerComponent:function(){return qn},_removeServiceInstance:function(){return Wn},deleteApp:function(){return nr},getApp:function(){return er},getApps:function(){return tr},initializeApp:function(){return Zn},onLog:function(){return ar},registerVersion:function(){return ir},setLogLevel:function(){return or}});var t=n(2791),r=n(4164);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||o(e,t)||s()}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l,f=l||(l={});f.Pop="POP",f.Push="PUSH",f.Replace="REPLACE";var h=function(e){return e};function d(e){e.preventDefault(),e.returnValue=""}function p(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function v(){return Math.random().toString(36).substr(2,8)}function m(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function y(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,t){if(!e)throw new Error(t)}var w=(0,t.createContext)(null);var b=(0,t.createContext)(null);var k=(0,t.createContext)({outlet:null,matches:[]});function x(e){return function(e){var n=(0,t.useContext)(k).outlet;if(n)return(0,t.createElement)(A.Provider,{value:e},n);return n}(e.context)}function _(e){g(!1)}function S(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?l.Pop:s,c=e.navigator,f=e.static,h=void 0!==f&&f;I()&&g(!1);var d=q(r),p=(0,t.useMemo)((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof o&&(o=y(o));var v=o,m=v.pathname,k=void 0===m?"/":m,x=v.search,_=void 0===x?"":x,S=v.hash,E=void 0===S?"":S,T=v.state,C=void 0===T?null:T,N=v.key,A=void 0===N?"default":N,O=(0,t.useMemo)((function(){var e=z(k,d);return null==e?null:{pathname:e,search:_,hash:E,state:C,key:A}}),[d,k,_,E,C,A]);return null==O?null:(0,t.createElement)(w.Provider,{value:p},(0,t.createElement)(b.Provider,{children:a,value:{location:O,navigationType:u}}))}function E(e){var n=e.children,r=e.location;return function(e,n){I()||g(!1);var r=(0,t.useContext)(k).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=C();if(n){var c,l="string"===typeof n?y(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||g(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=z(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=R(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=M(i[o],r);return a}(e,{pathname:h});0;return U(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:B([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:B([o,e.pathnameBase])})})),r)}(P(n),r)}function T(e){I()||g(!1);var n=(0,t.useContext)(w),r=n.basename,i=n.navigator,a=O(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?y(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):B([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function I(){return null!=(0,t.useContext)(b)}function C(){return I()||g(!1),(0,t.useContext)(b).location}function N(){I()||g(!1);var e=(0,t.useContext)(w),n=e.basename,r=e.navigator,i=(0,t.useContext)(k).matches,a=C().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=V(e,JSON.parse(o),a);"/"!==n&&(i.pathname=B([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var A=(0,t.createContext)(null);function O(e){var n=(0,t.useContext)(k).matches,r=C().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return V(e,JSON.parse(i),r)}),[e,i,r])}function P(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==_&&g(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=P(e.props.children)),n.push(r)}else n.push.apply(n,P(e.props.children))})),n}function R(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||g(!1),a.relativePath=a.relativePath.slice(r.length));var o=B([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&g(!1),R(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:L(o,e.index),routesMeta:s})})),t}var j=/^:\w+$/,D=function(e){return"*"===e};function L(e,t){var n=e.split("/"),r=n.length;return n.some(D)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!D(e)})).reduce((function(e,t){return e+(j.test(t)?3:""===t?1:10)}),r)}function M(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=F({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:B([i,l.pathname]),pathnameBase:B([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=B([i,l.pathnameBase]))}return a}function U(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(k.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(x,null),value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(lO){return e}}(l[n]||""),e}),{});return{params:f,pathname:s,pathnameBase:c,pattern:e}}function V(e,t,n){var r,i="string"===typeof e?y(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:H(a),hash:W(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var B=function(e){return e.join("/").replace(/\/\/+/g,"/")},q=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},H=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},W=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["onClick","reloadDocument","replace","state","target","to"];function $(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){function t(){var e=o.location,t=s.state||{};return[t.idx,h({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:m(e)}function r(e,t){return void 0===t&&(t=null),h(c({pathname:w.pathname,hash:"",search:""},"string"===typeof e?y(e):e,{state:t,key:v()}))}function i(e){f=e,e=t(),g=e[0],w=e[1],b.call({action:f,location:w})}function a(e){s.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,s=o.history,u=null;o.addEventListener("popstate",(function(){if(u)k.call(u),u=null;else{var e=l.Pop,n=t(),r=n[0];if(n=n[1],k.length){if(null!=r){var o=g-r;o&&(u={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var f=l.Pop,g=(e=t())[0],w=e[1],b=p(),k=p();return null==g&&(g=0,s.replaceState(c({},s.state,{idx:g}),"")),{get action(){return f},get location(){return w},createHref:n,push:function e(t,a){var u=l.Push,c=r(t,a);if(!k.length||(k.call({action:u,location:c,retry:function(){e(t,a)}}),0)){var f=[{usr:c.state,key:c.key,idx:g+1},n(c)];c=f[0],f=f[1];try{s.pushState(c,"",f)}catch(Ac){o.location.assign(f)}i(u)}},replace:function e(t,a){var o=l.Replace,u=r(t,a);k.length&&(k.call({action:o,location:u,retry:function(){e(t,a)}}),1)||(u=[{usr:u.state,key:u.key,idx:g},n(u)],s.replaceState(u[0],"",u[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return b.push(e)},block:function(e){var t=k.push(e);return 1===k.length&&o.addEventListener("beforeunload",d),function(){t(),k.length||o.removeEventListener("beforeunload",d)}}}}({window:i}));var o=a.current,s=u((0,t.useState)({action:o.action,location:o.location}),2),f=s[0],g=s[1];return(0,t.useLayoutEffect)((function(){return o.listen(g)}),[o]),(0,t.createElement)(S,{basename:n,children:r,location:f.location,navigationType:f.action,navigator:o})}var Y=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=G(e,Q),f=T(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=N(),u=C(),c=O(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||m(u)===m(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",K({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));var J=n(2007),X=n.n(J),Z=n(9475),ee=n.n(Z),te=n(77),ne=n.n(te),re=n(1725),ie=n.n(re),ae="bodyAttributes",oe="htmlAttributes",se="titleAttributes",ue={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},ce=(Object.keys(ue).map((function(e){return ue[e]})),"charset"),le="cssText",fe="href",he="http-equiv",de="innerHTML",pe="itemprop",ve="name",me="property",ye="rel",ge="src",we="target",be={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ke="defaultTitle",xe="defer",_e="encodeSpecialCharacters",Se="onChangeClientState",Ee="titleTemplate",Te=Object.keys(be).reduce((function(e,t){return e[be[t]]=t,e}),{}),Ie=[ue.NOSCRIPT,ue.SCRIPT,ue.STYLE],Ce="data-react-helmet",Ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},je=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},De=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Le=function(e){var t=ze(e,ue.TITLE),n=ze(e,Ee);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=ze(e,ke);return t||r||void 0},Me=function(e){return ze(e,Se)||function(){}},Ue=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return Pe({},e,t)}),{})},Fe=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[ue.BASE]})).map((function(e){return e[ue.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=r[i].toLowerCase();if(-1!==e.indexOf(a)&&n[a])return t.concat(n)}return t}),[])},Ve=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&Ke("Helmet: "+e+' should be of type "Array". Instead found type "'+Ne(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,a=Object.keys(e),o=0;o<a.length;o++){var s=a[o],u=s.toLowerCase();-1===t.indexOf(u)||n===ye&&"canonical"===e[n].toLowerCase()||u===ye&&"stylesheet"===e[u].toLowerCase()||(n=u),-1===t.indexOf(s)||s!==de&&s!==le&&s!==pe||(n=s)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][c]&&(i[n][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],u=ie()({},r[s],i[s]);r[s]=u}return e}),[]).reverse()},ze=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},Be=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){Be(t)}),0)}}(),qe=function(e){return clearTimeout(e)},He="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Be:n.g.requestAnimationFrame||Be,We="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||qe:n.g.cancelAnimationFrame||qe,Ke=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},Ge=null,Qe=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,s=e.noscriptTags,u=e.onChangeClientState,c=e.scriptTags,l=e.styleTags,f=e.title,h=e.titleAttributes;Je(ue.BODY,r),Je(ue.HTML,i),Ye(f,h);var d={baseTag:Xe(ue.BASE,n),linkTags:Xe(ue.LINK,a),metaTags:Xe(ue.META,o),noscriptTags:Xe(ue.NOSCRIPT,s),scriptTags:Xe(ue.SCRIPT,c),styleTags:Xe(ue.STYLE,l)},p={},v={};Object.keys(d).forEach((function(e){var t=d[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(v[e]=d[e].oldTags)})),t&&t(),u(e,p,v)},$e=function(e){return Array.isArray(e)?e.join(""):e},Ye=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=$e(e)),Je(ue.TITLE,t)},Je=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(Ce),i=r?r.split(","):[],a=[].concat(i),o=Object.keys(t),s=0;s<o.length;s++){var u=o[s],c=t[u]||"";n.getAttribute(u)!==c&&n.setAttribute(u,c),-1===i.indexOf(u)&&i.push(u);var l=a.indexOf(u);-1!==l&&a.splice(l,1)}for(var f=a.length-1;f>=0;f--)n.removeAttribute(a[f]);i.length===a.length?n.removeAttribute(Ce):n.getAttribute(Ce)!==o.join(",")&&n.setAttribute(Ce,o.join(","))}},Xe=function(e,t){var n=document.head||document.querySelector(ue.HEAD),r=n.querySelectorAll(e+"["+"data-react-helmet]"),i=Array.prototype.slice.call(r),a=[],o=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===de)n.innerHTML=t.innerHTML;else if(r===le)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var s="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,s)}n.setAttribute(Ce,"true"),i.some((function(e,t){return o=t,n.isEqualNode(e)}))?i.splice(o,1):a.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),a.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:a}},Ze=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},et=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[be[n]||n]=e[n],t}),t)},tt=function(e,n,r){switch(e){case ue.TITLE:return{toComponent:function(){return function(e,n,r){var i,a=((i={key:n})[Ce]=!0,i),o=et(r,a);return[t.createElement(ue.TITLE,o,n)]}(0,n.title,n.titleAttributes)},toString:function(){return function(e,t,n,r){var i=Ze(n),a=$e(t);return i?"<"+e+' data-react-helmet="true" '+i+">"+De(a,r)+"</"+e+">":"<"+e+' data-react-helmet="true">'+De(a,r)+"</"+e+">"}(e,n.title,n.titleAttributes,r)}};case ae:case oe:return{toComponent:function(){return et(n)},toString:function(){return Ze(n)}};default:return{toComponent:function(){return function(e,n){return n.map((function(n,r){var i,a=((i={key:r})[Ce]=!0,i);return Object.keys(n).forEach((function(e){var t=be[e]||e;if(t===de||t===le){var r=n.innerHTML||n.cssText;a.dangerouslySetInnerHTML={__html:r}}else a[t]=n[e]})),t.createElement(e,a)}))}(e,n)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===de||e===le)})).reduce((function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+De(r[t],n)+'"';return e?e+" "+i:i}),""),a=r.innerHTML||r.cssText||"",o=-1===Ie.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+i+(o?"/>":">"+a+"</"+e+">")}),"")}(e,n,r)}}}},nt=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,s=e.noscriptTags,u=e.scriptTags,c=e.styleTags,l=e.title,f=void 0===l?"":l,h=e.titleAttributes;return{base:tt(ue.BASE,t,r),bodyAttributes:tt(ae,n,r),htmlAttributes:tt(oe,i,r),link:tt(ue.LINK,a,r),meta:tt(ue.META,o,r),noscript:tt(ue.NOSCRIPT,s,r),script:tt(ue.SCRIPT,u,r),style:tt(ue.STYLE,c,r),title:tt(ue.TITLE,{title:f,titleAttributes:h},r)}},rt=function(e){var n,r;return r=n=function(n){function r(){return Ae(this,r),je(this,n.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r.prototype.shouldComponentUpdate=function(e){return!ne()(this.props,e)},r.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case ue.SCRIPT:case ue.NOSCRIPT:return{innerHTML:t};case ue.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},r.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,a=e.nestedChildren;return Pe({},r,((t={})[n.type]=[].concat(r[n.type]||[],[Pe({},i,this.mapNestedChildrenToProps(n,a))]),t))},r.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,a=e.newChildProps,o=e.nestedChildren;switch(r.type){case ue.TITLE:return Pe({},i,((t={})[r.type]=o,t.titleAttributes=Pe({},a),t));case ue.BODY:return Pe({},i,{bodyAttributes:Pe({},a)});case ue.HTML:return Pe({},i,{htmlAttributes:Pe({},a)})}return Pe({},i,((n={})[r.type]=Pe({},a),n))},r.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=Pe({},t);return Object.keys(e).forEach((function(t){var r;n=Pe({},n,((r={})[t]=e[t],r))})),n},r.prototype.warnOnInvalidChildren=function(e,t){return!0},r.prototype.mapChildrenToProps=function(e,n){var r=this,i={};return t.Children.forEach(e,(function(e){if(e&&e.props){var t=e.props,a=t.children,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[Te[n]||n]=e[n],t}),t)}(Re(t,["children"]));switch(r.warnOnInvalidChildren(e,a),e.type){case ue.LINK:case ue.META:case ue.NOSCRIPT:case ue.SCRIPT:case ue.STYLE:i=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:o,nestedChildren:a});break;default:n=r.mapObjectTypeChildren({child:e,newProps:n,newChildProps:o,nestedChildren:a})}}})),n=this.mapArrayTypeChildrenToProps(i,n)},r.prototype.render=function(){var n=this.props,r=n.children,i=Re(n,["children"]),a=Pe({},i);return r&&(a=this.mapChildrenToProps(r,a)),t.createElement(e,a)},Oe(r,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),r}(t.Component),n.propTypes={base:X().object,bodyAttributes:X().object,children:X().oneOfType([X().arrayOf(X().node),X().node]),defaultTitle:X().string,defer:X().bool,encodeSpecialCharacters:X().bool,htmlAttributes:X().object,link:X().arrayOf(X().object),meta:X().arrayOf(X().object),noscript:X().arrayOf(X().object),onChangeClientState:X().func,script:X().arrayOf(X().object),style:X().arrayOf(X().object),title:X().string,titleAttributes:X().object,titleTemplate:X().string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var t=e.rewind();return t||(t=nt({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},r}(ee()((function(e){return{baseTag:Fe([fe,we],e),bodyAttributes:Ue(ae,e),defer:ze(e,xe),encode:ze(e,_e),htmlAttributes:Ue(oe,e),linkTags:Ve(ue.LINK,[ye,fe],e),metaTags:Ve(ue.META,[ve,ce,he,me,pe],e),noscriptTags:Ve(ue.NOSCRIPT,[de],e),onChangeClientState:Me(e),scriptTags:Ve(ue.SCRIPT,[ge,de],e),styleTags:Ve(ue.STYLE,[le],e),title:Le(e),titleAttributes:Ue(se,e)}}),(function(e){Ge&&We(Ge),e.defer?Ge=He((function(){Qe(e,(function(){Ge=null}))})):(Qe(e),Ge=null)}),nt)((function(){return null})));rt.renderStatic=rt.rewind;var it={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},at=t.createContext&&t.createContext(it),ot=function(){return ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ot.apply(this,arguments)},st=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ut(e){return e&&e.map((function(e,n){return t.createElement(e.tag,ot({key:n},e.attr),ut(e.child))}))}function ct(e){return function(n){return t.createElement(lt,ot({attr:ot({},e.attr)},n),ut(e.child))}}function lt(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=st(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",ot({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:ot(ot({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==at?t.createElement(at.Consumer,null,(function(e){return n(e)})):n(it)}function ft(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 306.9c-113.5 0-205.1 91.6-205.1 205.1S398.5 717.1 512 717.1 717.1 625.5 717.1 512 625.5 306.9 512 306.9zm0 338.4c-73.4 0-133.3-59.9-133.3-133.3S438.6 378.7 512 378.7 645.3 438.6 645.3 512 585.4 645.3 512 645.3zm213.5-394.6c-26.5 0-47.9 21.4-47.9 47.9s21.4 47.9 47.9 47.9 47.9-21.3 47.9-47.9a47.84 47.84 0 0 0-47.9-47.9zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zm-88 235.8c-7.3 18.2-16.1 31.8-30.2 45.8-14.1 14.1-27.6 22.9-45.8 30.2C695.2 844.7 570.3 840 512 840c-58.3 0-183.3 4.7-235.9-16.1-18.2-7.3-31.8-16.1-45.8-30.2-14.1-14.1-22.9-27.6-30.2-45.8C179.3 695.2 184 570.3 184 512c0-58.3-4.7-183.3 16.1-235.9 7.3-18.2 16.1-31.8 30.2-45.8s27.6-22.9 45.8-30.2C328.7 179.3 453.7 184 512 184s183.3-4.7 235.9 16.1c18.2 7.3 31.8 16.1 45.8 30.2 14.1 14.1 22.9 27.6 30.2 45.8C844.7 328.7 840 453.7 840 512c0 58.3 4.7 183.2-16.2 235.8z"}}]})(e)}function ht(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 0 0 0 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]})(e)}function dt(e){return ct({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M423.3 440.7c0 25.3-20.3 45.6-45.6 45.6s-45.8-20.3-45.8-45.6 20.6-45.8 45.8-45.8c25.4 0 45.6 20.5 45.6 45.8zm-253.9-45.8c-25.3 0-45.6 20.6-45.6 45.8s20.3 45.6 45.6 45.6 45.8-20.3 45.8-45.6-20.5-45.8-45.8-45.8zm291.7-270C158.9 124.9 81.9 112.1 0 25.7c34.4 51.7 53.3 148.9 373.1 144.2 333.3-5 130 86.1 70.8 188.9 186.7-166.7 319.4-233.9 17.2-233.9z"}}]})(e)}function pt(e){return ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"}}]})(e)}var vt=n(184);var mt=function(){return(0,vt.jsxs)("footer",{className:"tw-flex tw-bg-neutral-800 tw-flex-col tw-py-5 tw-justify-center tw-items-center tw-border-t-[1px] tw-border-neutral-700",children:[(0,vt.jsxs)("div",{className:"tw-flex tw-text-xs tw-text-neutral-500 tw-font-light",children:[(0,vt.jsxs)("div",{className:"tw-pr-5 tw-border-r-2 tw-border-r-neutral-800 md:tw-flex",children:[(0,vt.jsxs)("p",{className:"",children:["\xa9 ",(new Date).getUTCFullYear()," ",(0,vt.jsx)("span",{children:"modelEst"})]}),(0,vt.jsx)("span",{children:"\u2022 All right reserved"})]}),(0,vt.jsxs)("div",{className:"md:tw-flex tw-ml-5",children:[(0,vt.jsx)("p",{className:"",children:"website develop by "}),(0,vt.jsx)("p",{className:"rose-gold",children:(0,vt.jsx)("a",{href:"https://www.linkedin.com/in/oluwatosin-isijola-33333ba8/",target:"_blank",rel:"noopener noreferrer",children:"- Tony Isijola"})})]})]}),(0,vt.jsxs)("div",{className:"tw-flex tw-justify-evenly tw-items-center tw-w-[80%] md:tw-w-[8%] md:tw-ml-10 tw-mt-3 rose-gold",children:[(0,vt.jsx)("a",{href:"https://www.instagram.com/es.motayo/",target:"_blank",rel:"noopener noreferrer",children:(0,vt.jsx)(ft,{size:20,className:"hover:tw-text-rose-100"})}),(0,vt.jsx)("a",{href:"https://www.tiktok.com/@es.motayo",target:"_blank",rel:"noopener noreferrer",children:(0,vt.jsx)(pt,{size:20,className:"hover:tw-text-rose-100"})})]})]})};function yt(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 14v8H4a8 8 0 0 1 8-8zm0-1c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6zm9 4h1v5h-8v-5h1v-1a3 3 0 0 1 6 0v1zm-2 0v-1a1 1 0 0 0-2 0v1h2z"}}]}]})(e)}var gt={canada:20,usa:6,london:20},wt="estherodi1010@gmail.com",bt="tisijola7@gmail.com";function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(lO){return void n(lO)}s.done?t(u):Promise.resolve(u).then(r,i)}function Et(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){St(a,r,i,o,s,"next",e)}function s(e){St(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Tt=n(7757),It=n.n(Tt);function Ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t,n){return t&&Nt(e.prototype,t),n&&Nt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ot(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rt(e,t){return Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Rt(e,t)}function jt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rt(e,t)}function Dt(e){return Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Dt(e)}function Lt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function Ut(e,t){if(t&&("object"===Mt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pt(e)}function Ft(e){var t=Lt();return function(){var n,r=Dt(e);if(t){var i=Dt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ut(this,n)}}function Vt(e,t,n){return Vt=Lt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Rt(i,n.prototype),i},Vt.apply(null,arguments)}function zt(e){var t="function"===typeof Map?new Map:void 0;return zt=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Vt(e,arguments,Dt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Rt(n,e)},zt(e)}var Bt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},qt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ht=function(e){return function(e){var t=Bt(e);return qt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Wt=function(e){try{return qt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Kt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Kt(e[n],t[n]));return e}var Gt=function(){function e(){var t=this;Ct(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return At(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Qt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ht(JSON.stringify({alg:"none",type:"JWT"})),Ht(JSON.stringify(a)),""].join(".")}function $t(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Yt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function Jt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Xt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Zt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function en(){var e=$t();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function tn(){return"object"===typeof indexedDB}var nn=function(e){jt(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Pt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Pt(a),rn.prototype.create),a}return At(n)}(zt(Error)),rn=function(){function e(t,n,r){Ct(this,e),this.service=t,this.serviceName=n,this.errors=r}return At(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?an(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new nn(n,a,t);return o}}]),e}();function an(e,t){return e.replace(on,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var on=/\{\$([^}]+)}/g;function sn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function un(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(cn(s)&&cn(u)){if(!un(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function cn(e){return null!==e&&"object"===typeof e}function ln(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function fn(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function hn(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function dn(e,t){var n=new pn(e,t);return n.subscribe.bind(n)}var pn=function(){function e(t,n){var r=this;Ct(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return At(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ot(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=vn),void 0===r.error&&(r.error=vn),void 0===r.complete&&(r.complete=vn);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function vn(){}function mn(e){return e&&e._delegate?e._delegate:e}function yn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function gn(e){return function(e){if(Array.isArray(e))return a(e)}(e)||yn(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var wn=function(){function e(t,n,r){Ct(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return At(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),bn="[DEFAULT]",kn=function(){function e(t,n){Ct(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return At(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Gt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bn})}catch(c){}var t,n=Ot(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Et(Tt.mark((function e(){var t;return Tt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(gn(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),gn(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ot(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ot(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(gy){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===bn?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(gy){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn;return this.component?this.component.multipleInstances?e:bn:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var xn,_n,Sn=function(){function e(t){Ct(this,e),this.name=t,this.providers=new Map}return At(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new kn(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),En=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(_n||(_n={}));var Tn,In,Cn={debug:_n.DEBUG,verbose:_n.VERBOSE,info:_n.INFO,warn:_n.WARN,error:_n.ERROR,silent:_n.SILENT},Nn=_n.INFO,An=(kt(xn={},_n.DEBUG,"log"),kt(xn,_n.VERBOSE,"log"),kt(xn,_n.INFO,"info"),kt(xn,_n.WARN,"warn"),kt(xn,_n.ERROR,"error"),xn),On=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=An[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Pn=function(){function e(t){Ct(this,e),this.name=t,this._logLevel=Nn,this._logHandler=On,this._userLogHandler=null,En.push(this)}return At(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in _n))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Cn[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_n.DEBUG].concat(t)),this._logHandler.apply(this,[this,_n.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_n.VERBOSE].concat(t)),this._logHandler.apply(this,[this,_n.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_n.INFO].concat(t)),this._logHandler.apply(this,[this,_n.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_n.WARN].concat(t)),this._logHandler.apply(this,[this,_n.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_n.ERROR].concat(t)),this._logHandler.apply(this,[this,_n.ERROR].concat(t))}}]),e}();var Rn=function(){function e(t){Ct(this,e),this.container=t}return At(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var jn="@firebase/app",Dn="0.7.11",Ln=new Pn("@firebase/app"),Mn="[DEFAULT]",Un=(kt(Tn={},jn,"fire-core"),kt(Tn,"@firebase/app-compat","fire-core-compat"),kt(Tn,"@firebase/analytics","fire-analytics"),kt(Tn,"@firebase/analytics-compat","fire-analytics-compat"),kt(Tn,"@firebase/app-check","fire-app-check"),kt(Tn,"@firebase/app-check-compat","fire-app-check-compat"),kt(Tn,"@firebase/auth","fire-auth"),kt(Tn,"@firebase/auth-compat","fire-auth-compat"),kt(Tn,"@firebase/database","fire-rtdb"),kt(Tn,"@firebase/database-compat","fire-rtdb-compat"),kt(Tn,"@firebase/functions","fire-fn"),kt(Tn,"@firebase/functions-compat","fire-fn-compat"),kt(Tn,"@firebase/installations","fire-iid"),kt(Tn,"@firebase/installations-compat","fire-iid-compat"),kt(Tn,"@firebase/messaging","fire-fcm"),kt(Tn,"@firebase/messaging-compat","fire-fcm-compat"),kt(Tn,"@firebase/performance","fire-perf"),kt(Tn,"@firebase/performance-compat","fire-perf-compat"),kt(Tn,"@firebase/remote-config","fire-rc"),kt(Tn,"@firebase/remote-config-compat","fire-rc-compat"),kt(Tn,"@firebase/storage","fire-gcs"),kt(Tn,"@firebase/storage-compat","fire-gcs-compat"),kt(Tn,"@firebase/firestore","fire-fst"),kt(Tn,"@firebase/firestore-compat","fire-fst-compat"),kt(Tn,"fire-js","fire-js"),kt(Tn,"firebase","fire-js-all"),Tn),Fn=new Map,Vn=new Map;function zn(e,t){try{e.container.addComponent(t)}catch(n){Ln.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Bn(e,t){e.container.addOrOverwriteComponent(t)}function qn(e){var t=e.name;if(Vn.has(t))return Ln.debug("There were multiple attempts to register component ".concat(t,".")),!1;Vn.set(t,e);var n,r=Ot(Fn.values());try{for(r.s();!(n=r.n()).done;){zn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Hn(e,t){return e.container.getProvider(t)}function Wn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mn;Hn(e,t).clearInstance(n)}function Kn(){Vn.clear()}var Gn,Qn,$n=(kt(In={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),kt(In,"bad-app-name","Illegal App name: '{$appName}"),kt(In,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),kt(In,"app-deleted","Firebase App named '{$appName}' already deleted"),kt(In,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),kt(In,"invalid-log-argument","First argument to `onLog` must be null or a function."),In),Yn=new rn("app","Firebase",$n),Jn=function(){function e(t,n,r){var i=this;Ct(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wn("app",(function(){return i}),"PUBLIC"))}return At(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}]),e}(),Xn="9.6.1";function Zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Yn.create("bad-app-name",{appName:String(i)});var a=Fn.get(i);if(a){if(un(e,a.options)&&un(r,a.config))return a;throw Yn.create("duplicate-app",{appName:i})}var o,s=new Sn(i),u=Ot(Vn.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Jn(e,r,s);return Fn.set(i,l),l}function er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mn,t=Fn.get(e);if(!t)throw Yn.create("no-app",{appName:e});return t}function tr(){return Array.from(Fn.values())}function nr(e){return rr.apply(this,arguments)}function rr(){return(rr=Et(Tt.mark((function e(t){var n;return Tt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Fn.has(n)){e.next=6;break}return Fn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ir(e,t,n){var r,i=null!==(r=Un[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ln.warn(s.join(" "))}qn(new wn("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function ar(e,t){if(null!==e&&"function"!==typeof e)throw Yn.create("invalid-log-argument");!function(e,t){var n,r=Ot(En);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Cn[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:_n[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function or(e){var t;t=e,En.forEach((function(e){e.setLogLevel(t)}))}Gn="",qn(new wn("platform-logger",(function(e){return new Rn(e)}),"PRIVATE")),ir(jn,Dn,Gn),ir(jn,Dn,"esm2017"),ir("fire-js","");var sr=function(){function e(t,n){var r=this;Ct(this,e),this._delegate=t,this.firebase=n,zn(t,new wn("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return At(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),nr(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){zn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Bn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ur=(kt(Qn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),kt(Qn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Qn),cr=new rn("app-compat","Firebase",ur);var lr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Zn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(sn(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ir,setLogLevel:or,onLog:ar,apps:null,SDK_VERSION:Xn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(qn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw cr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Kt(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!sn(n,e=e||Mn))throw cr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(sr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Kt(n,e)},createSubscribe:dn,ErrorFactory:rn,deepExtend:Kt}),n}(),fr=new Pn("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){fr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var hr=self.firebase.SDK_VERSION;hr&&hr.indexOf("LITE")>=0&&fr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var dr=lr;!function(e){ir("@firebase/app-compat","0.1.12",e)}();dr.registerVersion("firebase","9.6.1","app-compat");var pr="firebasestorage.googleapis.com",vr=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,mr(e),"Firebase Storage: ".concat(r," (").concat(mr(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Pt(i),n.prototype),i}return At(n,[{key:"_codeEquals",value:function(e){return mr(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(nn);function mr(e){return"storage/"+e}function yr(){return new vr("unknown","An unknown error occurred, please check the error payload for server response.")}function gr(){return new vr("canceled","User canceled the upload/download.")}function wr(){return new vr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function br(e){return new vr("invalid-argument",e)}function kr(){return new vr("app-deleted","The Firebase app was deleted.")}function xr(e){return new vr("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _r(e,t){return new vr("invalid-format","String does not match format '"+e+"': "+t)}function Sr(e){throw new vr("internal-error","Internal error: "+e)}var Er,Tr=function(){function e(t,n){Ct(this,e),this.bucket=t,this.path_=n}return At(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new vr("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===pr?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new vr("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Ir=function(){function e(t){Ct(this,e),this.promise_=Promise.reject(t)}return At(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Cr(e){return"string"===typeof e||e instanceof String}function Nr(e){return Ar()&&e instanceof Blob}function Ar(){return"undefined"!==typeof Blob}function Or(e,t,n,r){if(r<t)throw br("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw br("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Pr(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Rr(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Er||(Er={}));var jr=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;Ct(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return At(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=yr();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?kr():gr());else i(new vr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new Dr(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Dr(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Er.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new Dr(o,r))}else{var s=r.getErrorCode()===Er.ABORT;t(!1,new Dr(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),Dr=At((function e(t,n,r){Ct(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Lr(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Mr(){for(var e=Lr(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Ar())return new Blob(n);throw new vr("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Ur={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Fr=At((function e(t,n){Ct(this,e),this.data=t,this.contentType=n||null}));function Vr(e,t){switch(e){case Ur.RAW:return new Fr(zr(t));case Ur.BASE64:case Ur.BASE64URL:return new Fr(Br(e,t));case Ur.DATA_URL:return new Fr(function(e){var t=new qr(e);return t.base64?Br(Ur.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw _r(Ur.DATA_URL,"Malformed data URL.")}return zr(t)}(t.rest)}(t),new qr(t).contentType)}throw yr()}function zr(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Br(e,t){switch(e){case Ur.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw _r(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Ur.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw _r(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw _r(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var qr=At((function e(t){Ct(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw _r(Ur.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Hr=function(){function e(t,n){Ct(this,e);var r=0,i="";Nr(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return At(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Nr(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Ar()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Mr.apply(null,i))}var a=n.map((function(e){return Cr(e)?Vr(Ur.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function Wr(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Kr(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Gr(e,t){return t}var Qr=At((function e(t,n,r,i){Ct(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Gr})),$r=null;function Yr(){if($r)return $r;var e=[];e.push(new Qr("bucket")),e.push(new Qr("generation")),e.push(new Qr("metageneration")),e.push(new Qr("name","fullPath",!0));var t=new Qr("name");t.xform=function(e,t){return function(e){return!Cr(e)||e.length<2?e:Kr(e)}(t)},e.push(t);var n=new Qr("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Qr("timeCreated")),e.push(new Qr("updated")),e.push(new Qr("md5Hash",null,!0)),e.push(new Qr("cacheControl",null,!0)),e.push(new Qr("contentDisposition",null,!0)),e.push(new Qr("contentEncoding",null,!0)),e.push(new Qr("contentLanguage",null,!0)),e.push(new Qr("contentType",null,!0)),e.push(new Qr("metadata","customMetadata",!0)),$r=e}function Jr(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Tr(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Xr(e,t,n){var r=Wr(t);return null===r?null:Jr(e,r,n)}function Zr(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function ei(e,t,n){var r=Wr(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Ot(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new Tr(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=Ot(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new Tr(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var ti=At((function e(t,n,r,i){Ct(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function ni(e){if(!e)throw yr()}function ri(e,t){return function(n,r){var i=Xr(e,r,t);return ni(null!==i),i}}function ii(e,t){return function(n,r){var i=Xr(e,r,t);return ni(null!==i),function(e,t,n,r){var i=Wr(t);if(null===i)return null;if(!Cr(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Pr("/b/"+o(i)+"/o/"+o(a),n,r)+Rr({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function ai(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new vr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new vr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new vr("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new vr("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function oi(e){var t=ai(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new vr("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function si(e,t,n){var r=Pr(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new ti(r,"GET",ri(e,n),i);return a.errorHandler=oi(t),a}function ui(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=Pr(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new ti(o,"GET",function(e,t){return function(n,r){var i=ei(e,t,r);return ni(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=ai(t),u}function ci(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function li(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=ci(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Zr(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=Hr.getBlob(c,r,l);if(null===f)throw wr();var h={name:u.fullPath},d=Pr(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new ti(d,"POST",ri(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=ai(t),v}var fi=At((function e(t,n,r,i){Ct(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function hi(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){ni(!1)}return ni(!!n&&-1!==(t||["active"]).indexOf(n)),n}var di=262144;function pi(e,t,n,r,i,a,o,s){var u=new fi(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new vr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw wr();var v=t.maxUploadRetryTime,m=new ti(n,"POST",(function(e,n){var i,o=hi(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?ri(t,a)(e,n):null,new fi(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=ai(e),m}var vi={STATE_CHANGED:"state_changed"},mi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yi(e){switch(e){case"running":case"pausing":case"canceling":return mi.RUNNING;case"paused":return mi.PAUSED;case"success":return mi.SUCCESS;case"canceled":return mi.CANCELED;default:return mi.ERROR}}var gi=At((function e(t,n,r){Ct(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function wi(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var bi=function(){function e(){var t=this;Ct(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Er.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Er.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Er.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return At(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Sr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Sr("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Sr("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Sr("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Sr("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),ki=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return At(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(bi);function xi(){return new ki}var _i=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Ct(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Yr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return At(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=u(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=ci(t,r,i),s={name:o.fullPath},u=Pr(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=Zr(o,n),f=e.maxUploadRetryTime,h=new ti(u,"POST",(function(e){var t;hi(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){ni(!1)}return ni(Cr(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=ai(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,xi,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new ti(n,"POST",(function(e){var t=hi(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){ni(!1)}n||ni(!1);var i=Number(n);return ni(!isNaN(i)),new fi(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=ai(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,xi,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=di*this._chunkMultiplier,n=new fi(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=pi(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,xi,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){di*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=si(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,xi,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=li(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,xi,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=gr(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=yi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new gi(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(yi(this._state)){case mi.SUCCESS:wi(this._resolve.bind(null,this.snapshot))();break;case mi.CANCELED:case mi.ERROR:wi(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(yi(this._state)){case mi.RUNNING:case mi.PAUSED:e.next&&wi(e.next.bind(e,this.snapshot))();break;case mi.SUCCESS:e.complete&&wi(e.complete.bind(e))();break;default:e.error&&wi(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),Si=function(){function e(t,n){Ct(this,e),this._service=t,this._location=n instanceof Tr?n:Tr.makeFromUrl(n,t.host)}return At(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Tr(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Kr(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Tr(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw xr(e)}}]),e}();function Ei(e,t,n){return Ti.apply(this,arguments)}function Ti(){return(Ti=Et(It().mark((function e(t,n,r){var i,a,o,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,Ii(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,gn(s.prefixes)),(a=n.items).push.apply(a,gn(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,Ei(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ii(e,t){null!=t&&"number"===typeof t.maxResults&&Or("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=ui(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,xi)}function Ci(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=Pr(t.fullServerUrl(),e.host,e._protocol),a=Zr(n,r),o=e.maxOperationRetryTime,s=new ti(i,"PATCH",ri(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=oi(t),s}(e.storage,e._location,t,Yr());return e.storage.makeRequestWithTokens(n,xi)}function Ni(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Pr(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new ti(r,"GET",ii(e,n),i);return a.errorHandler=oi(t),a}(e.storage,e._location,Yr());return e.storage.makeRequestWithTokens(t,xi).then((function(e){if(null===e)throw new vr("no-download-url","The given file does not have any download URLs.");return e}))}function Ai(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=Pr(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new ti(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=oi(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,xi)}function Oi(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Tr(e._location.bucket,n);return new Si(e.storage,r)}function Pi(e,t){if(e instanceof Li){var n=e;if(null==n._bucket)throw new vr("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Si(n,n._bucket);return null!=t?Pi(r,t):r}return void 0!==t?Oi(e,t):e}function Ri(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Li)return new Si(e,t);throw br("To use ref(service, url), the first argument must be a Storage instance.")}return Pi(e,t)}function ji(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Tr.makeFromBucketSpec(n,e)}function Di(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Qt(i,e.app.options.projectId))}var Li=function(){function e(t,n,r,i,a){Ct(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=pr,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Tr.makeFromBucketSpec(i,this._host):ji(this._host,this.app.options)}return At(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Tr.makeFromBucketSpec(this._url,e):this._bucket=ji(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Or("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Or("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Et(It().mark((function e(){var t,n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Et(It().mark((function e(){var t,n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Si(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new Ir(kr());var a=function(e,t,n,r,i,a){var o=Rr(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new jr(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Et(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=u(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Mi="@firebase/storage",Ui="0.9.0",Fi="storage";function Vi(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new _i(e,new Hr(t),n)}(e=mn(e),t,n)}function zi(e){return function(e){e._throwIfRoot("getMetadata");var t=si(e.storage,e._location,Yr());return e.storage.makeRequestWithTokens(t,xi)}(e=mn(e))}function Bi(e){return function(e){var t={prefixes:[],items:[]};return Ei(e,t).then((function(){return t}))}(e=mn(e))}function qi(e,t){return Ri(e=mn(e),t)}function Hi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Di(e,t,n,r)}function Wi(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Li(r,i,a,n,Xn)}qn(new wn(Fi,Wi,"PUBLIC").setMultipleInstances(!0)),ir(Mi,Ui,""),ir(Mi,Ui,"esm2017");var Ki=function(){function e(t,n,r){Ct(this,e),this._delegate=t,this.task=n,this.ref=r}return At(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),Gi=function(){function e(t,n){Ct(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return At(e,[{key:"snapshot",get:function(){return new Ki(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Ki(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new Ki(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Ki(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),Qi=function(){function e(t,n){Ct(this,e),this._delegate=t,this._service=n}return At(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new $i(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new $i(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),$i=function(){function e(t,n){Ct(this,e),this._delegate=t,this.storage=n}return At(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return Oi(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new Gi(Vi(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ur.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=Vr(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Gi(new _i(this._delegate,new Hr(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Bi(this._delegate).then((function(t){return new Qi(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return Ii(e=mn(e),t)}(this._delegate,e||void 0).then((function(e){return new Qi(e,t.storage)}))}},{key:"getMetadata",value:function(){return zi(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return Ci(e=mn(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return Ni(mn(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),Ai(mn(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw xr(e)}}]),e}(),Yi=function(){function e(t,n){Ct(this,e),this.app=t,this._delegate=n}return At(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(Ji(e))throw br("ref() expected a child path but got a URL, use refFromURL instead.");return new $i(qi(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!Ji(e))throw br("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Tr.makeFromUrl(e,this._delegate.host)}catch(t){throw br("refFromUrl() expected a valid full URL but got an invalid one.")}return new $i(qi(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Hi(this._delegate,e,t,n)}}]),e}();function Ji(e){return/^[A-Za-z]+:\/\//.test(e)}function Xi(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Yi(r,i)}function Zi(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dt(e)););return e}function ea(){return ea="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Zi(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ea.apply(this,arguments)}!function(e){var t={TaskState:mi,TaskEvent:vi,StringFormat:Ur,Storage:Yi,Reference:$i};e.INTERNAL.registerComponent(new wn("storage-compat",Xi,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.8")}(dr);var ta,na="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ra={},ia=ia||{},aa=na||self;function oa(){}function sa(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ua(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ca="closure_uid_"+(1e9*Math.random()>>>0),la=0;function fa(e,t,n){return e.call.apply(e.bind,arguments)}function ha(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function da(e,t,n){return(da=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ha).apply(null,arguments)}function pa(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function va(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ma(){this.s=this.s,this.o=this.o}var ya={};ma.prototype.s=!1,ma.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ca)&&e[ca]||(e[ca]=++la)}(this);delete ya[e]}},ma.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ga=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},wa=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ba(e){return Array.prototype.concat.apply([],arguments)}function ka(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function xa(e){return/^[\s\xa0]*$/.test(e)}var _a,Sa=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ea(e,t){return-1!=e.indexOf(t)}function Ta(e,t){return e<t?-1:e>t?1:0}e:{var Ia=aa.navigator;if(Ia){var Ca=Ia.userAgent;if(Ca){_a=Ca;break e}}_a=""}function Na(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Aa(e){var t={};for(var n in e)t[n]=e[n];return t}var Oa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pa(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Oa.length;a++)n=Oa[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ra(e){return Ra[" "](e),e}Ra[" "]=oa;var ja,Da=Ea(_a,"Opera"),La=Ea(_a,"Trident")||Ea(_a,"MSIE"),Ma=Ea(_a,"Edge"),Ua=Ma||La,Fa=Ea(_a,"Gecko")&&!(Ea(_a.toLowerCase(),"webkit")&&!Ea(_a,"Edge"))&&!(Ea(_a,"Trident")||Ea(_a,"MSIE"))&&!Ea(_a,"Edge"),Va=Ea(_a.toLowerCase(),"webkit")&&!Ea(_a,"Edge");function za(){var e=aa.document;return e?e.documentMode:void 0}e:{var Ba="",qa=function(){var e=_a;return Fa?/rv:([^\);]+)(\)|;)/.exec(e):Ma?/Edge\/([\d\.]+)/.exec(e):La?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Va?/WebKit\/(\S+)/.exec(e):Da?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(qa&&(Ba=qa?qa[1]:""),La){var Ha=za();if(null!=Ha&&Ha>parseFloat(Ba)){ja=String(Ha);break e}}ja=Ba}var Wa,Ka={};function Ga(){return function(e){var t=Ka;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Sa(String(ja)).split("."),n=Sa("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ta(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ta(0==a[2].length,0==o[2].length)||Ta(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(aa.document&&La){var Qa=za();Wa=Qa||(parseInt(ja,10)||void 0)}else Wa=void 0;var $a=Wa,Ya=function(){if(!aa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{aa.addEventListener("test",oa,t),aa.removeEventListener("test",oa,t)}catch(n){}return e}();function Ja(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Xa(e,t){if(Ja.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Fa){e:{try{Ra(t.nodeName);var i=!0;break e}catch(CC){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Za[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xa.Z.h.call(this)}}Ja.prototype.h=function(){this.defaultPrevented=!0},va(Xa,Ja);var Za={2:"touch",3:"pen",4:"mouse"};Xa.prototype.h=function(){Xa.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var eo="closure_listenable_"+(1e6*Math.random()|0),to=0;function no(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++to,this.ca=this.fa=!1}function ro(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function io(e){this.src=e,this.g={},this.h=0}function ao(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ga(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ro(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function oo(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}io.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=oo(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new no(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var so="closure_lm_"+(1e6*Math.random()|0),uo={};function co(e,t,n,r,i){if(r&&r.once)return fo(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)co(e,t[a],n,r,i);return null}return n=wo(n),e&&e[eo]?e.N(t,n,ua(r)?!!r.capture:!!r,i):lo(e,t,n,!1,r,i)}function lo(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ua(i)?!!i.capture:!!i,s=yo(e);if(s||(e[so]=s=new io(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=mo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ya||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function fo(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)fo(e,t[a],n,r,i);return null}return n=wo(n),e&&e[eo]?e.O(t,n,ua(r)?!!r.capture:!!r,i):lo(e,t,n,!0,r,i)}function ho(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ho(e,t[a],n,r,i);else r=ua(r)?!!r.capture:!!r,n=wo(n),e&&e[eo]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=oo(a=e.g[t],n,r,i))&&(ro(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=yo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=oo(t,n,r,i)),(n=-1<e?t[e]:null)&&po(n))}function po(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[eo])ao(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=yo(t))?(ao(n,e),0==n.h&&(n.src=null,t[so]=null)):ro(e)}}}function vo(e){return e in uo?uo[e]:uo[e]="on"+e}function mo(e,t){if(e.ca)e=!0;else{t=new Xa(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&po(e),e=n.call(r,t)}return e}function yo(e){return(e=e[so])instanceof io?e:null}var go="__closure_events_fn_"+(1e9*Math.random()>>>0);function wo(e){return"function"===typeof e?e:(e[go]||(e[go]=function(t){return e.handleEvent(t)}),e[go])}function bo(){ma.call(this),this.i=new io(this),this.P=this,this.I=null}function ko(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ja(t,e);else if(t instanceof Ja)t.target=t.target||e;else{var i=t;Pa(t=new Ja(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=xo(o,r,!0,t)&&i}if(i=xo(o=t.g=e,r,!0,t)&&i,i=xo(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=xo(o=t.g=n[a],r,!1,t)&&i}function xo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&ao(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}va(bo,ma),bo.prototype[eo]=!0,bo.prototype.removeEventListener=function(e,t,n,r){ho(this,e,t,n,r)},bo.prototype.M=function(){if(bo.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ro(n[r]);delete t.g[e],t.h--}}this.I=null},bo.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},bo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var _o=aa.JSON.stringify;function So(){var e=Po,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Eo,To=function(){function e(){Ct(this,e),this.h=this.g=null}return At(e,[{key:"add",value:function(e,t){var n=Io.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Io=new(function(){function e(t,n){Ct(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return At(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Co}),(function(e){return e.reset()})),Co=function(){function e(){Ct(this,e),this.next=this.g=this.h=null}return At(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function No(e){aa.setTimeout((function(){throw e}),0)}function Ao(e,t){Eo||function(){var e=aa.Promise.resolve(void 0);Eo=function(){e.then(Ro)}}(),Oo||(Eo(),Oo=!0),Po.add(e,t)}var Oo=!1,Po=new To;function Ro(){for(var e;e=So();){try{e.h.call(e.g)}catch(n){No(n)}var t=Io;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Oo=!1}function jo(e,t){bo.call(this),this.h=e||1,this.g=t||aa,this.j=da(this.kb,this),this.l=Date.now()}function Do(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Lo(e,t,n){if("function"===typeof e)n&&(e=da(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=da(e.handleEvent,e)}return 2147483647<Number(t)?-1:aa.setTimeout(e,t||0)}function Mo(e){e.g=Lo((function(){e.g=null,e.i&&(e.i=!1,Mo(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}va(jo,bo),(ta=jo.prototype).da=!1,ta.S=null,ta.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ko(this,"tick"),this.da&&(Do(this),this.start()))}},ta.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ta.M=function(){jo.Z.M.call(this),Do(this),delete this.g};var Uo=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return At(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Mo(this)}},{key:"M",value:function(){ea(Dt(n.prototype),"M",this).call(this),this.g&&(aa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ma);function Fo(e){ma.call(this),this.h=e,this.g={}}va(Fo,ma);var Vo=[];function zo(e,t,n,r){Array.isArray(n)||(n&&(Vo[0]=n.toString()),n=Vo);for(var i=0;i<n.length;i++){var a=co(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Bo(e){Na(e.g,(function(e,t){this.g.hasOwnProperty(t)&&po(e)}),e),e.g={}}function qo(){this.g=!0}function Ho(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return _o(n)}catch(kC){return t}}(e,n)+(r?" "+r:"")}))}Fo.prototype.M=function(){Fo.Z.M.call(this),Bo(this)},Fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qo.prototype.Aa=function(){this.g=!1},qo.prototype.info=function(){};var Wo={},Ko=null;function Go(){return Ko=Ko||new bo}function Qo(e){Ja.call(this,Wo.Ma,e)}function $o(e){var t=Go();ko(t,new Qo(t,e))}function Yo(e,t){Ja.call(this,Wo.STAT_EVENT,e),this.stat=t}function Jo(e){var t=Go();ko(t,new Yo(t,e))}function Xo(e,t){Ja.call(this,Wo.Na,e),this.size=t}function Zo(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return aa.setTimeout((function(){e()}),t)}Wo.Ma="serverreachability",va(Qo,Ja),Wo.STAT_EVENT="statevent",va(Yo,Ja),Wo.Na="timingevent",va(Xo,Ja);var es={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ts={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ns(){}function rs(e){return e.h||(e.h=e.i())}function is(){}ns.prototype.h=null;var as,os={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ss(){Ja.call(this,"d")}function us(){Ja.call(this,"c")}function cs(){}function ls(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Fo(this),this.P=hs,e=Ua?125:void 0,this.W=new jo(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fs}function fs(){this.i=null,this.g="",this.h=!1}va(ss,Ja),va(us,Ja),va(cs,ns),cs.prototype.g=function(){return new XMLHttpRequest},cs.prototype.i=function(){return{}},as=new cs;var hs=45e3,ds={},ps={};function vs(e,t,n){e.K=1,e.v=Us(Ps(t)),e.s=n,e.U=!0,ms(e,null)}function ms(e,t){e.F=Date.now(),bs(e),e.A=Ps(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Js(n.h,"t",r),e.C=0,n=e.l.H,e.h=new fs,e.g=Xu(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Uo(da(e.Ia,e,e.g),e.O)),zo(e.V,e.g,"readystatechange",e.gb),t=e.H?Aa(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),$o(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ys(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function gs(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ws(e,n))==ps){4==t&&(e.o=4,Jo(14),i=!1),Ho(e.j,e.m,null,"[Incomplete Response]");break}if(r==ds){e.o=4,Jo(15),Ho(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ho(e.j,e.m,r,null),Es(e,r)}ys(e)&&r!=ps&&r!=ds&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Jo(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hu(t),t.L=!0,Jo(11))):(Ho(e.j,e.m,n,"[Invalid Chunked Response]"),Ss(e),_s(e))}function ws(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ps:(n=Number(t.substring(n,r)),isNaN(n)?ds:(r+=1)+n>t.length?ps:(t=t.substr(r,n),e.C=r+n,t))}function bs(e){e.Y=Date.now()+e.P,ks(e,e.P)}function ks(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Zo(da(e.eb,e),t)}function xs(e){e.B&&(aa.clearTimeout(e.B),e.B=null)}function _s(e){0==e.l.G||e.I||Gu(e.l,e)}function Ss(e){xs(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Do(e.W),Bo(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Es(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||iu(n.i,e)))if(n.I=e.N,!e.J&&iu(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ku(n),Du(n)}qu(n),Jo(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Zo(da(n.ab,n),6e3));if(1>=ru(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else $u(n,11)}else if((e.J||n.g==e)&&Ku(n),!xa(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ea(l,"spdy")||Ea(l,"quic")||Ea(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(au(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ms(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Ju(r,r.H?r.la:null,r.W),d.J){ou(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(xs(p),bs(p)),r.g=d}else Bu(r);0<n.l.length&&Uu(n)}else"stop"!=a[0]&&"close"!=a[0]||$u(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?$u(n,7):ju(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}$o(4)}catch(a){}}function Ts(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(sa(e)||"string"===typeof e)wa(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(sa(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(sa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Is(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Is)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Cs(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ns(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ns(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ns(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ta=ls.prototype).setTimeout=function(e){this.P=e},ta.gb=function(e){e=e.target;var t=this.L;t&&3==Nu(e)?t.l():this.Ia(e)},ta.Ia=function(e){try{if(e==this.g)e:{var t=Nu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ua||this.g&&(this.h.h||this.g.ga()||Au(this.g)))){this.I||4!=t||7==n||$o(8==n||0>=r?3:2),xs(this);var i=this.g.ba();this.N=i;t:if(ys(this)){var a=Au(this.g);e="";var o=a.length,s=4==Nu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ss(this),_s(this);var u="";break t}this.h.i=new aa.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xa(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Jo(12),Ss(this),_s(this);break e}Ho(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Es(this,i)}this.U?(gs(this,t,u),Ua&&this.i&&3==t&&(zo(this.V,this.W,"tick",this.fb),this.W.start())):(Ho(this.j,this.m,u,null),Es(this,u)),4==t&&Ss(this),this.i&&!this.I&&(4==t?Gu(this.l,this):(this.i=!1,bs(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Jo(12)):(this.o=0,Jo(13)),Ss(this),_s(this)}}}catch(t){}},ta.fb=function(){if(this.g){var e=Nu(this.g),t=this.g.ga();this.C<t.length&&(xs(this),gs(this,e,t),this.i&&4!=e&&bs(this))}},ta.cancel=function(){this.I=!0,Ss(this)},ta.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&($o(3),Jo(17)),Ss(this),this.o=2,_s(this)):ks(this,this.Y-e)},(ta=Is.prototype).R=function(){Cs(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ta.T=function(){return Cs(this),this.g.concat()},ta.get=function(e,t){return Ns(this.h,e)?this.h[e]:t},ta.set=function(e,t){Ns(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ta.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var As=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Os(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Os){this.g=void 0!==t?t:e.g,Rs(this,e.j),this.s=e.s,js(this,e.i),Ds(this,e.m),this.l=e.l,t=e.h;var n=new Gs;n.i=t.i,t.g&&(n.g=new Is(t.g),n.h=t.h),Ls(this,n),this.o=e.o}else e&&(n=String(e).match(As))?(this.g=!!t,Rs(this,n[1]||"",!0),this.s=Fs(n[2]||""),js(this,n[3]||"",!0),Ds(this,n[4]),this.l=Fs(n[5]||"",!0),Ls(this,n[6]||"",!0),this.o=Fs(n[7]||"")):(this.g=!!t,this.h=new Gs(null,this.g))}function Ps(e){return new Os(e)}function Rs(e,t,n){e.j=n?Fs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function js(e,t,n){e.i=n?Fs(t,!0):t}function Ds(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ls(e,t,n){t instanceof Gs?(e.h=t,function(e,t){t&&!e.j&&(Qs(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&($s(this,t),Js(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Vs(t,Ws)),e.h=new Gs(t,e.g))}function Ms(e,t,n){e.h.set(t,n)}function Us(e){return Ms(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Fs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vs(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,zs),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zs(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Os.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vs(t,Bs,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Vs(t,Bs,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vs(n,"/"==n.charAt(0)?Hs:qs,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Vs(n,Ks)),e.join("")};var Bs=/[#\/\?@]/g,qs=/[#\?:]/g,Hs=/[#\?]/g,Ws=/[#\?@]/g,Ks=/#/g;function Gs(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Qs(e){e.g||(e.g=new Is,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function $s(e,t){Qs(e),t=Xs(e,t),Ns(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ns((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Cs(e)))}function Ys(e,t){return Qs(e),t=Xs(e,t),Ns(e.g.h,t)}function Js(e,t,n){$s(e,t),0<n.length&&(e.i=null,e.g.set(Xs(e,t),ka(n)),e.h+=n.length)}function Xs(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ta=Gs.prototype).add=function(e,t){Qs(this),this.i=null,e=Xs(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ta.forEach=function(e,t){Qs(this),this.g.forEach((function(n,r){wa(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ta.T=function(){Qs(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ta.R=function(e){Qs(this);var t=[];if("string"===typeof e)Ys(this,e)&&(t=ba(t,this.g.get(Xs(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ba(t,e[n])}return t},ta.set=function(e,t){return Qs(this),this.i=null,Ys(this,e=Xs(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ta.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ta.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Zs=At((function e(t,n){Ct(this,e),this.h=t,this.g=n}));function eu(e){this.l=e||tu,aa.PerformanceNavigationTiming?e=0<(e=aa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(aa.g&&aa.g.Ea&&aa.g.Ea()&&aa.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tu=10;function nu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ru(e){return e.h?1:e.g?e.g.size:0}function iu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function au(e,t){e.g?e.g.add(t):e.h=t}function ou(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function su(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ot(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return ka(e.i)}function uu(){}function cu(){this.g=new uu}function lu(e,t,n){var r=n||"";try{Ts(e,(function(e,n){var i=e;ua(e)&&(i=_o(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function fu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(CC){}}function hu(e){this.l=e.$b||null,this.j=e.ib||!1}function du(e,t){bo.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=pu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eu.prototype.cancel=function(){if(this.i=su(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ot(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},uu.prototype.stringify=function(e){return aa.JSON.stringify(e,void 0)},uu.prototype.parse=function(e){return aa.JSON.parse(e,void 0)},va(hu,ns),hu.prototype.g=function(){return new du(this.l,this.j)},hu.prototype.i=function(e){return function(){return e}}({}),va(du,bo);var pu=0;function vu(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function mu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,yu(e)}function yu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ta=du.prototype).open=function(e,t){if(this.readyState!=pu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,yu(this)},ta.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||aa).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ta.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mu(this)),this.readyState=pu},ta.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,yu(this)),this.g&&(this.readyState=3,yu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof aa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vu(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ta.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mu(this):yu(this),3==this.readyState&&vu(this)}},ta.Ua=function(e){this.g&&(this.response=this.responseText=e,mu(this))},ta.Ta=function(e){this.g&&(this.response=e,mu(this))},ta.ha=function(){this.g&&mu(this)},ta.setRequestHeader=function(e,t){this.v.append(e,t)},ta.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ta.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(du.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var gu=aa.JSON.parse;function wu(e){bo.call(this),this.headers=new Is,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bu,this.K=this.L=!1}va(wu,bo);var bu="",ku=/^https?$/i,xu=["POST","PUT"];function _u(e){return"content-type"==e.toLowerCase()}function Su(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Eu(e),Iu(e)}function Eu(e){e.D||(e.D=!0,ko(e,"complete"),ko(e,"error"))}function Tu(e){if(e.h&&"undefined"!=typeof ia&&(!e.C[1]||4!=Nu(e)||2!=e.ba()))if(e.v&&4==Nu(e))Lo(e.Fa,0,e);else if(ko(e,"readystatechange"),4==Nu(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(As)[1]||null;if(!a&&aa.self&&aa.self.location){var o=aa.self.location.protocol;a=o.substr(0,o.length-1)}i=!ku.test(a?a.toLowerCase():"")}t=i}if(t)ko(e,"complete"),ko(e,"success");else{e.m=6;try{var s=2<Nu(e)?e.g.statusText:""}catch(TC){s=""}e.j=s+" ["+e.ba()+"]",Eu(e)}}finally{Iu(e)}}}function Iu(e,t){if(e.g){Cu(e);var n=e.g,r=e.C[0]?oa:null;e.g=null,e.C=null,t||ko(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Cu(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(aa.clearTimeout(e.A),e.A=null)}function Nu(e){return e.g?e.g.readyState:0}function Au(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case bu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(MC){return null}}function Ou(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Na(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ms(e,t,n))}function Pu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ru(e){this.za=0,this.l=[],this.h=new qo,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pu("baseRetryDelayMs",5e3,e),this.$a=Pu("retryDelaySeedMs",1e4,e),this.Ya=Pu("forwardChannelMaxRetries",2,e),this.ra=Pu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new eu(e&&e.concurrentRequestLimit),this.Ca=new cu,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ju(e){if(Lu(e),3==e.G){var t=e.V++,n=Ps(e.F);Ms(n,"SID",e.J),Ms(n,"RID",t),Ms(n,"TYPE","terminate"),Vu(e,n),(t=new ls(e,e.h,t,void 0)).K=2,t.v=Us(Ps(n)),n=!1,aa.navigator&&aa.navigator.sendBeacon&&(n=aa.navigator.sendBeacon(t.v.toString(),"")),!n&&aa.Image&&((new Image).src=t.v,n=!0),n||(t.g=Xu(t.l,null),t.g.ea(t.v)),t.F=Date.now(),bs(t)}Yu(e)}function Du(e){e.g&&(Hu(e),e.g.cancel(),e.g=null)}function Lu(e){Du(e),e.u&&(aa.clearTimeout(e.u),e.u=null),Ku(e),e.i.cancel(),e.m&&("number"===typeof e.m&&aa.clearTimeout(e.m),e.m=null)}function Mu(e,t){e.l.push(new Zs(e.Za++,t)),3==e.G&&Uu(e)}function Uu(e){nu(e.i)||e.m||(e.m=!0,Ao(e.Ha,e),e.C=0)}function Fu(e,t){var n;n=t?t.m:e.V++;var r=Ps(e.F);Ms(r,"SID",e.J),Ms(r,"RID",n),Ms(r,"AID",e.U),Vu(e,r),e.o&&e.s&&Ou(r,e.o,e.s),n=new ls(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=zu(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),au(e.i,n),vs(n,r,t)}function Vu(e,t){e.j&&Ts({},(function(e,n){Ms(t,n,e)}))}function zu(e,t,n){n=Math.min(e.l.length,n);var r=e.j?da(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{lu(l,o,"req"+c+"_")}catch(Ac){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Bu(e){e.g||e.u||(e.Y=1,Ao(e.Ga,e),e.A=0)}function qu(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Zo(da(e.Ga,e),Qu(e,e.A)),e.A++,!0)}function Hu(e){null!=e.B&&(aa.clearTimeout(e.B),e.B=null)}function Wu(e){e.g=new ls(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ps(e.oa);Ms(t,"RID","rpc"),Ms(t,"SID",e.J),Ms(t,"CI",e.N?"0":"1"),Ms(t,"AID",e.U),Vu(e,t),Ms(t,"TYPE","xmlhttp"),e.o&&e.s&&Ou(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Us(Ps(t)),n.s=null,n.U=!0,ms(n,e)}function Ku(e){null!=e.v&&(aa.clearTimeout(e.v),e.v=null)}function Gu(e,t){var n=null;if(e.g==t){Ku(e),Hu(e),e.g=null;var r=2}else{if(!iu(e.i,t))return;n=t.D,ou(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ko(r=Go(),new Xo(r,n,t,i)),Uu(e)}else Bu(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ru(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Zo(da(e.Ha,e,t),Qu(e,e.C)),e.C++,!0))}(e,t)||2==r&&qu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:$u(e,5);break;case 4:$u(e,10);break;case 3:$u(e,6);break;default:$u(e,2)}}function Qu(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function $u(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=da(e.jb,e);n||(n=new Os("//www.google.com/images/cleardot.gif"),aa.location&&"http"==aa.location.protocol||Rs(n,"https"),Us(n)),function(e,t){var n=new qo;if(aa.Image){var r=new Image;r.onload=pa(fu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=pa(fu,n,r,"TestLoadImage: error",!1,t),r.onabort=pa(fu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=pa(fu,n,r,"TestLoadImage: timeout",!1,t),aa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Jo(2);e.G=0,e.j&&e.j.va(t),Yu(e),Lu(e)}function Yu(e){e.G=0,e.I=-1,e.j&&(0==su(e.i).length&&0==e.l.length||(e.i.i.length=0,ka(e.l),e.l.length=0),e.j.ua())}function Ju(e,t,n){var r=function(e){return e instanceof Os?Ps(e):new Os(e,void 0)}(n);if(""!=r.i)t&&js(r,t+"."+r.i),Ds(r,r.m);else{var i=aa.location;r=function(e,t,n,r){var i=new Os(null,void 0);return e&&Rs(i,e),t&&js(i,t),n&&Ds(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Na(e.aa,(function(e,t){Ms(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ms(r,t,n),Ms(r,"VER",e.ma),Vu(e,r),r}function Xu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new wu(new hu({ib:!0})):new wu(e.qa)).L=e.H,t}function Zu(){}function ec(){if(La&&!(10<=Number($a)))throw Error("Environmental error: no available transport.")}function tc(e,t){bo.call(this),this.g=new Ru(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!xa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xa(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ic(this)}function nc(e){ss.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function rc(){us.call(this),this.status=1}function ic(e){this.g=e}(ta=wu.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():as.g(),this.C=this.u?rs(this.u):rs(as),this.g.onreadystatechange=da(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(CC){return void Su(this,CC)}e=n||"";var i=new Is(this.headers);r&&Ts(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=_u,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=aa.FormData&&e instanceof aa.FormData,!(0<=ga(xu,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Cu(this),0<this.B&&((this.K=function(e){return La&&Ga()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=da(this.pa,this)):this.A=Lo(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(CC){Su(this,CC)}},ta.pa=function(){"undefined"!=typeof ia&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ko(this,"timeout"),this.abort(8))},ta.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ko(this,"complete"),ko(this,"abort"),Iu(this))},ta.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Iu(this,!0)),wu.Z.M.call(this)},ta.Fa=function(){this.s||(this.F||this.v||this.l?Tu(this):this.cb())},ta.cb=function(){Tu(this)},ta.ba=function(){try{return 2<Nu(this)?this.g.status:-1}catch(IC){return-1}},ta.ga=function(){try{return this.g?this.g.responseText:""}catch(IC){return""}},ta.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),gu(t)}},ta.Da=function(){return this.m},ta.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ta=Ru.prototype).ma=8,ta.G=1,ta.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(MC){}},ta.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ls(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Pa(n=Aa(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=zu(this,t,r),Ms(i=Ps(this.F),"RID",e),Ms(i,"CVER",22),this.D&&Ms(i,"X-HTTP-Session-Id",this.D),Vu(this,i),this.o&&n&&Ou(i,this.o,n),au(this.i,t),this.Ra&&Ms(i,"TYPE","init"),this.ja?(Ms(i,"$req",r),Ms(i,"SID","null"),t.$=!0,vs(t,i,null)):vs(t,i,r),this.G=2}}else 3==this.G&&(e?Fu(this,e):0==this.l.length||nu(this.i)||Fu(this))},ta.Ga=function(){if(this.u=null,Wu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Zo(da(this.bb,this),e)}},ta.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Jo(10),Du(this),Wu(this))},ta.ab=function(){null!=this.v&&(this.v=null,Du(this),qu(this),Jo(19))},ta.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Jo(2)):(this.h.info("Failed to ping google.com"),Jo(1))},(ta=Zu.prototype).xa=function(){},ta.wa=function(){},ta.va=function(){},ta.ua=function(){},ta.Oa=function(){},ec.prototype.g=function(e,t){return new tc(e,t)},va(tc,bo),tc.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ao(da(e.hb,e,t))),Jo(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Ju(e,null,e.W),Uu(e)},tc.prototype.close=function(){ju(this.g)},tc.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Mu(this.g,t)}else this.v?((t={}).__data__=_o(e),Mu(this.g,t)):Mu(this.g,e)},tc.prototype.M=function(){this.g.j=null,delete this.j,ju(this.g),delete this.g,tc.Z.M.call(this)},va(nc,ss),va(rc,us),va(ic,Zu),ic.prototype.xa=function(){ko(this.g,"a")},ic.prototype.wa=function(e){ko(this.g,new nc(e))},ic.prototype.va=function(e){ko(this.g,new rc(e))},ic.prototype.ua=function(){ko(this.g,"b")},ec.prototype.createWebChannel=ec.prototype.g,tc.prototype.send=tc.prototype.u,tc.prototype.open=tc.prototype.m,tc.prototype.close=tc.prototype.close,es.NO_ERROR=0,es.TIMEOUT=8,es.HTTP_ERROR=6,ts.COMPLETE="complete",is.EventType=os,os.OPEN="a",os.CLOSE="b",os.ERROR="c",os.MESSAGE="d",bo.prototype.listen=bo.prototype.N,wu.prototype.listenOnce=wu.prototype.O,wu.prototype.getLastError=wu.prototype.La,wu.prototype.getLastErrorCode=wu.prototype.Da,wu.prototype.getStatus=wu.prototype.ba,wu.prototype.getResponseJson=wu.prototype.Qa,wu.prototype.getResponseText=wu.prototype.ga,wu.prototype.send=wu.prototype.ea;var ac=ra.createWebChannelTransport=function(){return new ec},oc=ra.getStatEventTarget=function(){return Go()},sc=ra.ErrorCode=es,uc=ra.EventType=ts,cc=ra.Event=Wo,lc=ra.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},fc=ra.FetchXmlHttpFactory=hu,hc=ra.WebChannel=is,dc=ra.XhrIo=wu,pc="@firebase/firestore",vc=function(){function e(t){Ct(this,e),this.uid=t}return At(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();vc.UNAUTHENTICATED=new vc(null),vc.GOOGLE_CREDENTIALS=new vc("google-credentials-uid"),vc.FIRST_PARTY=new vc("first-party-uid"),vc.MOCK_USER=new vc("mock-user");var mc="9.6.1",yc=new Pn("@firebase/firestore");function gc(){return yc.logLevel}function wc(e){if(yc.logLevel<=_n.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(xc);yc.debug.apply(yc,["Firestore (".concat(mc,"): ").concat(e)].concat(gn(i)))}}function bc(e){if(yc.logLevel<=_n.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(xc);yc.error.apply(yc,["Firestore (".concat(mc,"): ").concat(e)].concat(gn(i)))}}function kc(e){if(yc.logLevel<=_n.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(xc);yc.warn.apply(yc,["Firestore (".concat(mc,"): ").concat(e)].concat(gn(i)))}}function xc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function _c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(mc,") INTERNAL ASSERTION FAILED: ")+e;throw bc(t),new Error(t)}function Sc(e,t){e||_c()}function Ec(e,t){return e}var Tc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ic=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return At(n)}(zt(Error)),Cc=At((function e(){var t=this;Ct(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Nc=At((function e(t,n){Ct(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ac=function(){function e(){Ct(this,e)}return At(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(vc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Oc=function(){function e(t){Ct(this,e),this.token=t,this.changeListener=null}return At(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Pc=function(){function e(t){Ct(this,e),this.t=t,this.currentUser=vc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return At(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Cc;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Cc,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){wc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(wc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Cc)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(wc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Sc("string"==typeof n.accessToken),new Nc(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Sc(null===e||"string"==typeof e),new vc(e)}}]),e}(),Rc=At((function e(t,n,r){Ct(this,e),this.type="FirstParty",this.user=vc.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),jc=function(){function e(t,n,r){Ct(this,e),this.h=t,this.l=n,this.m=r}return At(e,[{key:"getToken",value:function(){return Promise.resolve(new Rc(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(vc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Dc=At((function e(t){Ct(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Lc=function(){function e(t){Ct(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return At(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&wc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){wc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):wc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Sc("string"==typeof e.token),new Dc(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Mc=function(){function e(t,n){var r=this;Ct(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return At(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Uc(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Mc.I=-1;var Fc=function(){function e(){Ct(this,e)}return At(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Uc(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Vc(e,t){return e<t?-1:e>t?1:0}function zc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Bc(e){return e+"\0"}var qc=function(){function e(t,n){if(Ct(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Ic(Tc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ic(Tc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ic(Tc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ic(Tc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return At(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Vc(this.nanoseconds,e.nanoseconds):Vc(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Hc=function(){function e(t){Ct(this,e),this.timestamp=t}return At(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new qc(0,0))}}]),e}();function Wc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Kc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Qc=function(){function e(t,n,r){Ct(this,e),void 0===n?n=0:n>t.length&&_c(),void 0===r?r=t.length-n:r>t.length-n&&_c(),this.segments=t,this.offset=n,this.len=r}return At(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),$c=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return At(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Ic(Tc.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,gn(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Qc),Yc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jc=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return At(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Yc.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Ic(Tc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Ic(Tc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ic(Tc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Ic(Tc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Qc),Xc=function(){function e(t){Ct(this,e),this.fields=t,t.sort(Jc.comparator)}return At(e,[{key:"covers",value:function(e){var t,n=Ot(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return zc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Zc=function(){function e(t){Ct(this,e),this.binaryString=t}return At(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Vc(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();Zc.EMPTY_BYTE_STRING=new Zc("");var el=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tl(e){if(Sc(!!e),"string"==typeof e){var t=0,n=el.exec(e);if(Sc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:nl(e.seconds),nanos:nl(e.nanos)}}function nl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function rl(e){return"string"==typeof e?Zc.fromBase64String(e):Zc.fromUint8Array(e)}function il(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function al(e){var t=e.mapValue.fields.__previous_value__;return il(t)?al(t):t}function ol(e){var t=tl(e.mapValue.fields.__local_write_time__.timestampValue);return new qc(t.seconds,t.nanos)}function sl(e){return null==e}function ul(e){return 0===e&&1/e==-1/0}function cl(e){return"number"==typeof e&&Number.isInteger(e)&&!ul(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ll=function(){function e(t){Ct(this,e),this.path=t}return At(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===$c.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e($c.fromString(t))}},{key:"fromName",value:function(t){return new e($c.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return $c.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new $c(t.slice()))}}]),e}();function fl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?il(e)?4:10:_c()}function hl(e,t){var n=fl(e);if(n!==fl(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ol(e).isEqual(ol(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=tl(e.timestampValue),r=tl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return rl(e.bytesValue).isEqual(rl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return nl(e.geoPointValue.latitude)===nl(t.geoPointValue.latitude)&&nl(e.geoPointValue.longitude)===nl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return nl(e.integerValue)===nl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=nl(e.doubleValue),r=nl(t.doubleValue);return n===r?ul(n)===ul(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zc(e.arrayValue.values||[],t.arrayValue.values||[],hl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Wc(n)!==Wc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hl(n[i],r[i])))return!1;return!0}(e,t);default:return _c()}}function dl(e,t){return void 0!==(e.values||[]).find((function(e){return hl(e,t)}))}function pl(e,t){var n=fl(e),r=fl(t);if(n!==r)return Vc(n,r);switch(n){case 0:return 0;case 1:return Vc(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=nl(e.integerValue||e.doubleValue),r=nl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return vl(e.timestampValue,t.timestampValue);case 4:return vl(ol(e),ol(t));case 5:return Vc(e.stringValue,t.stringValue);case 6:return function(e,t){var n=rl(e),r=rl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Vc(n[i],r[i]);if(0!==a)return a}return Vc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Vc(nl(e.latitude),nl(t.latitude));return 0!==n?n:Vc(nl(e.longitude),nl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=pl(n[i],r[i]);if(a)return a}return Vc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Vc(r[o],a[o]);if(0!==s)return s;var u=pl(n[r[o]],i[a[o]]);if(0!==u)return u}return Vc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw _c()}}function vl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Vc(e,t);var n=tl(e),r=tl(t),i=Vc(n.seconds,r.seconds);return 0!==i?i:Vc(n.nanos,r.nanos)}function ml(e){return yl(e)}function yl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=tl(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?rl(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ll.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ot(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=yl(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ot(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(yl(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):_c();var t,n}function gl(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function wl(e){return!!e&&"integerValue"in e}function bl(e){return!!e&&"arrayValue"in e}function kl(e){return!!e&&"nullValue"in e}function xl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _l(e){return!!e&&"mapValue"in e}function Sl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Kc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Sl(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Sl(e.arrayValue.values[r]);return n}return Object.assign({},e)}var El=function(){function e(t){Ct(this,e),this.value=t}return At(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!_l(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(t)}},{key:"setAll",value:function(e){var t=this,n=Jc.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Sl(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());_l(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return hl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];_l(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Kc(t,(function(t,n){return e[t]=n}));var r,i=Ot(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Sl(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Tl(e){var t=[];return Kc(e.fields,(function(e,n){var r=new Jc([e]);if(_l(n)){var i=Tl(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ot(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Xc(t)}var Il=function(){function e(t,n,r,i,a){Ct(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return At(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=El.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=El.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Hc.min(),El.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,El.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,El.empty(),2)}}]),e}(),Cl=At((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ct(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function Nl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Cl(e,t,n,r,i,a,o)}function Al(e){var t=Ec(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ml(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),sl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=ql(t.startAt)),t.endAt&&(n+="|ub:",n+=ql(t.endAt)),t.R=n}return t.R}function Ol(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Wl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!hl(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gl(e.startAt,t.startAt)&&Gl(e.endAt,t.endAt)}function Pl(e){return ll.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Rl=function(e){jt(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return At(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(pl(t,this.value)):null!==t&&fl(this.value)===fl(t)&&this.v(pl(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _c()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new jl(e,t,r):"array-contains"===t?new Ul(e,r):"in"===t?new Fl(e,r):"not-in"===t?new Vl(e,r):"array-contains-any"===t?new zl(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Dl(e,n):new Ll(e,n)}}]),n}(function(){return At((function e(){Ct(this,e)}))}());var jl=function(e){jt(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this,e,r,i)).key=ll.fromName(i.referenceValue),a}return At(n,[{key:"matches",value:function(e){var t=ll.comparator(e.key,this.key);return this.v(t)}}]),n}(Rl),Dl=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e,"in",r)).keys=Ml("in",r),i}return At(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rl),Ll=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e,"not-in",r)).keys=Ml("not-in",r),i}return At(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rl);function Ml(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ll.fromName(e.referenceValue)}))}var Ul=function(e){jt(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"array-contains",r)}return At(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return bl(t)&&dl(t.arrayValue,this.value)}}]),n}(Rl),Fl=function(e){jt(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"in",r)}return At(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&dl(this.value.arrayValue,t)}}]),n}(Rl),Vl=function(e){jt(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"not-in",r)}return At(n,[{key:"matches",value:function(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!dl(this.value.arrayValue,t)}}]),n}(Rl),zl=function(e){jt(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"array-contains-any",r)}return At(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!bl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return dl(t.value.arrayValue,e)}))}}]),n}(Rl),Bl=At((function e(t,n){Ct(this,e),this.position=t,this.before=n}));function ql(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return ml(e)})).join(","))}var Hl=At((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ct(this,e),this.field=t,this.dir=n}));function Wl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Kl(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ll.comparator(ll.fromName(o.referenceValue),n.key):pl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Gl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!hl(e.position[n],t.position[n]))return!1;return!0}var Ql=At((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ct(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function $l(e,t,n,r,i,a,o,s){return new Ql(e,t,n,r,i,a,o,s)}function Yl(e){return new Ql(e)}function Jl(e){return!sl(e.limit)&&"F"===e.limitType}function Xl(e){return!sl(e.limit)&&"L"===e.limitType}function Zl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ef(e){var t,n=Ot(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function tf(e){return null!==e.collectionGroup}function nf(e){var t=Ec(e);if(null===t.S){t.S=[];var n=ef(t),r=Zl(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Hl(n)),t.S.push(new Hl(Jc.keyField(),"asc"));else{var i,a=!1,o=Ot(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Hl(Jc.keyField(),u))}}}return t.S}function rf(e){var t=Ec(e);if(!t.D)if("F"===t.limitType)t.D=Nl(t.path,t.collectionGroup,nf(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ot(nf(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Hl(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Bl(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Bl(t.startAt.position,!t.startAt.before):null;t.D=Nl(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function af(e,t,n){return new Ql(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function of(e,t){return Ol(rf(e),rf(t))&&e.limitType===t.limitType}function sf(e){return"".concat(Al(rf(e)),"|lt:").concat(e.limitType)}function uf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ml(t.value));var t})).join(", "),"]")),sl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+ql(e.startAt)),e.endAt&&(t+=", endAt: "+ql(e.endAt)),"Target(".concat(t,")")}(rf(e)),"; limitType=").concat(e.limitType,")")}function cf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ll.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ot(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ot(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Kl(e.startAt,nf(e),t))&&(!e.endAt||!Kl(e.endAt,nf(e),t))}(e,t)}function lf(e){return function(t,n){var r,i=!1,a=Ot(nf(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=ff(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function ff(e,t,n){var r=e.field.isKeyField()?ll.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?pl(r,i):_c()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _c()}}function hf(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ul(t)?"-0":t}}function df(e){return{integerValue:""+e}}function pf(e,t){return cl(t)?df(t):hf(e,t)}var vf=At((function e(){Ct(this,e),this._=void 0}));function mf(e,t,n){return e instanceof wf?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof bf?kf(e,t):e instanceof xf?_f(e,t):function(e,t){var n=gf(e,t),r=Ef(n)+Ef(e.N);return wl(n)&&wl(e.N)?df(r):hf(e.k,r)}(e,t)}function yf(e,t,n){return e instanceof bf?kf(e,t):e instanceof xf?_f(e,t):n}function gf(e,t){return e instanceof Sf?wl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var wf=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return At(n)}(vf),bf=function(e){jt(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).elements=e,r}return At(n)}(vf);function kf(e,t){var n,r=Tf(t),i=Ot(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return hl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var xf=function(e){jt(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).elements=e,r}return At(n)}(vf);function _f(e,t){var n,r=Tf(t),i=Ot(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!hl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Sf=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).k=e,i.N=r,i}return At(n)}(vf);function Ef(e){return nl(e.integerValue||e.doubleValue)}function Tf(e){return bl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var If=At((function e(t,n){Ct(this,e),this.field=t,this.transform=n}));var Cf=At((function e(t,n){Ct(this,e),this.version=t,this.transformResults=n})),Nf=function(){function e(t,n){Ct(this,e),this.updateTime=t,this.exists=n}return At(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Af(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Of=At((function e(){Ct(this,e)}));function Pf(e,t,n){e instanceof Mf?function(e,t,n){var r=e.value.clone(),i=Vf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Uf?function(e,t,n){if(Af(e.precondition,t)){var r=Vf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ff(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rf(e,t,n){e instanceof Mf?function(e,t,n){if(Af(e.precondition,t)){var r=e.value.clone(),i=zf(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Lf(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Uf?function(e,t,n){if(Af(e.precondition,t)){var r=zf(e.fieldTransforms,n,t),i=t.data;i.setAll(Ff(e)),i.setAll(r),t.convertToFoundDocument(Lf(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Af(e.precondition,t)&&t.convertToNoDocument(Hc.min())}(e,t)}function jf(e,t){var n,r=null,i=Ot(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=gf(a.transform,o||null);null!=s&&(null==r&&(r=El.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Df(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&zc(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof bf&&t instanceof bf||e instanceof xf&&t instanceof xf?zc(e.elements,t.elements,hl):e instanceof Sf&&t instanceof Sf?hl(e.N,t.N):e instanceof wf&&t instanceof wf}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Lf(e){return e.isFoundDocument()?e.version:Hc.min()}var Mf=function(e){jt(n,e);var t=Ft(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ct(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return At(n)}(Of),Uf=function(e){jt(n,e);var t=Ft(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ct(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return At(n)}(Of);function Ff(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Vf(e,t,n){var r=new Map;Sc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,yf(o,s,n[i]))}return r}function zf(e,t,n){var r,i=new Map,a=Ot(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,mf(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Bf,qf,Hf=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return At(n)}(Of),Wf=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return At(n)}(Of),Kf=At((function e(t){Ct(this,e),this.count=t}));function Gf(e){switch(e){default:return _c();case Tc.CANCELLED:case Tc.UNKNOWN:case Tc.DEADLINE_EXCEEDED:case Tc.RESOURCE_EXHAUSTED:case Tc.INTERNAL:case Tc.UNAVAILABLE:case Tc.UNAUTHENTICATED:return!1;case Tc.INVALID_ARGUMENT:case Tc.NOT_FOUND:case Tc.ALREADY_EXISTS:case Tc.PERMISSION_DENIED:case Tc.FAILED_PRECONDITION:case Tc.ABORTED:case Tc.OUT_OF_RANGE:case Tc.UNIMPLEMENTED:case Tc.DATA_LOSS:return!0}}function Qf(e){if(void 0===e)return bc("GRPC error has no .code"),Tc.UNKNOWN;switch(e){case Bf.OK:return Tc.OK;case Bf.CANCELLED:return Tc.CANCELLED;case Bf.UNKNOWN:return Tc.UNKNOWN;case Bf.DEADLINE_EXCEEDED:return Tc.DEADLINE_EXCEEDED;case Bf.RESOURCE_EXHAUSTED:return Tc.RESOURCE_EXHAUSTED;case Bf.INTERNAL:return Tc.INTERNAL;case Bf.UNAVAILABLE:return Tc.UNAVAILABLE;case Bf.UNAUTHENTICATED:return Tc.UNAUTHENTICATED;case Bf.INVALID_ARGUMENT:return Tc.INVALID_ARGUMENT;case Bf.NOT_FOUND:return Tc.NOT_FOUND;case Bf.ALREADY_EXISTS:return Tc.ALREADY_EXISTS;case Bf.PERMISSION_DENIED:return Tc.PERMISSION_DENIED;case Bf.FAILED_PRECONDITION:return Tc.FAILED_PRECONDITION;case Bf.ABORTED:return Tc.ABORTED;case Bf.OUT_OF_RANGE:return Tc.OUT_OF_RANGE;case Bf.UNIMPLEMENTED:return Tc.UNIMPLEMENTED;case Bf.DATA_LOSS:return Tc.DATA_LOSS;default:return _c()}}(qf=Bf||(Bf={}))[qf.OK=0]="OK",qf[qf.CANCELLED=1]="CANCELLED",qf[qf.UNKNOWN=2]="UNKNOWN",qf[qf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qf[qf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qf[qf.NOT_FOUND=5]="NOT_FOUND",qf[qf.ALREADY_EXISTS=6]="ALREADY_EXISTS",qf[qf.PERMISSION_DENIED=7]="PERMISSION_DENIED",qf[qf.UNAUTHENTICATED=16]="UNAUTHENTICATED",qf[qf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qf[qf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qf[qf.ABORTED=10]="ABORTED",qf[qf.OUT_OF_RANGE=11]="OUT_OF_RANGE",qf[qf.UNIMPLEMENTED=12]="UNIMPLEMENTED",qf[qf.INTERNAL=13]="INTERNAL",qf[qf.UNAVAILABLE=14]="UNAVAILABLE",qf[qf.DATA_LOSS=15]="DATA_LOSS";var $f=function(){function e(t,n){Ct(this,e),this.comparator=t,this.root=n||Jf.EMPTY}return At(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jf.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Yf(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Yf(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Yf(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Yf(this.root,e,this.comparator,!0)}}]),e}(),Yf=function(){function e(t,n,r,i){Ct(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return At(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Jf=function(){function e(t,n,r,i,a){Ct(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return At(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw _c();if(this.right.isRed())throw _c();var e=this.left.check();if(e!==this.right.check())throw _c();return e+(this.isRed()?0:1)}}]),e}();Jf.EMPTY=null,Jf.RED=!0,Jf.BLACK=!1,Jf.EMPTY=new(function(){function e(){Ct(this,e),this.size=0}return At(e,[{key:"key",get:function(){throw _c()}},{key:"value",get:function(){throw _c()}},{key:"color",get:function(){throw _c()}},{key:"left",get:function(){throw _c()}},{key:"right",get:function(){throw _c()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Jf(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Xf=function(){function e(t){Ct(this,e),this.comparator=t,this.data=new $f(this.comparator)}return At(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Zf(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Zf(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Zf=function(){function e(t){Ct(this,e),this.iter=t}return At(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),eh=new $f(ll.comparator);function th(){return eh}var nh=new $f(ll.comparator);function rh(){return nh}var ih=new $f(ll.comparator);function ah(){return ih}var oh=new Xf(ll.comparator);function sh(){for(var e=oh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var uh=new Xf(Vc);function ch(){return uh}var lh=function(){function e(t,n,r,i,a){Ct(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return At(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,fh.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Hc.min(),r,ch(),th(),sh())}}]),e}(),fh=function(){function e(t,n,r,i,a){Ct(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return At(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Zc.EMPTY_BYTE_STRING,n,sh(),sh(),sh())}}]),e}(),hh=At((function e(t,n,r,i){Ct(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),dh=At((function e(t,n){Ct(this,e),this.targetId=t,this.O=n})),ph=At((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zc.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ct(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),vh=function(){function e(){Ct(this,e),this.M=0,this.L=gh(),this.B=Zc.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return At(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=sh(),t=sh(),n=sh();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:_c()}})),new fh(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=gh()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),mh=function(){function e(t){Ct(this,e),this.et=t,this.nt=new Map,this.st=th(),this.it=yh(),this.rt=new Xf(Vc)}return At(e,[{key:"ot",value:function(e){var t,n=Ot(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=Ot(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:_c()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(Pl(i))if(0===n){var a=new ll(i.path);this.ct(t,a,Il.newNoDocument(a,Hc.min()))}else Sc(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Pl(a.target)){var o=new ll(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,Il.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=sh();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new lh(e,n,this.rt,this.st,r);return this.st=th(),this.it=yh(),this.rt=new Xf(Vc),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new vh,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new Xf(Vc),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||wc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new vh),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function yh(){return new $f(ll.comparator)}function gh(){return new $f(ll.comparator)}var wh={asc:"ASCENDING",desc:"DESCENDING"},bh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kh=At((function e(t,n){Ct(this,e),this.databaseId=t,this.C=n}));function xh(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function _h(e,t){return e.C?t.toBase64():t.toUint8Array()}function Sh(e,t){return xh(e,t.toTimestamp())}function Eh(e){return Sc(!!e),Hc.fromTimestamp(function(e){var t=tl(e);return new qc(t.seconds,t.nanos)}(e))}function Th(e,t){return function(e){return new $c(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ih(e){var t=$c.fromString(e);return Sc(Xh(t)),t}function Ch(e,t){return Th(e.databaseId,t.path)}function Nh(e,t){var n=Ih(t);if(n.get(1)!==e.databaseId.projectId)throw new Ic(Tc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ic(Tc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ll(Rh(n))}function Ah(e,t){return Th(e.databaseId,t)}function Oh(e){var t=Ih(e);return 4===t.length?$c.emptyPath():Rh(t)}function Ph(e){return new $c(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rh(e){return Sc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jh(e,t,n){return{name:Ch(e,t),fields:n.value.mapValue.fields}}function Dh(e,t,n){var r=Nh(e,t.name),i=Eh(t.updateTime),a=new El({mapValue:{fields:t.fields}}),o=Il.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Lh(e,t){return"found"in t?function(e,t){Sc(!!t.found),t.found.name,t.found.updateTime;var n=Nh(e,t.found.name),r=Eh(t.found.updateTime),i=new El({mapValue:{fields:t.found.fields}});return Il.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Sc(!!t.missing),Sc(!!t.readTime);var n=Nh(e,t.missing),r=Eh(t.readTime);return Il.newNoDocument(n,r)}(e,t):_c()}function Mh(e,t){var n;if(t instanceof Mf)n={update:jh(e,t.key,t.value)};else if(t instanceof Hf)n={delete:Ch(e,t.key)};else if(t instanceof Uf)n={update:jh(e,t.key,t.data),updateMask:Jh(t.fieldMask)};else{if(!(t instanceof Wf))return _c();n={verify:Ch(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof wf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sf)return{fieldPath:t.field.canonicalString(),increment:n.N};throw _c()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:_c()}(e,t.precondition)),n}function Uh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Nf.updateTime(Eh(e.updateTime)):void 0!==e.exists?Nf.exists(e.exists):Nf.none()}(t.currentDocument):Nf.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Sc("REQUEST_TIME"===t.setToServerValue),n=new wf;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new bf(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new xf(i)}else"increment"in t?n=new Sf(e,t.increment):_c();var a=Jc.fromServerFormat(t.fieldPath);return new If(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Nh(e,t.update.name),a=new El({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Xc(t.map((function(e){return Jc.fromServerFormat(e)})))}(t.updateMask);return new Uf(i,a,o,n,r)}return new Mf(i,a,n,r)}if(t.delete){var s=Nh(e,t.delete);return new Hf(s,n)}if(t.verify){var u=Nh(e,t.verify);return new Wf(u,n)}return _c()}function Fh(e,t){return{documents:[Ah(e,t.path)]}}function Vh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ah(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ah(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(xl(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NAN"}};if(kl(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xl(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NOT_NAN"}};if(kl(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gh(e.field),op:Kh(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Gh(e.field),direction:Wh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||sl(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=qh(t.startAt)),t.endAt&&(n.structuredQuery.endAt=qh(t.endAt)),n}function zh(e){var t=Oh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Sc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Bh(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Hl(Qh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return sl(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Hh(n.startAt));var l=null;return n.endAt&&(l=Hh(n.endAt)),$l(t,i,s,o,u,"F",c,l)}function Bh(e){return e?void 0!==e.unaryFilter?[Yh(e)]:void 0!==e.fieldFilter?[$h(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Bh(e)})).reduce((function(e,t){return e.concat(t)})):_c():[]}function qh(e){return{before:e.before,values:e.position}}function Hh(e){var t=!!e.before,n=e.values||[];return new Bl(n,t)}function Wh(e){return wh[e]}function Kh(e){return bh[e]}function Gh(e){return{fieldPath:e.canonicalString()}}function Qh(e){return Jc.fromServerFormat(e.fieldPath)}function $h(e){return Rl.create(Qh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _c()}}(e.fieldFilter.op),e.fieldFilter.value)}function Yh(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Qh(e.unaryFilter.field);return Rl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Qh(e.unaryFilter.field);return Rl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qh(e.unaryFilter.field);return Rl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qh(e.unaryFilter.field);return Rl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _c()}}function Jh(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Xh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Zh(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=td(t)),t=ed(e.get(n),t);return td(t)}function ed(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function td(e){return e+"\x01\x01"}function nd(e){var t=e.length;if(Sc(t>=2),2===t)return Sc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),$c.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&_c(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:_c()}a=o+2}return new $c(r)}var rd=At((function e(t,n){Ct(this,e),this.seconds=t,this.nanoseconds=n})),id=At((function e(t,n,r){Ct(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));id.store="owner",id.key="owner";var ad=At((function e(t,n,r){Ct(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));ad.store="mutationQueues",ad.keyPath="userId";var od=At((function e(t,n,r,i,a){Ct(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));od.store="mutations",od.keyPath="batchId",od.userMutationsIndex="userMutationsIndex",od.userMutationsKeyPath=["userId","batchId"];var sd=function(){function e(){Ct(this,e)}return At(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Zh(t)]}},{key:"key",value:function(e,t,n){return[e,Zh(t),n]}}]),e}();sd.store="documentMutations",sd.PLACEHOLDER=new sd;var ud=At((function e(t,n){Ct(this,e),this.path=t,this.readTime=n})),cd=At((function e(t,n){Ct(this,e),this.path=t,this.version=n})),ld=At((function e(t,n,r,i,a,o){Ct(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));ld.store="remoteDocuments",ld.readTimeIndex="readTimeIndex",ld.readTimeIndexPath="readTime",ld.collectionReadTimeIndex="collectionReadTimeIndex",ld.collectionReadTimeIndexPath=["parentPath","readTime"];var fd=At((function e(t){Ct(this,e),this.byteSize=t}));fd.store="remoteDocumentGlobal",fd.key="remoteDocumentGlobalKey";var hd=At((function e(t,n,r,i,a,o,s){Ct(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));hd.store="targets",hd.keyPath="targetId",hd.queryTargetsIndexName="queryTargetsIndex",hd.queryTargetsKeyPath=["canonicalId","targetId"];var dd=At((function e(t,n,r){Ct(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));dd.store="targetDocuments",dd.keyPath=["targetId","path"],dd.documentTargetsIndex="documentTargetsIndex",dd.documentTargetsKeyPath=["path","targetId"];var pd=At((function e(t,n,r,i){Ct(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));pd.key="targetGlobalKey",pd.store="targetGlobal";var vd=At((function e(t,n){Ct(this,e),this.collectionId=t,this.parent=n}));vd.store="collectionParents",vd.keyPath=["collectionId","parent"];var md=At((function e(t,n,r,i){Ct(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));md.store="clientMetadata",md.keyPath="clientId";var yd=At((function e(t,n,r){Ct(this,e),this.bundleId=t,this.createTime=n,this.version=r}));yd.store="bundles",yd.keyPath="bundleId";var gd=At((function e(t,n,r){Ct(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));gd.store="namedQueries",gd.keyPath="name";var wd=[ad.store,od.store,sd.store,ld.store,hd.store,id.store,pd.store,dd.store].concat([md.store]).concat([fd.store]).concat([vd.store]).concat([yd.store,gd.store]),bd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kd=function(){function e(){Ct(this,e),this.onCommittedListeners=[]}return At(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),xd=function(){function e(t){var n=this;Ct(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return At(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&_c(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ot(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),_d=function(){function e(t,n){var r=this;Ct(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new Cc,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Td(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=Od(e.target.error);r.It.reject(new Td(t,n))}}return At(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(wc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Cd(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Td(n,t)}}}]),e}(),Sd=function(){function e(t,n,r){Ct(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt($t())&&bc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return At(e,[{key:"Ct",value:function(){var e=Et(It().mark((function e(t){var n=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return wc("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Td(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ic(Tc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Ic(Tc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Td(t,n))},i.onupgradeneeded=function(e){wc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){wc("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Et(It().mark((function e(t,n,r,i){var a,o,s,u,c=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(It().mark((function e(){var n,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=_d.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),xd.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,wc("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return wc("SimpleDb","Removing database:",e),Nd(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!tn())return!1;if(e.vt())return!0;var t=$t(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Ed=function(){function e(t){Ct(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return At(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return Nd(this.$t.delete())}}]),e}(),Td=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,Tc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return At(n)}(Ic);function Id(e){return"IndexedDbTransactionError"===e.name}var Cd=function(){function e(t){Ct(this,e),this.store=t}return At(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(wc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(wc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Nd(n)}},{key:"add",value:function(e){return wc("SimpleDb","ADD",this.store.name,e,e),Nd(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Nd(this.store.get(e)).next((function(n){return void 0===n&&(n=null),wc("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return wc("SimpleDb","DELETE",this.store.name,e),Nd(this.store.delete(e))}},{key:"count",value:function(){return wc("SimpleDb","COUNT",this.store.name),Nd(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){wc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new xd((function(n,r){t.onerror=function(e){var t=Od(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new xd((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Ed(i),o=t(i.primaryKey,i.value,a);if(o instanceof xd){var s=o.catch((function(e){return a.done(),xd.reject(e)}));n.push(s)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return xd.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Nd(e){return new xd((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Od(e.target.error);n(t)}}))}var Ad=!1;function Od(e){var t=Sd.Pt($t());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Ic("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ad||(Ad=!0,setTimeout((function(){throw r}),0)),r}}return e}var Pd=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return At(n)}(kd);function Rd(e,t){var n=Ec(e);return Sd.Dt(n.Wt,t)}var jd=function(){function e(t,n,r,i){Ct(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return At(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Pf(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Ot(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Rf(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Ot(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Rf(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Hc.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),sh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&zc(this.mutations,e.mutations,(function(e,t){return Df(e,t)}))&&zc(this.baseMutations,e.baseMutations,(function(e,t){return Df(e,t)}))}}]),e}(),Dd=function(){function e(t,n,r,i){Ct(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return At(e,null,[{key:"from",value:function(t,n,r){Sc(t.mutations.length===r.length);for(var i=ah(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Ld=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Hc.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Hc.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Zc.EMPTY_BYTE_STRING;Ct(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return At(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Md=At((function e(t){Ct(this,e),this.Gt=t}));function Ud(e,t){if(t.document)return Dh(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ll.fromSegments(t.noDocument.path),r=qd(t.noDocument.readTime),i=Il.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=ll.fromSegments(t.unknownDocument.path),o=qd(t.unknownDocument.version);return Il.newUnknownDocument(a,o)}return _c()}function Fd(e,t,n){var r=Vd(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Ch(e,t.key),fields:t.data.value.mapValue.fields,updateTime:xh(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new ld(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Bd(t.version),c=t.hasCommittedMutations;return new ld(null,new ud(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Bd(t.version);return new ld(new cd(l,f),null,null,!0,r,i)}return _c()}function Vd(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zd(e){var t=new qc(e[0],e[1]);return Hc.fromTimestamp(t)}function Bd(e){var t=e.toTimestamp();return new rd(t.seconds,t.nanoseconds)}function qd(e){var t=new qc(e.seconds,e.nanoseconds);return Hc.fromTimestamp(t)}function Hd(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Uh(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Uh(e.Gt,t)})),s=qc.fromMillis(t.localWriteTimeMs);return new jd(t.batchId,s,n,o)}function Wd(e){var t,n,r=qd(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?qd(e.lastLimboFreeSnapshotVersion):Hc.min();return void 0!==e.query.documents?(Sc(1===(n=e.query).documents.length),t=rf(Yl(Oh(n.documents[0])))):t=function(e){return rf(zh(e))}(e.query),new Ld(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Zc.fromBase64String(e.resumeToken))}function Kd(e,t){var n,r=Bd(t.snapshotVersion),i=Bd(t.lastLimboFreeSnapshotVersion);n=Pl(t.target)?Fh(e.Gt,t.target):Vh(e.Gt,t.target);var a=t.resumeToken.toBase64();return new hd(t.targetId,Al(t.target),r,a,t.sequenceNumber,i,n)}function Gd(e){var t=zh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?af(t,t.limit,"L"):t}var Qd=function(){function e(){Ct(this,e)}return At(e,[{key:"getBundleMetadata",value:function(e,t){return $d(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:qd(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return $d(e).put({bundleId:(n=t).id,createTime:Bd(Eh(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Yd(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Gd(t.bundledQuery),readTime:qd(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Yd(e).put(function(e){return{name:e.name,readTime:Bd(Eh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function $d(e){return Rd(e,yd.store)}function Yd(e){return Rd(e,gd.store)}var Jd=function(){function e(){Ct(this,e),this.zt=new Xd}return At(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),xd.resolve()}},{key:"getCollectionParents",value:function(e,t){return xd.resolve(this.zt.getEntries(t))}}]),e}(),Xd=function(){function e(){Ct(this,e),this.index={}}return At(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xf($c.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Xf($c.comparator)).toArray()}}]),e}(),Zd=function(){function e(){Ct(this,e),this.Ht=new Xd}return At(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Zh(i)};return ep(e).put(a)}return xd.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Bc(t),""],!1,!0);return ep(e).Bt(r).next((function(e){var r,i=Ot(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(nd(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function ep(e){return Rd(e,vd.store)}var tp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},np=function(){function e(t,n,r){Ct(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return At(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function rp(e,t,n){var r=e.store(od.store),i=e.store(sd.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Sc(1===s)})));var c,l=[],f=Ot(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=sd.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return xd.waitFor(a).next((function(){return l}))}function ip(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _c();t=e.noDocument}return JSON.stringify(t).length}np.DEFAULT_COLLECTION_PERCENTILE=10,np.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,np.DEFAULT=new np(41943040,np.DEFAULT_COLLECTION_PERCENTILE,np.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),np.DISABLED=new np(-1,0,0);var ap=function(){function e(t,n,r,i){Ct(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return At(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sp(e).jt({index:od.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=up(e),o=sp(e);return o.add({}).next((function(s){Sc("number"==typeof s);var u,c=new jd(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Mh(e.Gt,t)})),i=n.mutations.map((function(t){return Mh(e.Gt,t)}));return new od(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new Xf((function(e,t){return Vc(e.canonicalString(),t.canonicalString())})),d=Ot(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=sd.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,sd.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),xd.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return sp(e).get(t).next((function(e){return e?(Sc(e.userId===n.userId),Hd(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?xd.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return sp(e).jt({index:od.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Sc(t.batchId>=r),a=Hd(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sp(e).jt({index:od.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sp(e).Bt(od.userMutationsIndex,n).next((function(e){return e.map((function(e){return Hd(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=sd.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return up(e).jt({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=nd(l);if(c===n.userId&&t.path.isEqual(h))return sp(e).get(f).next((function(e){if(!e)throw _c();Sc(e.userId===n.userId),a.push(Hd(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Xf(Vc),i=[];return t.forEach((function(t){var a=sd.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=up(e).jt({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=nd(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),xd.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=sd.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Xf(Vc);return up(e).jt({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=nd(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(sp(e).get(t).next((function(e){if(null===e)throw _c();Sc(e.userId===n.userId),r.push(Hd(n.k,e))})))})),xd.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return rp(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),xd.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return xd.resolve();var r=IDBKeyRange.lowerBound(sd.prefixForUser(t.userId)),i=[];return up(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=nd(e[1]);i.push(a)}else r.done()})).next((function(){Sc(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return op(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return cp(e).get(this.userId).next((function(e){return e||new ad(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Sc(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function op(e,t,n){var r=sd.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return up(e).jt({range:a,Kt:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function sp(e){return Rd(e,od.store)}function up(e){return Rd(e,sd.store)}function cp(e){return Rd(e,ad.store)}var lp=function(){function e(t){Ct(this,e),this.se=t}return At(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),fp=function(){function e(t,n){Ct(this,e),this.referenceDelegate=t,this.k=n}return At(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new lp(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return Hc.fromTimestamp(new qc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return hp(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Sc(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return hp(e).jt((function(o,s){var u=Wd(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return xd.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return hp(e).jt((function(e,n){var r=Wd(n);t(r)}))}},{key:"oe",value:function(e){return dp(e).get(pd.key).next((function(e){return Sc(null!==e),e}))}},{key:"ae",value:function(e,t){return dp(e).put(pd.key,t)}},{key:"ce",value:function(e,t){return hp(e).put(Kd(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Al(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return hp(e).jt({range:r,index:hd.queryTargetsIndexName},(function(e,n,r){var a=Wd(n);Ol(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=pp(e);return t.forEach((function(t){var o=Zh(t.path);i.push(a.put(new dd(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),xd.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=pp(e);return xd.forEach(t,(function(t){var a=Zh(t.path);return xd.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=pp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pp(e),i=sh();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=nd(e[1]),a=new ll(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Zh(t.path),r=IDBKeyRange.bound([n],[Bc(n)],!1,!0),i=0;return pp(e).jt({index:dd.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return hp(e).get(t).next((function(e){return e?Wd(e):null}))}}]),e}();function hp(e){return Rd(e,hd.store)}function dp(e){return Rd(e,pd.store)}function pp(e){return Rd(e,dd.store)}function vp(e){return mp.apply(this,arguments)}function mp(){return mp=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Tc.FAILED_PRECONDITION&&t.message===bd){e.next=2;break}throw t;case 2:wc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),mp.apply(this,arguments)}function yp(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=Vc(r,o);return 0===c?Vc(i,s):c}var gp=function(){function e(t){Ct(this,e),this.he=t,this.buffer=new Xf(yp),this.le=0}return At(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();yp(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),wp=function(){function e(t,n){Ct(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return At(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;wc("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Et(It().mark((function n(){return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Id(n.t0)){n.next=12;break}wc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,vp(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),bp=function(){function e(t,n){Ct(this,e),this.ge=t,this.params=n}return At(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return xd.resolve(Mc.I);var r=new gp(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(wc("LruGarbageCollector","Garbage collection skipped; disabled"),xd.resolve(tp)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(wc("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),tp):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(wc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),gc()<=_n.DEBUG&&wc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),xd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),kp=function(){function e(t,n){Ct(this,e),this.db=t,this.garbageCollector=function(e,t){return new bp(e,t)}(this,n)}return At(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return xp(e,n)}},{key:"removeReference",value:function(e,t,n){return xp(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return xp(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return cp(e).Qt((function(r){return op(e,r,t).next((function(e){return e&&(n=!0),xd.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),pp(e).delete([0,Zh(o.path)])}))}));i.push(u)}})).next((function(){return xd.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return xp(e,t)}},{key:"Ie",value:function(e,t){var n,r=pp(e),i=Mc.I;return r.jt({index:dd.documentTargetsIndex},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==Mc.I&&t(new ll(nd(n)),i),i=c,n=s):i=Mc.I})).next((function(){i!==Mc.I&&t(new ll(nd(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function xp(e,t){return pp(e).put(function(e,t){return new dd(0,Zh(e.path),t)}(t,e.currentSequenceNumber))}var _p=function(){function e(t,n){Ct(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return At(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ot(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Kc(this.inner,(function(t,n){var r,i=Ot(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Gc(this.inner)}}]),e}(),Sp=function(){function e(){Ct(this,e),this.changes=new _p((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return At(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Hc.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Il.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?xd.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ep=function(){function e(t,n){Ct(this,e),this.k=t,this.Jt=n}return At(e,[{key:"addEntry",value:function(e,t,n){return Cp(e).put(Np(t),n)}},{key:"removeEntry",value:function(e,t){var n=Cp(e),r=Np(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Cp(e).get(Np(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return Cp(e).get(Np(t)).next((function(e){return{document:n.Pe(t,e),size:ip(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=th();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=th(),i=new $f(ll.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,ip(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return xd.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Cp(e).jt({range:r},(function(e,t,r){for(var o=ll.fromSegments(e);a&&ll.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=th(),a=t.path.length+1,o={};if(n.isEqual(Hc.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Vd(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=ld.collectionReadTimeIndex}return Cp(e).jt(o,(function(e,n,o){if(e.length===a){var s=Ud(r.k,n);t.path.isPrefixOf(s.key.path)?cf(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Tp(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Ip(e).get(fd.key).next((function(e){return Sc(!!e),e}))}},{key:"Re",value:function(e,t){return Ip(e).put(fd.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=Ud(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Hc.min()))return n}return Il.newInvalidDocument(e)}}]),e}(),Tp=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new _p((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return At(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Xf((function(e,t){return Vc(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=Fd(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=ip(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Fd(t.De.k,Il.newNoDocument(a,Hc.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),xd.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(Sp);function Ip(e){return Rd(e,fd.store)}function Cp(e){return Rd(e,ld.store)}function Np(e){return e.path.toArray()}var Ap=function(){function e(t){Ct(this,e),this.k=t}return At(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Sc(n<r&&n>=0&&r<=11);var a=new _d("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(id.store)}(e),function(e){e.createObjectStore(ad.store,{keyPath:ad.keyPath}),e.createObjectStore(od.store,{keyPath:od.keyPath,autoIncrement:!0}).createIndex(od.userMutationsIndex,od.userMutationsKeyPath,{unique:!0}),e.createObjectStore(sd.store)}(e),Op(e),function(e){e.createObjectStore(ld.store)}(e));var o=xd.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(dd.store),e.deleteObjectStore(hd.store),e.deleteObjectStore(pd.store)}(e),Op(e)),o=o.next((function(){return function(e){var t=e.store(pd.store),n=new pd(0,0,Hc.min().toTimestamp(),0);return t.put(pd.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(od.store).Bt().next((function(n){e.deleteObjectStore(od.store),e.createObjectStore(od.store,{keyPath:od.keyPath,autoIncrement:!0}).createIndex(od.userMutationsIndex,od.userMutationsKeyPath,{unique:!0});var r=t.store(od.store),i=n.map((function(e){return r.put(e)}));return xd.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(md.store,{keyPath:md.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(fd.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(ld.store);t.createIndex(ld.readTimeIndex,ld.readTimeIndexPath,{unique:!1}),t.createIndex(ld.collectionReadTimeIndex,ld.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(yd.store,{keyPath:yd.keyPath})}(e),function(e){e.createObjectStore(gd.store,{keyPath:gd.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(ld.store).jt((function(e,n){t+=ip(n)})).next((function(){var n=new fd(t);return e.store(fd.store).put(fd.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(ad.store),r=e.store(od.store);return n.Bt().next((function(n){return xd.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(od.userMutationsIndex,i).next((function(r){return xd.forEach(r,(function(r){Sc(r.userId===n.userId);var i=Hd(t.k,r);return rp(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(dd.store),n=e.store(ld.store);return e.store(pd.store).get(pd.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new $c(n),o=function(e){return[0,Zh(e)]}(a);r.push(t.get(o).next((function(n){return n?xd.resolve():function(n){return t.put(new dd(0,Zh(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return xd.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(vd.store,{keyPath:vd.keyPath});var n=t.store(vd.store),r=new Xd,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Zh(i)})}};return t.store(ld.store).jt({Kt:!0},(function(e,t){var n=new $c(e);return i(n.popLast())})).next((function(){return t.store(sd.store).jt({Kt:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],nd(r));return i(a.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(hd.store);return n.jt((function(e,r){var i=Wd(r),a=Kd(t.k,i);return n.put(a)}))}}]),e}();function Op(e){e.createObjectStore(dd.store,{keyPath:dd.keyPath}).createIndex(dd.documentTargetsIndex,dd.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(hd.store,{keyPath:hd.keyPath}).createIndex(hd.queryTargetsIndexName,hd.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(pd.store)}var Pp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Rp=function(){function e(t,n,r,i,a,o,s,u,c,l){if(Ct(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=s,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new Ic(Tc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kp(this,i),this.Ge=n+"main",this.k=new Md(u),this.ze=new Sd(this.Ge,11,new Ap(this.k)),this.He=new fp(this.referenceDelegate,this.k),this.Jt=new Zd,this.Je=function(e,t){return new Ep(e,t)}(this.k,this.Jt),this.Ye=new Qd,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&bc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return At(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Ic(Tc.FAILED_PRECONDITION,Pp);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Mc(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=Et(It().mark((function n(r){return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=Et(It().mark((function t(n){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Dp(t).put(new md(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(Id(t))return wc("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return wc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return jp(e).get(id.key).next((function(e){return xd.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Dp(e).delete(this.clientId)}},{key:"ln",value:function(){var e=Et(It().mark((function e(){var t,n,r,i,a=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Rd(e,md.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return xd.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=Ot(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?xd.resolve(!0):jp(e).get(id.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Ic(Tc.FAILED_PRECONDITION,Pp);return!1}}return!(!t.networkEnabled||!t.inForeground)||Dp(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&wc("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Et(It().mark((function e(){var t=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[id.store,md.store],(function(e){var n=new Pd(e,Mc.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Dp(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return ap.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;wc("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,wd,(function(a){return i=new Pd(a,r.Be?r.Be.next():Mc.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw bc("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new Ic(Tc.FAILED_PRECONDITION,bd);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return jp(e).get(id.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Ic(Tc.FAILED_PRECONDITION,Pp)}))}},{key:"cn",value:function(e){var t=new id(this.clientId,this.allowTabSynchronization,Date.now());return jp(e).put(id.key,t)}},{key:"an",value:function(e){var t=this,n=jp(e);return n.get(id.key).next((function(e){return t.un(e)?(wc("IndexedDbPersistence","Releasing primary lease."),n.delete(id.key)):xd.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(bc("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!Jt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return wc("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return bc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(va){bc("Failed to set zombie client id.",va)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(va){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return Sd.bt()}}]),e}();function jp(e){return Rd(e,id.store)}function Dp(e){return Rd(e,md.store)}function Lp(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Mp=At((function e(t,n){Ct(this,e),this.progress=t,this.In=n})),Up=function(){function e(t,n,r){Ct(this,e),this.Je=t,this.An=n,this.Jt=r}return At(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Ot(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=Ot(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ll.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):tf(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new ll(t)).next((function(e){var t=rh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=rh();return this.Jt.getCollectionParents(e,i).next((function(o){return xd.forEach(o,(function(o){var s=function(e,t){return new Ql(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Ot(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=Ot(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=Il.newInvalidDocument(c),r=r.insert(c,l)),Rf(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){cf(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=sh(),a=Ot(t);try{for(a.s();!(r=a.n()).done;){var o,s=Ot(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof Uf&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Fp=function(){function e(t,n,r,i){Ct(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return At(e,null,[{key:"$n",value:function(t,n){var r,i=sh(),a=sh(),o=Ot(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Vp=function(){function e(){Ct(this,e)}return At(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Hc.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(Jl(t)||Xl(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(gc()<=_n.DEBUG&&wc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),uf(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new Xf(lf(e));return t.forEach((function(t,r){cf(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return gc()<=_n.DEBUG&&wc("QueryEngine","Using full collection scan to execute query:",uf(t)),this.On.getDocumentsMatchingQuery(e,t,Hc.min())}}]),e}(),zp=function(){function e(t,n,r,i){Ct(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new $f(Vc),this.Kn=new _p((function(e){return Al(e)}),Ol),this.jn=Hc.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Up(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return At(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function Bp(e,t,n,r){return new zp(e,t,n,r)}function qp(e,t){return Hp.apply(this,arguments)}function Hp(){return Hp=Et(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Up(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=sh(),u=Ot(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=Ot(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(w){f.e(w)}finally{f.f()}}}catch(w){u.e(w)}finally{u.f()}var d,p=Ot(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Ot(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(w){y.e(w)}finally{y.f()}}}catch(w){p.e(w)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),Hp.apply(this,arguments)}function Wp(e,t){var n=Ec(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=xd.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Sc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function Kp(e){var t=Ec(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function Gp(e,t){var n=Ec(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var s=i.get(a);if(s){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return Sc(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var s=th();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Qp(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Hc.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return xd.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function Qp(e,t,n,r,i){var a=sh();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=th();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Hc.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):wc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function $p(e,t){var n=Ec(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function Yp(e,t){var n=Ec(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,xd.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Ld(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Jp(e,t,n){return Xp.apply(this,arguments)}function Xp(){return Xp=Et(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ec(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Id(e.t1)){e.next=12;break}throw e.t1;case 12:wc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Xp.apply(this,arguments)}function Zp(e,t,n){var r=Ec(e),i=Hc.min(),a=sh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ec(e),i=r.Kn.get(n);return void 0!==i?xd.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,rf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Hc.min(),n?a:sh())})).next((function(e){return{documents:e,zn:a}}))}))}function ev(e,t){var n=Ec(e),r=Ec(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function tv(e){var t=Ec(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Ec(e),i=th(),a=Vd(n),o=Cp(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:ld.readTimeIndex,range:s},(function(e,t){var n=Ud(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:zd(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function nv(e){return rv.apply(this,arguments)}function rv(){return rv=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ec(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Cp(e),n=Hc.min();return t.jt({index:ld.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=zd(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(e,t,n,r){return av.apply(this,arguments)}function av(){return av=Et(It().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ec(t),o=sh(),s=th(),u=ah(),c=Ot(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,Yp(a,function(e){return rf(Yl($c.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Qp(e,d,s,Hc.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}function ov(e,t){return sv.apply(this,arguments)}function sv(){return sv=Et(It().mark((function e(t,n){var r,i,a,o=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:sh(),e.next=3,Yp(t,rf(Gd(n.bundledQuery)));case 3:return i=e.sent,a=Ec(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Eh(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(Zc.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),sv.apply(this,arguments)}var uv=function(){function e(t){Ct(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return At(e,[{key:"getBundleMetadata",value:function(e,t){return xd.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Eh(n.createTime)}),xd.resolve()}},{key:"getNamedQuery",value:function(e,t){return xd.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Gd(e.bundledQuery),readTime:Eh(e.readTime)}}(t)),xd.resolve()}}]),e}(),cv=function(){function e(){Ct(this,e),this.ts=new Xf(lv.es),this.ns=new Xf(lv.ss)}return At(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new lv(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new lv(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new ll(new $c([])),r=new lv(n,e),i=new lv(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new ll(new $c([])),n=new lv(t,e),r=new lv(t,e+1),i=sh();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new lv(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),lv=function(){function e(t,n){Ct(this,e),this.key=t,this.fs=n}return At(e,null,[{key:"es",value:function(e,t){return ll.comparator(e.key,t.key)||Vc(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Vc(e.fs,t.fs)||ll.comparator(e.key,t.key)}}]),e}(),fv=function(){function e(t,n){Ct(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new Xf(lv.es)}return At(e,[{key:"checkEmpty",value:function(e){return xd.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new jd(i,t,n,r);this.An.push(a);var o,s=Ot(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new lv(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return xd.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return xd.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return xd.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return xd.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return xd.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new lv(t,0),i=new lv(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),xd.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Xf(Vc);return t.forEach((function(e){var t=new lv(e,0),i=new lv(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),xd.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ll.isDocumentKey(i)||(i=i.child(""));var a=new lv(new ll(i),0),o=new Xf(Vc);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),xd.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Sc(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return xd.forEach(t.mutations,(function(i){var a=new lv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new lv(t,0),r=this.ws.firstAfterOrEqual(n);return xd.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,xd.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),hv=function(){function e(t,n){Ct(this,e),this.Jt=t,this.Ts=n,this.docs=new $f(ll.comparator),this.size=0}return At(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return xd.resolve(n?n.document.clone():Il.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=th();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Il.newInvalidDocument(e))})),xd.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=th(),i=new ll(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||cf(t,c)&&(r=r.insert(c.key,c.clone()))}return xd.resolve(r)}},{key:"Es",value:function(e,t){return xd.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new dv(this)}},{key:"getSize",value:function(e){return xd.resolve(this.size)}}]),e}(),dv=function(e){jt(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).De=e,r}return At(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),xd.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Sp),pv=function(){function e(t){Ct(this,e),this.persistence=t,this.Is=new _p((function(e){return Al(e)}),Ol),this.lastRemoteSnapshotVersion=Hc.min(),this.highestTargetId=0,this.As=0,this.Rs=new cv,this.targetCount=0,this.Ps=lp.ie()}return At(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),xd.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return xd.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return xd.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),xd.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),xd.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new lp(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,xd.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),xd.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,xd.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),xd.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return xd.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return xd.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),xd.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),xd.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),xd.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return xd.resolve(n)}},{key:"containsKey",value:function(e,t){return xd.resolve(this.Rs.containsKey(t))}}]),e}(),vv=function(){function e(t,n){var r=this;Ct(this,e),this.bs={},this.Be=new Mc(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new pv(this),this.Jt=new Jd,this.Je=function(e,t){return new hv(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Md(n),this.Ye=new uv(this.k)}return At(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new fv(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;wc("MemoryPersistence","Starting transaction:",e);var i=new mv(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return xd.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),mv=function(e){jt(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return At(n)}(kd),yv=function(){function e(t){Ct(this,e),this.persistence=t,this.Cs=new cv,this.Ns=null}return At(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw _c()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),xd.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),xd.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),xd.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xd.forEach(this.xs,(function(r){var i=ll.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return xd.or([function(){return xd.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function gv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function wv(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function bv(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var kv=function(){function e(t,n,r,i){Ct(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return At(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Ic(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(bc("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),xv=function(){function e(t,n,r){Ct(this,e),this.targetId=t,this.state=n,this.error=r}return At(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ic(i.error.code,i.error.message))),a?new e(t,i.state,r):(bc("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),_v=function(){function e(t,n){Ct(this,e),this.clientId=t,this.activeTargetIds=n}return At(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ch(),o=0;i&&o<r.activeTargetIds.length;++o)i=cl(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(bc("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Sv=function(){function e(t,n){Ct(this,e),this.clientId=t,this.onlineState=n}return At(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(bc("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ev=function(){function e(){Ct(this,e),this.activeTargetIds=ch()}return At(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Tv=function(){function e(t,n,r,i,a){Ct(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new $f(Vc),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=gv(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Ev),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return At(e,[{key:"start",value:function(){var e=Et(It().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=Ot(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(gv(this.persistenceKey,i)))&&(o=_v.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=Ot(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(bv(this.persistenceKey,e));if(n){var r=xv.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(bv(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return wc("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){wc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){wc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(wc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void bc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(Et(It().mark((function e(){var r,i,a,o,s,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=Mc.I;if(null!=e)try{var n=JSON.parse(e);Sc("number"==typeof n),t=n}catch(e){bc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Mc.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new kv(this.currentUser,e,t,n),i=wv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=wv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=bv(this.persistenceKey,e),i=new xv(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return _v.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return kv.Fs(new vc(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return xv.Fs(r,t)}},{key:"Zs",value:function(e){return Sv.Fs(e)}},{key:"fi",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:wc("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=ch();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Iv=function(){function e(){Ct(this,e),this.pi=new Ev,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return At(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Ev,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Cv=function(){function e(){Ct(this,e)}return At(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Nv=function(){function e(){var t=this;Ct(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return At(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){wc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ot(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){wc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ot(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Av={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ov=function(){function e(t){Ct(this,e),this.Vi=t.Vi,this.Si=t.Si}return At(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Pv=function(e){jt(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return At(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new dc;o.listenOnce(uc.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case sc.NO_ERROR:var t=o.getResponseJson();wc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case sc.TIMEOUT:wc("Connection",'RPC "'+e+'" timed out'),a(new Ic(Tc.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:var n=o.getStatus();if(wc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Tc).indexOf(t)>=0?t:Tc.UNKNOWN}(r.status);a(new Ic(s,r.message))}else a(new Ic(Tc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ic(Tc.UNAVAILABLE,"Connection failed."));break;default:_c()}}finally{wc("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ac(),a=oc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new fc({})),this.qi(o.initMessageHeaders,t,n),Yt()||Zt()||$t().indexOf("Electron/")>=0||en()||$t().indexOf("MSAppHost/")>=0||Xt()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");wc("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Ov({Vi:function(e){l?wc("Connection","Not sending because WebChannel is closed:",e):(c||(wc("Connection","Opening WebChannel transport."),u.open(),c=!0),wc("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,hc.EventType.OPEN,(function(){l||wc("Connection","WebChannel transport opened.")})),h(u,hc.EventType.CLOSE,(function(){l||(l=!0,wc("Connection","WebChannel transport closed"),f.Fi())})),h(u,hc.EventType.ERROR,(function(e){l||(l=!0,kc("Connection","WebChannel transport errored:",e),f.Fi(new Ic(Tc.UNAVAILABLE,"The operation could not be completed")))})),h(u,hc.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Sc(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){wc("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Bf[e];if(void 0!==t)return Qf(t)}(a),s=i.message;void 0===o&&(o=Tc.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new Ic(o,s)),u.close()}else wc("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,cc.STAT_EVENT,(function(e){e.stat===lc.PROXY?wc("Connection","Detected buffering proxy"):e.stat===lc.NOPROXY&&wc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Ct(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return At(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);wc("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return wc("RestConnection","Received: ",e),e}),(function(t){throw kc("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+mc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=Av[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function Rv(){return"undefined"!=typeof window?window:null}function jv(){return"undefined"!=typeof document?document:null}function Dv(e){return new kh(e,!0)}var Lv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ct(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return At(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&wc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Mv=function(){function e(t,n,r,i,a,o,s,u){Ct(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Lv(t,n)}return At(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Tc.RESOURCE_EXHAUSTED?(bc(n.toString()),bc("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Tc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new Ic(Tc.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Et(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return wc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(wc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Uv=function(e){jt(n,e);var t=Ft(n);function n(e,r,i,a,o,s){var u;return Ct(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return At(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:_c()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Sc(void 0===t||"string"==typeof t),Zc.fromBase64String(t||"")):(Sc(void 0===t||t instanceof Uint8Array),Zc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Tc.UNKNOWN:Qf(e.code);return new Ic(t,e.message||"")}(o);n=new ph(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Nh(e,u.document.name),l=Eh(u.document.updateTime),f=new El({mapValue:{fields:u.document.fields}}),h=Il.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new hh(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Nh(e,v.document),y=v.readTime?Eh(v.readTime):Hc.min(),g=Il.newNoDocument(m,y),w=v.removedTargetIds||[];n=new hh([],w,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var k=Nh(e,b.document),x=b.removedTargetIds||[];n=new hh([],x,k,null)}else{if(!("filter"in t))return _c();t.filter;var _=t.filter;_.targetId;var S=_.count||0,E=new Kf(S),T=_.targetId;n=new dh(T,E)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Hc.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Hc.min():t.readTime?Eh(t.readTime):Hc.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=Ph(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Pl(r)?{documents:Fh(e,r)}:{query:Vh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=_h(e,t.resumeToken):t.snapshotVersion.compareTo(Hc.min())>0&&(n.readTime=xh(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _c()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Ph(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Mv),Fv=function(e){jt(n,e);var t=Ft(n);function n(e,r,i,a,o,s){var u;return Ct(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return At(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,ea(Dt(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Sc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Sc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Eh(e.updateTime):Eh(t);return n.isEqual(Hc.min())&&(n=Eh(t)),new Cf(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Eh(e.commitTime);return this.listener.Cr(n,t)}return Sc(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Ph(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Mh(t.k,e)}))};this.gr(n)}}]),n}(Mv),Vv=function(e){jt(n,e);var t=Ft(n);function n(e,r,i,a){var o;return Ct(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return At(n,[{key:"Fr",value:function(){if(this.$r)throw new Ic(Tc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Tc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ic(Tc.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Tc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Ic(Tc.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return At((function e(){Ct(this,e)}))}()),zv=function(){function e(t,n){Ct(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return At(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(bc(t),this.Lr=!1):wc("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),Bv=At((function e(t,n,r,i,a){var o=this;Ct(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Zv(o),!e.t0){e.next=5;break}return wc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ec(t)).Gr.add(4),e.next=4,Wv(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,qv(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new zv(r,i)}));function qv(e){return Hv.apply(this,arguments)}function Hv(){return Hv=Et(It().mark((function e(t){var n,r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Zv(t)){e.next=18;break}n=Ot(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Hv.apply(this,arguments)}function Wv(e){return Kv.apply(this,arguments)}function Kv(){return Kv=Et(It().mark((function e(t){var n,r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ot(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Kv.apply(this,arguments)}function Gv(e,t){var n=Ec(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Xv(n)?Jv(n):Tm(n).lr()&&$v(n,t))}function Qv(e,t){var n=Ec(e),r=Tm(n);n.Wr.delete(t),r.lr()&&Yv(n,t),0===n.Wr.size&&(r.lr()?r._r():Zv(n)&&n.Jr.set("Unknown"))}function $v(e,t){e.Yr.X(t.targetId),Tm(e).br(t)}function Yv(e,t){e.Yr.X(t),Tm(e).vr(t)}function Jv(e){e.Yr=new mh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Tm(e).start(),e.Jr.Br()}function Xv(e){return Zv(e)&&!Tm(e).hr()&&e.Wr.size>0}function Zv(e){return 0===Ec(e).Gr.size}function em(e){e.Yr=void 0}function tm(e){return nm.apply(this,arguments)}function nm(){return nm=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){$v(t,e)}));case 1:case"end":return e.stop()}}),e)}))),nm.apply(this,arguments)}function rm(e,t){return im.apply(this,arguments)}function im(){return im=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:em(t),Xv(t)?(t.Jr.Kr(n),Jv(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}function am(e,t,n){return om.apply(this,arguments)}function om(){return om=Et(It().mark((function e(t,n,r){var i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof ph&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Et(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ot(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),wc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,sm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof hh?t.Yr.ot(n):n instanceof dh?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Hc.min())){e.next=29;break}return e.prev=14,e.next=17,Kp(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Zc.EMPTY_BYTE_STRING,n.snapshotVersion)),Yv(e,t);var r=new Ld(n.target,t,1,n.sequenceNumber);$v(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),wc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,sm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),om.apply(this,arguments)}function sm(e,t,n){return um.apply(this,arguments)}function um(){return um=Et(It().mark((function e(t,n,r){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Id(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Wv(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Kp(t.localStore)}),t.asyncQueue.enqueueRetryable(Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,qv(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function cm(e,t){return t().catch((function(n){return sm(e,n,t)}))}function lm(e){return fm.apply(this,arguments)}function fm(){return fm=Et(It().mark((function e(t){var n,r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ec(t),r=Im(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!hm(n)){e.next=19;break}return e.prev=3,e.next=6,$p(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,dm(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,sm(n,e.t0);case 17:e.next=2;break;case 19:pm(n)&&vm(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),fm.apply(this,arguments)}function hm(e){return Zv(e)&&e.Qr.length<10}function dm(e,t){e.Qr.push(t);var n=Im(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function pm(e){return Zv(e)&&!Im(e).hr()&&e.Qr.length>0}function vm(e){Im(e).start()}function mm(e){return ym.apply(this,arguments)}function ym(){return ym=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Im(t).kr();case 1:case"end":return e.stop()}}),e)}))),ym.apply(this,arguments)}function gm(e){return wm.apply(this,arguments)}function wm(){return wm=Et(It().mark((function e(t){var n,r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Im(t),r=Ot(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),wm.apply(this,arguments)}function bm(e,t,n){return km.apply(this,arguments)}function km(){return km=Et(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Dd.from(i,n,r),e.next=3,cm(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,lm(t);case 5:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}function xm(e,t){return _m.apply(this,arguments)}function _m(){return _m=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Im(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Et(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Gf(i=n.code)||i===Tc.ABORTED){e.next=7;break}return r=t.Qr.shift(),Im(t).wr(),e.next=5,cm(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,lm(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:pm(t)&&vm(t);case 5:case"end":return e.stop()}}),e)}))),_m.apply(this,arguments)}function Sm(e,t){return Em.apply(this,arguments)}function Em(){return Em=Et(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ec(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,qv(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Wv(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Em.apply(this,arguments)}function Tm(e){return e.Xr||(e.Xr=function(e,t,n){var r=Ec(e);return r.Fr(),new Uv(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:tm.bind(null,e),Ni:rm.bind(null,e),Pr:am.bind(null,e)}),e.zr.push(function(){var t=Et(It().mark((function t(n){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Xv(e)?Jv(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:em(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function Im(e){return e.Zr||(e.Zr=function(e,t,n){var r=Ec(e);return r.Fr(),new Fv(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:mm.bind(null,e),Ni:xm.bind(null,e),Nr:gm.bind(null,e),Cr:bm.bind(null,e)}),e.zr.push(function(){var t=Et(It().mark((function t(n){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,lm(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(wc("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var Cm=function(){function e(t,n,r,i,a){Ct(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Cc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return At(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ic(Tc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Nm(e,t){if(bc("AsyncQueue","".concat(t,": ").concat(e)),Id(e))return new Ic(Tc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Am=function(){function e(t){Ct(this,e),this.comparator=t?function(e,n){return t(e,n)||ll.comparator(e.key,n.key)}:function(e,t){return ll.comparator(e.key,t.key)},this.keyedMap=rh(),this.sortedSet=new $f(this.comparator)}return At(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Om=function(){function e(){Ct(this,e),this.eo=new $f(ll.comparator)}return At(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):_c():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Pm=function(){function e(t,n,r,i,a,o,s,u){Ct(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return At(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Am.emptySet(n),a,r,i,!0,!1)}}]),e}(),Rm=At((function e(){Ct(this,e),this.so=void 0,this.listeners=[]})),jm=At((function e(){Ct(this,e),this.queries=new _p((function(e){return sf(e)}),of),this.onlineState="Unknown",this.io=new Set}));function Dm(e,t){return Lm.apply(this,arguments)}function Lm(){return Lm=Et(It().mark((function e(t,n){var r,i,a,o,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ec(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Rm),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Nm(e.t0,"Initialization of query '".concat(uf(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&zm(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Lm.apply(this,arguments)}function Mm(e,t){return Um.apply(this,arguments)}function Um(){return Um=Et(It().mark((function e(t,n){var r,i,a,o,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ec(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Um.apply(this,arguments)}function Fm(e,t){var n,r=Ec(e),i=!1,a=Ot(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Ot(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&zm(r)}function Vm(e,t,n){var r=Ec(e),i=r.queries.get(t);if(i){var a,o=Ot(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function zm(e){e.io.forEach((function(e){e.next()}))}var Bm=function(){function e(t,n,r){Ct(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return At(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ot(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Pm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Pm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),qm=function(){function e(t,n){Ct(this,e),this.payload=t,this.byteLength=n}return At(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),Hm=function(){function e(t){Ct(this,e),this.k=t}return At(e,[{key:"Hn",value:function(e){return Nh(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Dh(this.k,e.document,!1):Il.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Eh(e)}}]),e}(),Wm=function(){function e(t,n,r){Ct(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=Km(t)}return At(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new Hm(this.k),i=Ot(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=Ot(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||sh()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Et(It().mark((function e(){var t,n,r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iv(this.localStore,new Hm(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=Ot(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ov(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Mp(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Km(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Gm=At((function e(t){Ct(this,e),this.key=t})),Qm=At((function e(t){Ct(this,e),this.key=t})),$m=function(){function e(t,n){Ct(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=sh(),this.mutatedKeys=sh(),this.Ao=lf(t),this.Ro=new Am(this.Ao)}return At(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new Om,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Jl(this.query)&&i.size===this.query.limit?i.last():null,c=Xl(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=cf(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Jl(this.query)||Xl(this.query))for(;o.size>this.query.limit;){var l=Jl(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _c()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new Pm(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Om,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=sh(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new Qm(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new Gm(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=sh();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Pm.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),Ym=At((function e(t,n,r){Ct(this,e),this.query=t,this.targetId=n,this.view=r})),Jm=At((function e(t){Ct(this,e),this.key=t,this.$o=!1})),Xm=function(){function e(t,n,r,i,a,o){Ct(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new _p((function(e){return sf(e)}),of),this.Mo=new Map,this.Lo=new Set,this.Bo=new $f(ll.comparator),this.Uo=new Map,this.qo=new cv,this.Ko={},this.jo=new Map,this.Qo=lp.re(),this.onlineState="Unknown",this.Wo=void 0}return At(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function Zm(e,t){return ey.apply(this,arguments)}function ey(){return ey=Et(It().mark((function e(t,n){var r,i,a,o,s,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ky(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,Yp(r.localStore,rf(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,ty(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&Gv(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),ey.apply(this,arguments)}function ty(e,t,n,r){return ny.apply(this,arguments)}function ny(){return ny=Et(It().mark((function e(t,n,r,i){var a,o,s,u,c,l;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Et(It().mark((function e(t,n,r,i){var a,o,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Zp(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(xy(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Zp(t.localStore,n,!0);case 3:return a=e.sent,o=new $m(n,a.zn),s=o.bo(a.documents),u=fh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),xy(t,r,c.Co),l=new Ym(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),ny.apply(this,arguments)}function ry(e,t){return iy.apply(this,arguments)}function iy(){return iy=Et(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ec(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!of(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Jp(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Qv(r.remoteStore,i.targetId),by(r,i.targetId)})).catch(vp);case 9:e.next=14;break;case 11:return by(r,i.targetId),e.next=14,Jp(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),iy.apply(this,arguments)}function ay(e,t,n){return oy.apply(this,arguments)}function oy(){return oy=Et(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gy(t),e.prev=1,e.next=4,function(e,t){var n,r=Ec(e),i=qc.now(),a=t.reduce((function(e,t){return e.add(t.key)}),sh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=Ot(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=jf(c,n.get(c.key));null!=l&&s.push(new Uf(c.key,l,Tl(l.value.mapValue),Nf.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new $f(Vc)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ey(i,a.changes);case 9:return e.next=11,lm(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Nm(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),oy.apply(this,arguments)}function sy(e,t){return uy.apply(this,arguments)}function uy(){return uy=Et(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),e.prev=1,e.next=4,Gp(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Sc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Sc(n.$o):e.removedDocuments.size>0&&(Sc(n.$o),n.$o=!1))})),e.next=8,Ey(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,vp(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),uy.apply(this,arguments)}function cy(e,t,n){var r=Ec(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ec(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ot(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&zm(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ly(e,t,n){return fy.apply(this,arguments)}function fy(){return fy=Et(It().mark((function e(t,n,r){var i,a,o,s,u,c;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ec(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new $f(ll.comparator)).insert(o,Il.newNoDocument(o,Hc.min())),u=sh().add(o),c=new lh(Hc.min(),new Map,new Xf(Vc),s,u),e.next=9,sy(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),Sy(i),e.next=16;break;case 14:return e.next=16,Jp(i.localStore,n,!1).then((function(){return by(i,n,r)})).catch(vp);case 16:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e,t){return dy.apply(this,arguments)}function dy(){return dy=Et(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),i=n.batch.batchId,e.prev=1,e.next=4,Wp(r.localStore,n);case 4:return a=e.sent,wy(r,i,null),gy(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ey(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),dy.apply(this,arguments)}function py(e,t,n){return vy.apply(this,arguments)}function vy(){return vy=Et(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ec(t),e.prev=1,e.next=4,function(e,t){var n=Ec(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Sc(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,wy(i,n,r),gy(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ey(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),vy.apply(this,arguments)}function my(e,t){return yy.apply(this,arguments)}function yy(){return yy=Et(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zv((r=Ec(t)).remoteStore)||wc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ec(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Nm(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),yy.apply(this,arguments)}function gy(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function wy(e,t,n){var r=Ec(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function by(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ot(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||ky(e,t)}))}function ky(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Qv(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Sy(e))}function xy(e,t,n){var r,i=Ot(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Gm?(e.qo.addReference(a.key,t),_y(e,a)):a instanceof Qm?(wc("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||ky(e,a.key)):_c()}}catch(o){i.e(o)}finally{i.f()}}function _y(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(wc("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Sy(e))}function Sy(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new ll($c.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Jm(n)),e.Bo=e.Bo.insert(n,r),Gv(e.remoteStore,new Ld(rf(Yl(n.path)),r,2,Mc.I))}}function Ey(e,t,n){return Ty.apply(this,arguments)}function Ty(){return Ty=Et(It().mark((function e(t,n,r){var i,a,o,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ec(t),a=[],o=[],s=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Fp.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=Et(It().mark((function e(t,n){var r,i,a,o,s,u,c,l;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return xd.forEach(n,(function(t){return xd.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return xd.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Id(e.t0)){e.next=10;break}throw e.t0;case 10:wc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ot(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ty.apply(this,arguments)}function Iy(e,t){return Cy.apply(this,arguments)}function Cy(){return Cy=Et(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ec(t)).currentUser.isEqual(n)){e.next=11;break}return wc("SyncEngine","User change. New user:",n.toKey()),e.next=5,qp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Ic(Tc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ey(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),Cy.apply(this,arguments)}function Ny(e,t){var n=Ec(e),r=n.Uo.get(t);if(r&&r.$o)return sh().add(r.key);var i=sh(),a=n.Mo.get(t);if(!a)return i;var o,s=Ot(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Oo.get(u);i=i.unionWith(c.view.Po)}}catch(l){s.e(l)}finally{s.f()}return i}function Ay(e,t){return Oy.apply(this,arguments)}function Oy(){return Oy=Et(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),e.next=3,Zp(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&xy(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}function Py(e){return Ry.apply(this,arguments)}function Ry(){return Ry=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ec(t),e.abrupt("return",tv(n.localStore).then((function(e){return Ey(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Ry.apply(this,arguments)}function jy(e,t,n,r){return Dy.apply(this,arguments)}function Dy(){return Dy=Et(It().mark((function e(t,n,r,i){var a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ec(t),e.next=3,function(e,t){var n=Ec(e),r=Ec(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):xd.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,lm(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(wy(a,n,i||null),gy(a,n),function(e,t){Ec(Ec(e).An).ee(t)}(a.localStore,n)):_c();case 11:return e.next=13,Ey(a,o);case 13:e.next=16;break;case 15:wc("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Ly(e,t){return My.apply(this,arguments)}function My(){return My=Et(It().mark((function e(t,n){var r,i,a,o,s,u,c,l;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ky(r=Ec(t)),Gy(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Uy(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,Sm(r.remoteStore,!0);case 9:o=Ot(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Gv(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return by(r,t),Jp(r.localStore,t,!0)})),Qv(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Uy(r,c);case 21:return function(e){var t=Ec(e);t.Uo.forEach((function(e,n){Qv(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new $f(ll.comparator)}(r),r.Wo=!1,e.next=25,Sm(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function Uy(e,t,n){return Fy.apply(this,arguments)}function Fy(){return Fy=Et(It().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ec(t),a=[],o=[],s=Ot(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,Yp(i.localStore,rf(f[0]));case 11:l=e.sent,h=Ot(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,Ay(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ev(i.localStore,c);case 36:return y=e.sent,e.next=39,Yp(i.localStore,y);case 39:return l=e.sent,e.next=42,ty(i,Vy(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Fy.apply(this,arguments)}function Vy(e){return $l(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function zy(e){var t=Ec(e);return Ec(Ec(t.localStore).persistence).Tn()}function By(e,t,n,r){return qy.apply(this,arguments)}function qy(){return qy=Et(It().mark((function e(t,n,r,i){var a,o,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ec(t)).Wo){e.next=5;break}wc("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,tv(a.localStore);case 11:return o=e.sent,s=lh.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Ey(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,Jp(a.localStore,n,!0);case 18:return by(a,n,i),e.abrupt("break",21);case 20:_c();case 21:case"end":return e.stop()}}),e)}))),qy.apply(this,arguments)}function Hy(e,t,n){return Wy.apply(this,arguments)}function Wy(){return Wy=Et(It().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Ky(t)).Wo){e.next=45;break}a=Ot(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Mo.has(s)){e.next=10;break}return wc("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,ev(i.localStore,s);case 12:return u=e.sent,e.next=15,Yp(i.localStore,u);case 15:return c=e.sent,e.next=18,ty(i,Vy(u),c.targetId,!1);case 18:Gv(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ot(r),e.prev=30,h=It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,Jp(i.localStore,t,!1).then((function(){Qv(i.remoteStore,t),by(i,t)})).catch(vp);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Wy.apply(this,arguments)}function Ky(e){var t=Ec(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ny.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ly.bind(null,t),t.Fo.Pr=Fm.bind(null,t.eventManager),t.Fo.zo=Vm.bind(null,t.eventManager),t}function Gy(e){var t=Ec(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=py.bind(null,t),t}function Qy(e,t,n){var r=Ec(e);(function(){var e=Et(It().mark((function e(t,n,r){var i,a,o,s,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ec(e),r=Eh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Km(i)),a=new Wm(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,Ey(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=Ec(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),kc("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var $y=function(){function e(){Ct(this,e),this.synchronizeTabs=!1}return At(e,[{key:"initialize",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Dv(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Bp(this.persistence,new Vp,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new vv(yv.ks,this.k)}},{key:"Jo",value:function(e){return new Iv}},{key:"terminate",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Yy=function(e){jt(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return At(n,[{key:"initialize",value:function(){var e=Et(It().mark((function e(t){var r=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(Dt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,nv(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,Gy(this.ta.syncEngine);case 8:return e.next=10,lm(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return Bp(this.persistence,new Vp,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new wp(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Lp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?np.withCacheSize(this.cacheSizeBytes):np.DEFAULT;return new Rp(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Rv(),jv(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Iv}}]),n}($y),Jy=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return At(n,[{key:"initialize",value:function(){var e=Et(It().mark((function e(t){var r,i=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(Dt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof Tv,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:jy.bind(null,r),gi:By.bind(null,r),yi:Hy.bind(null,r),Tn:zy.bind(null,r),_i:Py.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ly(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Rv();if(!Tv.bt(t))throw new Ic(Tc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Lp(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Tv(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Yy),Xy=function(){function e(){Ct(this,e)}return At(e,[{key:"initialize",value:function(){var e=Et(It().mark((function e(t,n){var r=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return cy(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Iy.bind(null,this.syncEngine),e.next=12,Sm(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new jm}},{key:"createDatastore",value:function(e){var t,n=Dv(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Pv(t));return function(e,t,n,r){return new Vv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return cy(o.syncEngine,e,0)},a=Nv.bt()?new Nv:new Cv,new Bv(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new Xm(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ec(t),wc("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Wv(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Zy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Et(It().mark((function r(){var i;return It().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var eg=function(){function e(t){Ct(this,e),this.observer=t,this.muted=!1}return At(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),tg=function(){function e(t,n){var r=this;Ct(this,e),this.sa=t,this.k=n,this.metadata=new Cc,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return At(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=Et(It().mark((function e(){var t,n,r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new qm(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=Et(It().mark((function e(){var t,n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=Et(It().mark((function e(){var t,n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ng=function(){function e(t){Ct(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return At(e,[{key:"lookup",value:function(){var e=Et(It().mark((function e(t){var n,r=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Ic(Tc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Et(It().mark((function e(t,n){var r,i,a,o,s,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),i=Ph(r.k)+"/documents",a={documents:n.map((function(e){return Ch(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Lh(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Sc(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Hf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Et(It().mark((function e(){var t,n=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ll.fromPath(t);n.mutations.push(new Wf(r,n.precondition(r)))})),e.next=7,function(){var e=Et(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ec(t),i=Ph(r.k)+"/documents",a={writes:n.map((function(e){return Mh(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _c();t=Hc.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ic(Tc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Nf.updateTime(t):Nf.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Hc.min()))throw new Ic(Tc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nf.updateTime(t)}return Nf.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),rg=function(){function e(t,n,r,i){Ct(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new Lv(this.asyncQueue,"transaction_retry")}return At(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(Et(It().mark((function t(){var n,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new ng(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!sl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Gf(t)}return!1}}]),e}(),ig=function(){function e(t,n,r,i){var a=this;Ct(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vc.UNAUTHENTICATED,this.clientId=Fc.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wc("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return At(e,[{key:"getConfiguration",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Ic(Tc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Cc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Et(It().mark((function n(){var r;return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Nm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ag(e,t){return og.apply(this,arguments)}function og(){return og=Et(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),wc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,qp(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),og.apply(this,arguments)}function sg(e,t){return ug.apply(this,arguments)}function ug(){return ug=Et(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,cg(t);case 3:return r=e.sent,wc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Et(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ec(t)).asyncQueue.verifyOperationInProgress(),wc("RemoteStore","RemoteStore received new credentials"),i=Zv(r),r.Gr.add(3),e.next=6,Wv(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,qv(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),ug.apply(this,arguments)}function cg(e){return lg.apply(this,arguments)}function lg(){return lg=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return wc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ag(t,new $y);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function fg(e){return hg.apply(this,arguments)}function hg(){return hg=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return wc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,sg(t,new Xy);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function dg(e){return cg(e).then((function(e){return e.persistence}))}function pg(e){return cg(e).then((function(e){return e.localStore}))}function vg(e){return fg(e).then((function(e){return e.remoteStore}))}function mg(e){return fg(e).then((function(e){return e.syncEngine}))}function yg(e){return gg.apply(this,arguments)}function gg(){return gg=Et(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Zm.bind(null,n.syncEngine),r.onUnlisten=ry.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),gg.apply(this,arguments)}function wg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Cc;return e.asyncQueue.enqueueAndForget(Et(It().mark((function i(){return It().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new eg({next:function(a){t.enqueueAndForget((function(){return Mm(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Ic(Tc.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Ic(Tc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Bm(Yl(n.path),a,{includeMetadataChanges:!0,wo:!0});return Dm(e,o)},i.next=3,yg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function bg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Cc;return e.asyncQueue.enqueueAndForget(Et(It().mark((function i(){return It().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new eg({next:function(n){t.enqueueAndForget((function(){return Mm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Ic(Tc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Bm(n,a,{includeMetadataChanges:!0,wo:!0});return Dm(e,o)},i.next=3,yg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var kg=At((function e(t,n,r,i,a,o,s,u){Ct(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),xg=function(){function e(t,n){Ct(this,e),this.projectId=t,this.database=n||"(default)"}return At(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),_g=new Map;function Sg(e,t,n){if(!n)throw new Ic(Tc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Eg(e,t,n,r){if(!0===t&&!0===r)throw new Ic(Tc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Tg(e){if(!ll.isDocumentKey(e))throw new Ic(Tc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ig(e){if(ll.isDocumentKey(e))throw new Ic(Tc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Cg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":_c()}function Ng(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ic(Tc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Cg(e);throw new Ic(Tc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Ag(e,t){if(t<=0)throw new Ic(Tc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Og=function(){function e(t){var n;if(Ct(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Ic(Tc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ic(Tc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Eg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return At(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Pg=function(){function e(t,n,r){Ct(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Og({}),this._settingsFrozen=!1,t instanceof xg?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ic(Tc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xg(e.options.projectId)}(t))}return At(e,[{key:"app",get:function(){if(!this._app)throw new Ic(Tc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Ic(Tc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Og(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ac;switch(e.type){case"gapi":var t=e.client;return Sc(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new jc(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ic(Tc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=_g.get(e);t&&(wc("ComponentProvider","Removing Datastore"),_g.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Rg(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Ng(e,Pg))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&kc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=vc.MOCK_USER;else{o=Qt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Ic(Tc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new vc(u)}e._authCredentials=new Oc(new Nc(o,s))}}var jg=function(){function e(t,n,r){Ct(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return At(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Lg(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Dg=function(){function e(t,n,r){Ct(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return At(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Lg=function(e){jt(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this,e,r,Yl(i)))._path=i,a.type="collection",a}return At(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new jg(this.firestore,null,new ll(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Dg);function Mg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mn(e),Sg("collection","path",t),e instanceof Pg){var a=$c.fromString.apply($c,[t].concat(r));return Ig(a),new Lg(e,null,a)}if(!(e instanceof jg||e instanceof Lg))throw new Ic(Tc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child($c.fromString.apply($c,[t].concat(r)));return Ig(o),new Lg(e.firestore,null,o)}function Ug(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mn(e),1===arguments.length&&(t=Fc.A()),Sg("doc","path",t),e instanceof Pg){var a=$c.fromString.apply($c,[t].concat(r));return Tg(a),new jg(e,null,new ll(a))}if(!(e instanceof jg||e instanceof Lg))throw new Ic(Tc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child($c.fromString.apply($c,[t].concat(r)));return Tg(o),new jg(e.firestore,e instanceof Lg?e.converter:null,new ll(o))}function Fg(e,t){return e=mn(e),t=mn(t),(e instanceof jg||e instanceof Lg)&&(t instanceof jg||t instanceof Lg)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Vg(e,t){return e=mn(e),t=mn(t),e instanceof Dg&&t instanceof Dg&&e.firestore===t.firestore&&of(e._query,t._query)&&e.converter===t.converter}var zg=function(){function e(){var t=this;Ct(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Lv(this,"async_queue_retry"),this.Ra=function(){var e=jv();e&&wc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=jv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return At(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=jv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new Cc;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=Et(It().mark((function e(){var t=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Id(e.t0)){e.next=12;break}throw e.t0;case 12:wc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw bc("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=Cm.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&_c()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=Et(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=Ot(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ot(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function Bg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ot(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var qg=function(){function e(){Ct(this,e),this._progressObserver={},this._taskCompletionResolver=new Cc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return At(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Hg=function(e){jt(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new zg,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return At(n,[{key:"_terminate",value:function(){return this._firestoreClient||Kg(this),this._firestoreClient.terminate()}}]),n}(Pg);function Wg(e){return e._firestoreClient||Kg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Kg(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new kg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ig(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Gg(e,t,n){var r=new Cc;return e.asyncQueue.enqueue(Et(It().mark((function i(){return It().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ag(e,n);case 3:return i.next=5,sg(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Tc.FAILED_PRECONDITION||e.code===Tc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Qg(e){return function(e){return e.asyncQueue.enqueue(Et(It().mark((function t(){var n,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dg(e);case 2:return n=t.sent,t.next=5,vg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ec(e);return t.Gr.delete(0),qv(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Wg(e=Ng(e,Hg)))}function $g(e){return function(e){return e.asyncQueue.enqueue(Et(It().mark((function t(){var n,r;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dg(e);case 2:return n=t.sent,t.next=5,vg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ec(t)).Gr.add(0),e.next=4,Wv(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Wg(e=Ng(e,Hg)))}function Yg(e,t){var n=Wg(e=Ng(e,Hg)),r=new qg;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new tg(e,t)}(function(e,t){if(e instanceof Uint8Array)return Zy(e,t);if(e instanceof ArrayBuffer)return Zy(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Dv(t));e.asyncQueue.enqueueAndForget(Et(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Qy,t.next=3,mg(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Jg(e,t){return function(e,t){return e.asyncQueue.enqueue(Et(It().mark((function n(){return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ec(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,pg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Wg(e=Ng(e,Hg)),t).then((function(t){return t?new Dg(e,null,t.query):null}))}function Xg(e){if(e._initialized||e._terminated)throw new Ic(Tc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Zg=function(){function e(){Ct(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Ic(Tc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jc(n)}return At(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var ew=function(){function e(t){Ct(this,e),this._byteString=t}return At(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Zc.fromBase64String(t))}catch(t){throw new Ic(Tc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Zc.fromUint8Array(t))}}]),e}(),tw=At((function e(t){Ct(this,e),this._methodName=t})),nw=function(){function e(t,n){if(Ct(this,e),!isFinite(t)||t<-90||t>90)throw new Ic(Tc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ic(Tc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return At(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Vc(this._lat,e._lat)||Vc(this._long,e._long)}}]),e}(),rw=/^__.*__$/,iw=function(){function e(t,n,r){Ct(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return At(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Uf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mf(e,this.data,t,this.fieldTransforms)}}]),e}(),aw=function(){function e(t,n,r){Ct(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return At(e,[{key:"toMutation",value:function(e,t){return new Uf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function ow(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _c()}}var sw=function(){function e(t,n,r,i,a,o){Ct(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return At(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return Iw(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(ow(this.xa)&&rw.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),uw=function(){function e(t,n,r){Ct(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Dv(t)}return At(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new sw({xa:e,methodName:t,Ka:n,path:Jc.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function cw(e){var t=e._freezeSettings(),n=Dv(e._databaseId);return new uw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lw(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);_w("Data must be an object, but it was:",o,r);var s,u,c=kw(r,o);if(a.merge)s=new Xc(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ot(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Sw(t,d,n);if(!o.contains(p))throw new Ic(Tc.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Cw(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Xc(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new iw(new El(c),s,u)}var fw=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return At(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tw);function hw(e,t,n){return new sw({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var dw=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return At(n,[{key:"_toFieldTransform",value:function(e){return new If(e.path,new wf)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tw),pw=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e)).Qa=r,i}return At(n,[{key:"_toFieldTransform",value:function(e){var t=hw(this,e,!0),n=this.Qa.map((function(e){return bw(e,t)})),r=new bf(n);return new If(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tw),vw=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e)).Qa=r,i}return At(n,[{key:"_toFieldTransform",value:function(e){var t=hw(this,e,!0),n=this.Qa.map((function(e){return bw(e,t)})),r=new xf(n);return new If(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tw),mw=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e)).Wa=r,i}return At(n,[{key:"_toFieldTransform",value:function(e){var t=new Sf(e.k,pf(e.k,this.Wa));return new If(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tw);function yw(e,t,n,r){var i=e.ja(1,t,n);_w("Data must be an object, but it was:",i,r);var a=[],o=El.empty();Kc(r,(function(e,r){var s=Tw(t,e,n);r=mn(r);var u=i.La(s);if(r instanceof fw)a.push(s);else{var c=bw(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Xc(a);return new aw(o,s,i.fieldTransforms)}function gw(e,t,n,r,i,a){var o=e.ja(1,t,n),s=[Sw(t,r,n)],u=[i];if(a.length%2!=0)throw new Ic(Tc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Sw(t,a[c])),u.push(a[c+1]);for(var l=[],f=El.empty(),h=s.length-1;h>=0;--h)if(!Cw(l,s[h])){var d=s[h],p=u[h];p=mn(p);var v=o.La(d);if(p instanceof fw)l.push(d);else{var m=bw(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Xc(l);return new aw(f,y,o.fieldTransforms)}function ww(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bw(n,e.ja(r?4:3,t))}function bw(e,t){if(xw(e=mn(e)))return _w("Unsupported field value:",t,e),kw(e,t);if(e instanceof tw)return function(e,t){if(!ow(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ot(e);try{for(a.s();!(n=a.n()).done;){var o=bw(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=mn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pf(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=qc.fromDate(e);return{timestampValue:xh(t.k,n)}}if(e instanceof qc){var r=new qc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xh(t.k,r)}}if(e instanceof nw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ew)return{bytesValue:_h(t.k,e._byteString)};if(e instanceof jg){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Th(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(Cg(e)))}(e,t)}function kw(e,t){var n={};return Gc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Kc(e,(function(e,r){var i=bw(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof qc||e instanceof nw||e instanceof ew||e instanceof jg||e instanceof tw)}function _w(e,t,n){if(!xw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Cg(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function Sw(e,t,n){if((t=mn(t))instanceof Zg)return t._internalPath;if("string"==typeof t)return Tw(e,t);throw Iw("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Ew=new RegExp("[~\\*/\\[\\]]");function Tw(e,t,n){if(t.search(Ew)>=0)throw Iw("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Vt(Zg,gn(t.split(".")))._internalPath}catch(r){throw Iw("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Iw(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Ic(Tc.INVALID_ARGUMENT,s+e+u)}function Cw(e,t){return e.some((function(e){return e.isEqual(t)}))}var Nw=function(){function e(t,n,r,i,a){Ct(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return At(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new jg(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Aw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Ow("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Aw=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return At(n,[{key:"data",value:function(){return ea(Dt(n.prototype),"data",this).call(this)}}]),n}(Nw);function Ow(e,t){return"string"==typeof t?Tw(e,t):t instanceof Zg?t._internalPath:t._delegate._internalPath}var Pw=function(){function e(t,n){Ct(this,e),this.hasPendingWrites=t,this.fromCache=n}return At(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Rw=function(e){jt(n,e);var t=Ft(n);function n(e,r,i,a,o,s){var u;return Ct(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return At(n,[{key:"exists",value:function(){return ea(Dt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new jw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Ow("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Nw),jw=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return At(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ea(Dt(n.prototype),"data",this).call(this,e)}}]),n}(Rw),Dw=function(){function e(t,n,r,i){Ct(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pw(i.hasPendingWrites,i.fromCache),this.query=r}return At(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new jw(n._firestore,n._userDataWriter,r.key,r,new Pw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ic(Tc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new jw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Pw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new jw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Pw(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Lw(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Lw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _c()}}function Mw(e,t){return e instanceof Rw&&t instanceof Rw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Dw&&t instanceof Dw&&e._firestore===t._firestore&&Vg(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Uw(e){if(Xl(e)&&0===e.explicitOrderBy.length)throw new Ic(Tc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fw=At((function e(){Ct(this,e)}));function Vw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var zw=function(e){jt(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return At(n,[{key:"_apply",value:function(e){var t=cw(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ic(Tc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){Xw(o,a);var u,c=[],l=Ot(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(Jw(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=Jw(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Xw(o,a),s=ww(n,"where",o,"in"===a||"not-in"===a);var h=Rl.create(i,a,s);return function(e,t){if(t.V()){var n=ef(e);if(null!==n&&!n.isEqual(t.field))throw new Ic(Tc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Zl(e);null!==r&&Zw(e,t.field,r)}var i=function(e,t){var n,r=Ot(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Ic(Tc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ic(Tc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Dg(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ql(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Fw);var Bw=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return At(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Ic(Tc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ic(Tc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Hl(t,n);return function(e,t){if(null===Zl(e)){var n=ef(e);null!==n&&Zw(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new Dg(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ql(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Fw);var qw=function(e){jt(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return At(n,[{key:"_apply",value:function(e){return new Dg(e.firestore,e.converter,af(e._query,this.Ya,this.Xa))}}]),n}(Fw);var Hw=function(e){jt(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return At(n,[{key:"_apply",value:function(e){var t=Yw(e,this.type,this.Za,this.tc);return new Dg(e.firestore,e.converter,function(e,t){return new Ql(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Fw);function Ww(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Hw("startAt",t,!0)}function Kw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Hw("startAfter",t,!1)}var Gw=function(e){jt(n,e);var t=Ft(n);function n(e,r,i){var a;return Ct(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return At(n,[{key:"_apply",value:function(e){var t=Yw(e,this.type,this.Za,this.tc);return new Dg(e.firestore,e.converter,function(e,t){return new Ql(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Fw);function Qw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Gw("endBefore",t,!0)}function $w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Gw("endAt",t,!1)}function Yw(e,t,n,r){if(n[0]=mn(n[0]),n[0]instanceof Nw)return function(e,t,n,r,i){if(!r)throw new Ic(Tc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Ot(nf(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(gl(t,r.key));else{var c=r.data.field(u.field);if(il(c))throw new Ic(Tc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ic(Tc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Bl(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=cw(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Ic(Tc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Ic(Tc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!tf(e)&&-1!==c.indexOf("/"))throw new Ic(Tc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child($c.fromString(c));if(!ll.isDocumentKey(l))throw new Ic(Tc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ll(l);s.push(gl(t,f))}else{var h=ww(n,r,c);s.push(h)}}return new Bl(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Jw(e,t,n){if("string"==typeof(n=mn(n))){if(""===n)throw new Ic(Tc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!tf(t)&&-1!==n.indexOf("/"))throw new Ic(Tc.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child($c.fromString(n));if(!ll.isDocumentKey(r))throw new Ic(Tc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gl(e,new ll(r))}if(n instanceof jg)return gl(e,n._key);throw new Ic(Tc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Cg(n),"."))}function Xw(e,t){if(!Array.isArray(e)||0===e.length)throw new Ic(Tc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Ic(Tc.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Zw(e,t,n){if(!n.isEqual(t))throw new Ic(Tc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var eb=function(){function e(){Ct(this,e)}return At(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _c()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Kc(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new nw(nl(e.latitude),nl(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=al(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ol(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=tl(e);return new qc(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=$c.fromString(e);Sc(Xh(n));var r=new xg(n.get(1),n.get(3)),i=new ll(n.popFirst(5));return r.isEqual(t)||bc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function tb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var nb=function(e){jt(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).firestore=e,r}return At(n,[{key:"convertBytes",value:function(e){return new ew(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jg(this.firestore,null,t)}}]),n}(eb),rb=function(){function e(t,n){Ct(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cw(t)}return At(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=ib(e,this._firestore),i=tb(r.converter,t,n),a=lw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Nf.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=ib(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=mn(t))||t instanceof Zg?gw(this._dataReader,"WriteBatch.update",i._key,t,n,o):yw(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Nf.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=ib(e,this._firestore);return this._mutations=this._mutations.concat(new Hf(t._key,Nf.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Ic(Tc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function ib(e,t){if((e=mn(e)).firestore!==t)throw new Ic(Tc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ab=function(e){jt(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).firestore=e,r}return At(n,[{key:"convertBytes",value:function(e){return new ew(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jg(this.firestore,null,t)}}]),n}(eb);function ob(e){e=Ng(e,jg);var t=Ng(e.firestore,Hg),n=Wg(t),r=new ab(t);return function(e,t){var n=new Cc;return e.asyncQueue.enqueueAndForget(Et(It().mark((function r(){return It().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Et(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ec(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Ic(Tc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Nm(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,pg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Rw(t,r,e._key,n,new Pw(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function sb(e){e=Ng(e,Dg);var t=Ng(e.firestore,Hg),n=Wg(t),r=new ab(t);return function(e,t){var n=new Cc;return e.asyncQueue.enqueueAndForget(Et(It().mark((function r(){return It().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Et(It().mark((function e(t,n,r){var i,a,o,s,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zp(t,n,!0);case 3:i=e.sent,a=new $m(n,i.zn),o=a.bo(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Nm(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,pg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Dw(t,r,e,n)}))}function ub(e,t,n){e=Ng(e,jg);var r=Ng(e.firestore,Hg),i=tb(e.converter,t,n);return hb(r,[lw(cw(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Nf.none())])}function cb(e,t,n){e=Ng(e,jg);for(var r=Ng(e.firestore,Hg),i=cw(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return hb(r,[("string"==typeof(t=mn(t))||t instanceof Zg?gw(i,"updateDoc",e._key,t,n,o):yw(i,"updateDoc",e._key,t)).toMutation(e._key,Nf.exists(!0))])}function lb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=mn(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Bg(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Bg(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof jg)l=Ng(e.firestore,Hg),f=Yl(e._key.path),c={next:function(t){n[u]&&n[u](db(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=Ng(e,Dg);l=Ng(p.firestore,Hg),f=p._query;var v=new ab(l);c={next:function(e){n[u]&&n[u](new Dw(l,v,p,e))},error:n[u+1],complete:n[u+2]},Uw(e._query)}return function(e,t,n,r){var i=new eg(r),a=new Bm(t,i,n);return e.asyncQueue.enqueueAndForget(Et(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Dm,t.next=3,yg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(Et(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Mm,t.next=3,yg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Wg(l),f,h,c)}function fb(e,t){return function(e,t){var n=new eg(t);return e.asyncQueue.enqueueAndForget(Et(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ec(e).io.add(t),t.next()},t.next=3,yg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(Et(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ec(e).io.delete(t)},t.next=3,yg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Wg(e=Ng(e,Hg)),Bg(t)?t:{next:t})}function hb(e,t){return function(e,t){var n=new Cc;return e.asyncQueue.enqueueAndForget(Et(It().mark((function r(){return It().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ay,r.next=3,mg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Wg(e),t)}function db(e,t,n){var r=n.docs.get(t._key),i=new ab(e);return new Rw(e,i,t._key,r,new Pw(n.hasPendingWrites,n.fromCache),t.converter)}var pb=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e,r))._firestore=e,i}return At(n,[{key:"get",value:function(e){var t=this,r=ib(e,this._firestore),i=new ab(this._firestore);return ea(Dt(n.prototype),"get",this).call(this,e).then((function(e){return new Rw(t._firestore,i,r._key,e._document,new Pw(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ct(this,e),this._firestore=t,this._transaction=n,this._dataReader=cw(t)}return At(e,[{key:"get",value:function(e){var t=this,n=ib(e,this._firestore),r=new nb(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return _c();var i=e[0];if(i.isFoundDocument())return new Nw(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Nw(t._firestore,r,n._key,null,n.converter);throw _c()}))}},{key:"set",value:function(e,t,n){var r=ib(e,this._firestore),i=tb(r.converter,t,n),a=lw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=ib(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=mn(t))||t instanceof Zg?gw(this._dataReader,"Transaction.update",i._key,t,n,o):yw(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=ib(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function vb(e,t){return function(e,t){var n=new Cc;return e.asyncQueue.enqueueAndForget(Et(It().mark((function r(){var i;return It().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return fg(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new rg(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Wg(e=Ng(e,Hg)),(function(n){return t(new pb(e,n))}))}function mb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pw("arrayUnion",t)}function yb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vw("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){mc=e}(Xn),qn(new wn("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Hg(i,new Pc(e.getProvider("auth-internal")),new Lc(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ir(pc,"3.4.1",e),ir(pc,"3.4.1","esm2017")}();function gb(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ic("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function wb(){if("undefined"===typeof Uint8Array)throw new Ic("unimplemented","Uint8Arrays are not available in this environment.")}function bb(){if("undefined"==typeof atob)throw new Ic("unimplemented","Blobs are unavailable in Firestore in this environment.")}var kb=function(){function e(t){Ct(this,e),this._delegate=t}return At(e,[{key:"toBase64",value:function(){return bb(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return wb(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return bb(),new e(ew.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return wb(),new e(ew.fromUint8Array(t))}}]),e}();function xb(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ot(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var _b=function(){function e(){Ct(this,e)}return At(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Xg(e=Ng(e,Hg));var n=Wg(e),r=e._freezeSettings(),i=new Xy;return Gg(n,i,new Yy(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Xg(e=Ng(e,Hg));var t=Wg(e),n=e._freezeSettings(),r=new Xy;return Gg(t,r,new Jy(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Ic(Tc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Cc;return e._queue.enqueueAndForgetEvenWhileRestricted(Et(It().mark((function n(){return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Sd.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Sd.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Lp(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Sb=function(){function e(t,n,r){var i=this;Ct(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof xg||(this._appCompat=t)}return At(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||kc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Rg(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Qg(this._delegate)}},{key:"disableNetwork",value:function(){return $g(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Eg("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Cc;return e.asyncQueue.enqueueAndForget(Et(It().mark((function n(){return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=my,n.next=3,mg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Wg(e=Ng(e,Hg)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return fb(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Ic("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Ub(this,Mg(this._delegate,e))}catch(t){throw Ab(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Nb(this,Ug(this._delegate,e))}catch(t){throw Ab(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Db(this,function(e,t){if(e=Ng(e,Pg),Sg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ic(Tc.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Dg(e,null,function(e){return new Ql($c.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Ab(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return vb(this._delegate,(function(n){return e(new Tb(t,n))}))}},{key:"batch",value:function(){var e=this;return Wg(this._delegate),new Ib(new rb(this._delegate,(function(t){return hb(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Yg(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Jg(this._delegate,e).then((function(e){return e?new Db(t,e):null}))}}]),e}(),Eb=function(e){jt(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this)).firestore=e,r}return At(n,[{key:"convertBytes",value:function(e){return new kb(new ew(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Nb.forKey(t,this.firestore,null)}}]),n}(eb);var Tb=function(){function e(t,n){Ct(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Eb(t)}return At(e,[{key:"get",value:function(e){var t=this,n=Fb(e);return this._delegate.get(n).then((function(e){return new Rb(t._firestore,new Rw(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Fb(e);return n?(gb("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Fb(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Fb(e);return this._delegate.delete(t),this}}]),e}(),Ib=function(){function e(t){Ct(this,e),this._delegate=t}return At(e,[{key:"set",value:function(e,t,n){var r=Fb(e);return n?(gb("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Fb(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Fb(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Cb=function(){function e(t,n,r){Ct(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return At(e,[{key:"fromFirestore",value:function(e,t){var n=new jw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jb(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Eb(t),n),i.set(n,a)),a}}]),e}();Cb.INSTANCES=new WeakMap;var Nb=function(){function e(t,n){Ct(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Eb(t)}return At(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Ub(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Ub(this.firestore,Mg(this._delegate,e))}catch(t){throw Ab(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=mn(e))instanceof jg&&Fg(this._delegate,e)}},{key:"set",value:function(e,t){t=gb("DocumentReference.set",t);try{return t?ub(this._delegate,e,t):ub(this._delegate,e)}catch(n){throw Ab(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?cb(this._delegate,e):cb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Ab(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return hb(Ng(e.firestore,Hg),[new Hf(e._key,Nf.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ob(n),a=Pb(n,(function(t){return new Rb(e.firestore,new Rw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return lb(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?ob(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ng(e,jg);var t=Ng(e.firestore,Hg);return wg(Wg(t),e._key,{source:"server"}).then((function(n){return db(t,e,n)}))}(this._delegate):function(e){e=Ng(e,jg);var t=Ng(e.firestore,Hg);return wg(Wg(t),e._key).then((function(n){return db(t,e,n)}))}(this._delegate),t.then((function(e){return new Rb(n.firestore,new Rw(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Cb.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Ic("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new jg(n._delegate,r,new ll(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new jg(n._delegate,r,t))}}]),e}();function Ab(e,t,n){return e.message=e.message.replace(t,n),e}function Ob(e){var t,n=Ot(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!xb(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Pb(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=xb(e[0])?e[0]:xb(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Rb=function(){function e(t,n){Ct(this,e),this._firestore=t,this._delegate=n}return At(e,[{key:"ref",get:function(){return new Nb(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Mw(this._delegate,e._delegate)}}]),e}(),jb=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return At(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||_c()}(void 0!==t),t}}]),n}(Rb),Db=function(){function e(t,n){Ct(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Eb(t)}return At(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Vw(this._delegate,function(e,t,n){var r=t,i=Ow("where",e);return new zw(i,r,n)}(t,n,r)))}catch(i){throw Ab(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Vw(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Ow("orderBy",e);return new Bw(n,t)}(t,n)))}catch(r){throw Ab(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Vw(this._delegate,function(e){return Ag("limit",e),new qw("limit",e,"F")}(t)))}catch(n){throw Ab(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Vw(this._delegate,function(e){return Ag("limitToLast",e),new qw("limitToLast",e,"L")}(t)))}catch(n){throw Ab(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Vw(this._delegate,Ww.apply(void 0,arguments)))}catch(t){throw Ab(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Vw(this._delegate,Kw.apply(void 0,arguments)))}catch(t){throw Ab(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Vw(this._delegate,Qw.apply(void 0,arguments)))}catch(t){throw Ab(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Vw(this._delegate,$w.apply(void 0,arguments)))}catch(t){throw Ab(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Vg(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?sb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ng(e,Dg);var t=Ng(e.firestore,Hg),n=Wg(t),r=new ab(t);return bg(n,e._query,{source:"server"}).then((function(n){return new Dw(t,r,e,n)}))}(this._delegate):function(e){e=Ng(e,Dg);var t=Ng(e.firestore,Hg),n=Wg(t),r=new ab(t);return Uw(e._query),bg(n,e._query).then((function(n){return new Dw(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Mb(n.firestore,new Dw(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ob(n),a=Pb(n,(function(t){return new Mb(e.firestore,new Dw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return lb(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Cb.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Lb=function(){function e(t,n){Ct(this,e),this._firestore=t,this._delegate=n}return At(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new jb(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Mb=function(){function e(t,n){Ct(this,e),this._firestore=t,this._delegate=n}return At(e,[{key:"query",get:function(){return new Db(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new jb(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Lb(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new jb(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Mw(this._delegate,e._delegate)}}]),e}(),Ub=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return At(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Nb(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Nb(this.firestore,void 0===e?Ug(this._delegate):Ug(this._delegate,e))}catch(t){throw Ab(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Ng(e.firestore,Hg),r=Ug(e),i=tb(e.converter,t);return hb(n,[lw(cw(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Nf.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Nb(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Fg(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Cb.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Db);function Fb(e){return Ng(e,jg)}var Vb,zb=function(){function e(){Ct(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Vt(Zg,n)}return At(e,[{key:"isEqual",value:function(e){return(e=mn(e))instanceof Zg&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Jc.keyField().canonicalString())}}]),e}(),Bb=function(){function e(t){Ct(this,e),this._delegate=t}return At(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new dw("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new fw("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=mb.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=yb.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new mw("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),qb={Firestore:Sb,GeoPoint:nw,Timestamp:qc,Blob:kb,Transaction:Tb,WriteBatch:Ib,DocumentReference:Nb,DocumentSnapshot:Rb,Query:Db,QueryDocumentSnapshot:jb,QuerySnapshot:Mb,CollectionReference:Ub,FieldPath:zb,FieldValue:Bb,setLogLevel:function(e){!function(e){yc.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new wn("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},qb)))})(Vb=dr,(function(e,t){return new Sb(e,t,new _b)})),Vb.registerVersion("@firebase/firestore-compat","0.1.10");function Hb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Wb;Object.create;var Kb="facebook.com",Gb="github.com",Qb="google.com",$b="password",Yb="twitter.com",Jb="EMAIL_SIGNIN",Xb="PASSWORD_RESET",Zb="RECOVER_EMAIL",ek="REVERT_SECOND_FACTOR_ADDITION",tk="VERIFY_AND_CHANGE_EMAIL",nk="VERIFY_EMAIL";function rk(){return kt({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ik=function(){var e;return kt(e={},"admin-restricted-operation","This operation is restricted to administrators only."),kt(e,"argument-error",""),kt(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),kt(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),kt(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),kt(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),kt(e,"cordova-not-ready","Cordova framework is not ready."),kt(e,"cors-unsupported","This browser is not supported."),kt(e,"credential-already-in-use","This credential is already associated with a different user account."),kt(e,"custom-token-mismatch","The custom token corresponds to a different audience."),kt(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),kt(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),kt(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),kt(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),kt(e,"email-already-in-use","The email address is already in use by another account."),kt(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),kt(e,"expired-action-code","The action code has expired."),kt(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),kt(e,"internal-error","An internal AuthError has occurred."),kt(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),kt(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),kt(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),kt(e,"invalid-auth-event","An internal AuthError has occurred."),kt(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),kt(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),kt(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),kt(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),kt(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),kt(e,"invalid-email","The email address is badly formatted."),kt(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),kt(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),kt(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),kt(e,"invalid-credential","The supplied auth credential is malformed or has expired."),kt(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),kt(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),kt(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),kt(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),kt(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),kt(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),kt(e,"wrong-password","The password is invalid or the user does not have a password."),kt(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),kt(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),kt(e,"invalid-provider-id","The specified provider ID is invalid."),kt(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),kt(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),kt(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),kt(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),kt(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),kt(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),kt(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),kt(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),kt(e,"missing-continue-uri","A continue URL must be provided in the request."),kt(e,"missing-iframe-start","An internal AuthError has occurred."),kt(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),kt(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),kt(e,"missing-multi-factor-info","No second factor identifier is provided."),kt(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),kt(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),kt(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),kt(e,"app-deleted","This instance of FirebaseApp has been deleted."),kt(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),kt(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),kt(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),kt(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),kt(e,"no-auth-event","An internal AuthError has occurred."),kt(e,"no-such-provider","User was not linked to an account with the given provider."),kt(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),kt(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),kt(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),kt(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),kt(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),kt(e,"provider-already-linked","User can only be linked to one identity for the given provider."),kt(e,"quota-exceeded","The project's quota for this operation has been exceeded."),kt(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),kt(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),kt(e,"rejected-credential","The request contains malformed or mismatching credentials."),kt(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),kt(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),kt(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),kt(e,"timeout","The operation has timed out."),kt(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),kt(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),kt(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),kt(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),kt(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),kt(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),kt(e,"unverified-email","The operation requires a verified email."),kt(e,"user-cancelled","The user did not grant your application the permissions it requested."),kt(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),kt(e,"user-disabled","The user account has been disabled by an administrator."),kt(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),kt(e,"user-signed-out",""),kt(e,"weak-password","The password must be 6 characters long or more."),kt(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),kt(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},ak=rk,ok=new rn("auth","Firebase",rk()),sk=new Pn("@firebase/auth");function uk(e){if(sk.logLevel<=_n.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];sk.error.apply(sk,["Auth (".concat(Xn,"): ").concat(e)].concat(n))}}function ck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw dk.apply(void 0,[e].concat(n))}function lk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return dk.apply(void 0,[e].concat(n))}function fk(e,t,n){var r=Object.assign(Object.assign({},ak()),kt({},t,n));return new rn("auth","Firebase",r).create(t,{appName:e.name})}function hk(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ck(e,"argument-error"),fk(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function dk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=gn(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(gn(o)))}return ok.create.apply(ok,[e].concat(n))}function pk(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw dk.apply(void 0,[t].concat(r))}}function vk(e){var t="INTERNAL ASSERTION FAILED: "+e;throw uk(t),new Error(t)}function mk(e,t){e||vk(t)}var yk=new Map;function gk(e){mk(e instanceof Function,"Expected a class definition");var t=yk.get(e);return t?(mk(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yk.set(e,t),t)}function wk(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function bk(){return"http:"===kk()||"https:"===kk()}function kk(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var xk=function(){function e(t,n){Ct(this,e),this.shortDelay=t,this.longDelay=n,mk(n>t,"Short delay should be less than long delay!"),this.isMobile=Yt()||Zt()}return At(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(bk()||Xt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function _k(e,t){mk(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Sk=function(){function e(){Ct(this,e)}return At(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void vk("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void vk("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void vk("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ek=(kt(Wb={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),kt(Wb,"MISSING_CUSTOM_TOKEN","internal-error"),kt(Wb,"INVALID_IDENTIFIER","invalid-email"),kt(Wb,"MISSING_CONTINUE_URI","internal-error"),kt(Wb,"INVALID_PASSWORD","wrong-password"),kt(Wb,"MISSING_PASSWORD","internal-error"),kt(Wb,"EMAIL_EXISTS","email-already-in-use"),kt(Wb,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),kt(Wb,"INVALID_IDP_RESPONSE","invalid-credential"),kt(Wb,"INVALID_PENDING_TOKEN","invalid-credential"),kt(Wb,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),kt(Wb,"MISSING_REQ_TYPE","internal-error"),kt(Wb,"EMAIL_NOT_FOUND","user-not-found"),kt(Wb,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),kt(Wb,"EXPIRED_OOB_CODE","expired-action-code"),kt(Wb,"INVALID_OOB_CODE","invalid-action-code"),kt(Wb,"MISSING_OOB_CODE","internal-error"),kt(Wb,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),kt(Wb,"INVALID_ID_TOKEN","invalid-user-token"),kt(Wb,"TOKEN_EXPIRED","user-token-expired"),kt(Wb,"USER_NOT_FOUND","user-token-expired"),kt(Wb,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),kt(Wb,"INVALID_CODE","invalid-verification-code"),kt(Wb,"INVALID_SESSION_INFO","invalid-verification-id"),kt(Wb,"INVALID_TEMPORARY_PROOF","invalid-credential"),kt(Wb,"MISSING_SESSION_INFO","missing-verification-id"),kt(Wb,"SESSION_EXPIRED","code-expired"),kt(Wb,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),kt(Wb,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),kt(Wb,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),kt(Wb,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),kt(Wb,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),kt(Wb,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),kt(Wb,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),kt(Wb,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),kt(Wb,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),kt(Wb,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),kt(Wb,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Wb),Tk=new xk(3e4,6e4);function Ik(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ck(e,t,n,r){return Nk.apply(this,arguments)}function Nk(){return Nk=Et(It().mark((function e(t,n,r,i){var a,o=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ak(t,a,Et(It().mark((function e(){var a,o,s,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=ln(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Sk.fetch()(jk(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Nk.apply(this,arguments)}function Ak(e,t,n){return Ok.apply(this,arguments)}function Ok(){return Ok=Et(It().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ek),n),e.prev=2,a=new Dk(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Lk(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=u(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Lk(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Lk(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw fk(t,p,d);case 30:ck(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof nn)){e.next=37;break}throw e.t0;case 37:ck(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Ok.apply(this,arguments)}function Pk(e,t,n,r){return Rk.apply(this,arguments)}function Rk(){return Rk=Et(It().mark((function e(t,n,r,i){var a,o,s=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Ck(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ck(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Rk.apply(this,arguments)}function jk(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?_k(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Dk=function(){function e(t){var n=this;Ct(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(lk(n.auth,"timeout"))}),Tk.get())}))}return At(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Lk(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=lk(e,t,r);return i.customData._tokenResponse=n,i}function Mk(e,t){return Uk.apply(this,arguments)}function Uk(){return Uk=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ck(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Uk.apply(this,arguments)}function Fk(e,t){return Vk.apply(this,arguments)}function Vk(){return Vk=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ck(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Vk.apply(this,arguments)}function zk(e,t){return Bk.apply(this,arguments)}function Bk(){return Bk=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ck(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Bk.apply(this,arguments)}function qk(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Hk(){return Hk=Et(It().mark((function e(t){var n,r,i,a,o,s,u=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=mn(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,pk((a=Kk(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:qk(Wk(a.auth_time)),issuedAtTime:qk(Wk(a.iat)),expirationTime:qk(Wk(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Hk.apply(this,arguments)}function Wk(e){return 1e3*Number(e)}function Kk(e){var t=u(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return uk("JWT malformed, contained fewer than 3 sections"),null;try{var a=Wt(r);return a?JSON.parse(a):(uk("Failed to decode base64 JWT payload"),null)}catch(o){return uk("Caught error parsing JWT payload as JSON",o),null}}function Gk(e,t){return Qk.apply(this,arguments)}function Qk(){return Qk=Et(It().mark((function e(t,n){var r=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof nn&&$k(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Qk.apply(this,arguments)}function $k(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Yk=function(){function e(t){Ct(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return At(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Et(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Jk=function(){function e(t,n){Ct(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return At(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=qk(this.lastLoginAt),this.creationTime=qk(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Xk(e){return Zk.apply(this,arguments)}function Zk(){return Zk=Et(It().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Gk(t,zk(r,{idToken:i}));case 6:pk(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?nx(o.providerUserInfo):[],u=tx(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jk(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function ex(){return(ex=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mn(t),e.next=3,Xk(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tx(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(gn(n),gn(t))}function nx(e){return e.map((function(e){var t=e.providerId,n=Hb(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function rx(e,t){return ix.apply(this,arguments)}function ix(){return ix=Et(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ak(t,{},Et(It().mark((function e(){var r,i,a,o,s,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ln({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=jk(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Sk.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ix.apply(this,arguments)}var ax=function(){function e(){Ct(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return At(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){pk(e.idToken,"internal-error"),pk("undefined"!==typeof e.idToken,"internal-error"),pk("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Kk(e);return pk(t,"internal-error"),pk("undefined"!==typeof t.exp,"internal-error"),pk("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Et(It().mark((function e(t){var n,r=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],pk(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Et(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rx(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return vk("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(pk("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(pk("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(pk("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ox(e,t){pk("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var sx=function(){function e(t){Ct(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Hb(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Yk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Jk(a.createdAt||void 0,a.lastLoginAt||void 0)}return At(e,[{key:"getIdToken",value:function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gk(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(pk(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Hk.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ex.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(pk(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){pk(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Et(It().mark((function e(t){var n,r,i=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Xk(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Et(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Gk(this,Mk(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,w=n.uid,b=n.emailVerified,k=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;pk(w&&_,t,"internal-error");var S=ax.fromJSON(this.name,_);pk("string"===typeof w,t,"internal-error"),ox(f,t.name),ox(h,t.name),pk("boolean"===typeof b,t,"internal-error"),pk("boolean"===typeof k,t,"internal-error"),ox(d,t.name),ox(p,t.name),ox(v,t.name),ox(m,t.name),ox(y,t.name),ox(g,t.name);var E=new e({uid:w,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:k,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Et(It().mark((function t(n,r){var i,a,o,s=arguments;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new ax).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Xk(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ux=function(){function e(){Ct(this,e),this.type="NONE",this.storage={}}return At(e,[{key:"_isAvailable",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ux.type="NONE";var cx=ux;function lx(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var fx=function(){function e(t,n,r){Ct(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=lx(this.userKey,a.apiKey,o),this.fullPersistenceKey=lx("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return At(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Et(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?sx._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Et(It().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(gk(cx),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||gk(cx),s=lx(i,n.config.apiKey,n.name),u=null,c=Ot(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=sx._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function hx(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gx(t))return"Blackberry";if(wx(t))return"Webos";if(px(t))return"Safari";if((t.includes("chrome/")||vx(t))&&!t.includes("edge/"))return"Chrome";if(yx(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function dx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/firefox\//i.test(e)}function px(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/crios\//i.test(e)}function mx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/iemobile/i.test(e)}function yx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/android/i.test(e)}function gx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/blackberry/i.test(e)}function wx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/webos/i.test(e)}function bx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/iphone|ipad|ipod/i.test(e)}function kx(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return bx(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function xx(){return en()&&10===document.documentMode}function _x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return bx(e)||yx(e)||wx(e)||gx(e)||/windows phone/i.test(e)||mx(e)}function Sx(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=hx($t());break;case"Worker":t="".concat(hx($t()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Xn,"/").concat(r)}var Ex=function(){function e(t,n){Ct(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ix(this),this.idTokenSubscription=new Ix(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ok,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return At(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=gk(t)),this._initializationPromise=this.queue(Et(It().mark((function r(){var i,a;return It().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,fx.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Et(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Et(It().mark((function e(t){var n,r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return pk(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xk(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?mn(t):null)&&pk(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Et(It().mark((function e(t){var n=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&pk(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Et(It().mark((function n(){return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(gk(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new rn("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Et(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return pk(n=t&&gk(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,fx.create(this,[gk(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Et(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Et(It().mark((function e(t){var n=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return pk(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return pk(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sx(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Et(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=kt({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Tx(e){return mn(e)}var Ix=function(){function e(t){var n=this;Ct(this,e),this.auth=t,this.observer=null,this.addObserver=dn((function(e){return n.observer=e}))}return At(e,[{key:"next",get:function(){return pk(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Cx(e,t,n){var r=Tx(e);pk(r._canInitEmulator,r,"emulator-config-failed"),pk(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Nx(t),o=function(e){var t=Nx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ax(r.substr(a.length+1))}}var o=u(r.split(":"),2);return{host:o[0],port:Ax(o[1])}}(t),s=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Nx(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ax(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ox=function(){function e(t,n){Ct(this,e),this.providerId=t,this.signInMethod=n}return At(e,[{key:"toJSON",value:function(){return vk("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return vk("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return vk("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return vk("not implemented")}}]),e}();function Px(e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ck(t,"POST","/v1/accounts:resetPassword",Ik(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rx.apply(this,arguments)}function jx(e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ck(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Lx(e,t){return Mx.apply(this,arguments)}function Mx(){return Mx=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ck(t,"POST","/v1/accounts:update",Ik(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}function Ux(e,t){return Fx.apply(this,arguments)}function Fx(){return Fx=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pk(t,"POST","/v1/accounts:signInWithPassword",Ik(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fx.apply(this,arguments)}function Vx(e,t){return zx.apply(this,arguments)}function zx(){return zx=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ck(t,"POST","/v1/accounts:sendOobCode",Ik(t,n)));case 1:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function Bx(e,t){return qx.apply(this,arguments)}function qx(){return qx=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,n));case 1:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function Hx(e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,n));case 1:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Kx(e,t){return Gx.apply(this,arguments)}function Gx(){return Gx=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,n));case 1:case"end":return e.stop()}}),e)}))),Gx.apply(this,arguments)}function Qx(e,t){return $x.apply(this,arguments)}function $x(){return $x=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vx(t,n));case 1:case"end":return e.stop()}}),e)}))),$x.apply(this,arguments)}function Yx(e,t){return Jx.apply(this,arguments)}function Jx(){return Jx=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pk(t,"POST","/v1/accounts:signInWithEmailLink",Ik(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}function Xx(e,t){return Zx.apply(this,arguments)}function Zx(){return Zx=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pk(t,"POST","/v1/accounts:signInWithEmailLink",Ik(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}var e_=function(e){jt(n,e);var t=Ft(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ct(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return At(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ux(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Yx(t,{email:this._email,oobCode:this._password}));case 5:ck(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",jx(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Xx(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ck(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ox);function t_(e,t){return n_.apply(this,arguments)}function n_(){return n_=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pk(t,"POST","/v1/accounts:signInWithIdp",Ik(t,n)));case 1:case"end":return e.stop()}}),e)}))),n_.apply(this,arguments)}var r_=function(e){jt(n,e);var t=Ft(n);function n(){var e;return Ct(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return At(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return t_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,t_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,t_(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ln(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ck("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Hb(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ox);function i_(e,t){return a_.apply(this,arguments)}function a_(){return a_=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ck(t,"POST","/v1/accounts:sendVerificationCode",Ik(t,n)));case 1:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(){return o_=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pk(t,"POST","/v1/accounts:signInWithPhoneNumber",Ik(t,n)));case 1:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function s_(){return s_=Et(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pk(t,"POST","/v1/accounts:signInWithPhoneNumber",Ik(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Lk(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),s_.apply(this,arguments)}var u_=kt({},"USER_NOT_FOUND","user-not-found");function c_(){return c_=Et(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Pk(t,"POST","/v1/accounts:signInWithPhoneNumber",Ik(t,r),u_));case 2:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}var l_=function(e){jt(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this,"phone","phone")).params=e,r}return At(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return o_.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return s_.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return c_.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ox);var f_=function(){function e(t){var n,r,i,a,o,s;Ct(this,e);var u=fn(hn(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);pk(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return At(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=fn(hn(e)).link,n=t?fn(hn(t)).deep_link_id:null,r=fn(hn(e)).deep_link_id;return(r?fn(hn(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(gy){return null}}}]),e}();var h_=function(){function e(){Ct(this,e),this.providerId=e.PROVIDER_ID}return At(e,null,[{key:"credential",value:function(e,t){return e_._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=f_.parseLink(t);return pk(n,"argument-error"),e_._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();h_.PROVIDER_ID="password",h_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",h_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var d_=function(){function e(t){Ct(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return At(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),p_=function(e){jt(n,e);var t=Ft(n);function n(){var e;return Ct(this,n),(e=t.apply(this,arguments)).scopes=[],e}return At(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return gn(this.scopes)}}]),n}(d_),v_=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.apply(this,arguments)}return At(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return pk(e.idToken||e.accessToken,"argument-error"),r_._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return pk("providerId"in t&&"signInMethod"in t,"argument-error"),r_._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(p_),m_=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.call(this,"facebook.com")}return At(n,null,[{key:"credential",value:function(e){return r_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(gy){return null}}}]),n}(p_);m_.FACEBOOK_SIGN_IN_METHOD="facebook.com",m_.PROVIDER_ID="facebook.com";var y_=function(e){jt(n,e);var t=Ft(n);function n(){var e;return Ct(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return At(n,null,[{key:"credential",value:function(e,t){return r_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(gy){return null}}}]),n}(p_);y_.GOOGLE_SIGN_IN_METHOD="google.com",y_.PROVIDER_ID="google.com";var g_=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.call(this,"github.com")}return At(n,null,[{key:"credential",value:function(e){return r_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(gy){return null}}}]),n}(p_);g_.GITHUB_SIGN_IN_METHOD="github.com",g_.PROVIDER_ID="github.com";var w_=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i;return Ct(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return At(n,[{key:"_getIdTokenResponse",value:function(e){return t_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,t_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,t_(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ox),b_=function(e){jt(n,e);var t=Ft(n);function n(e){return Ct(this,n),pk(e.startsWith("saml."),"argument-error"),t.call(this,e)}return At(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=w_.fromJSON(e);return pk(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return w_._create(r,n)}catch(i){return null}}}]),n}(d_),k_=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.call(this,"twitter.com")}return At(n,null,[{key:"credential",value:function(e,t){return r_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(gy){return null}}}]),n}(p_);function x_(e,t){return __.apply(this,arguments)}function __(){return __=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pk(t,"POST","/v1/accounts:signUp",Ik(t,n)));case 1:case"end":return e.stop()}}),e)}))),__.apply(this,arguments)}k_.TWITTER_SIGN_IN_METHOD="twitter.com",k_.PROVIDER_ID="twitter.com";var S_=function(){function e(t){Ct(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return At(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Et(It().mark((function t(n,r,i){var a,o,s,u,c=arguments;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,sx._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=E_(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Et(It().mark((function t(n,r,i){var a;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=E_(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function E_(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function T_(){return T_=Et(It().mark((function e(t){var n,r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tx(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new S_({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,x_(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,S_._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),T_.apply(this,arguments)}var I_=function(e){jt(n,e);var t=Ft(n);function n(e,r,i,a){var o,s;return Ct(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Pt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return At(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(nn);function C_(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw I_._fromErrorAndOperation(e,n,t,r);throw n}))}function N_(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function A_(e,t){return O_.apply(this,arguments)}function O_(){return O_=Et(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mn(t),e.next=3,j_(!0,r,n);case 3:return e.t0=Fk,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=N_(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),O_.apply(this,arguments)}function P_(e,t){return R_.apply(this,arguments)}function R_(){return R_=Et(It().mark((function e(t,n){var r,i,a=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Gk,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",S_._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function j_(e,t,n){return D_.apply(this,arguments)}function D_(){return(D_=Et(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xk(n);case 2:i=N_(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",pk(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L_(e,t){return M_.apply(this,arguments)}function M_(){return M_=Et(It().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Gk(t,C_(i,a,n,t),r);case 6:return pk((o=e.sent).idToken,i,"internal-error"),pk(s=Kk(o.idToken),i,"internal-error"),u=s.sub,pk(t.uid===u,i,"user-mismatch"),e.abrupt("return",S_._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ck(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),M_.apply(this,arguments)}function U_(e,t){return F_.apply(this,arguments)}function F_(){return F_=Et(It().mark((function e(t,n){var r,i,a,o,s=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,C_(t,i,n);case 4:return a=e.sent,e.next=7,S_._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),F_.apply(this,arguments)}function V_(e,t){return z_.apply(this,arguments)}function z_(){return z_=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U_(Tx(t),n));case 1:case"end":return e.stop()}}),e)}))),z_.apply(this,arguments)}function B_(e,t){return q_.apply(this,arguments)}function q_(){return(q_=Et(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mn(t),e.next=3,j_(!1,r,n.providerId);case 3:return e.abrupt("return",P_(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H_(e,t){return W_.apply(this,arguments)}function W_(){return(W_=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",L_(mn(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K_(e,t){return G_.apply(this,arguments)}function G_(){return G_=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pk(t,"POST","/v1/accounts:signInWithCustomToken",Ik(t,n)));case 1:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function Q_(){return Q_=Et(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tx(t),e.next=3,K_(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,S_._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Q_.apply(this,arguments)}var $_=function(){function e(t,n){Ct(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return At(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Y_._fromServerResponse(e,t):ck(e,"internal-error")}}]),e}(),Y_=function(e){jt(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return At(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}($_);function J_(e,t,n){var r;pk((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),pk("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(pk(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(pk(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function X_(){return X_=Et(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),a={requestType:"PASSWORD_RESET",email:n},r&&J_(i,a,r),e.next=5,Hx(i,a);case 5:case"end":return e.stop()}}),e)}))),X_.apply(this,arguments)}function Z_(){return Z_=Et(It().mark((function e(t,n,r){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Px(mn(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function eS(){return eS=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lx(mn(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e,t){return nS.apply(this,arguments)}function nS(){return nS=Et(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mn(t),e.next=3,Px(r,{oobCode:n});case 3:i=e.sent,pk(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return pk(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:pk(i.mfaInfo,r,"internal-error");case 13:pk(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=$_._fromServerResponse(Tx(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(){return rS=Et(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tS(mn(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(e,t,n){return aS.apply(this,arguments)}function aS(){return aS=Et(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tx(t),e.next=3,x_(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,S_._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}function oS(){return oS=Et(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),a={requestType:"EMAIL_SIGNIN",email:n},pk(r.handleCodeInApp,i,"argument-error"),r&&J_(i,a,r),e.next=6,Kx(i,a);case 6:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function sS(){return sS=Et(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),pk((a=h_.credentialWithLink(n,r||wk()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",V_(i,a));case 4:case"end":return e.stop()}}),e)}))),sS.apply(this,arguments)}function uS(e,t){return cS.apply(this,arguments)}function cS(){return cS=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ck(t,"POST","/v1/accounts:createAuthUri",Ik(t,n)));case 1:case"end":return e.stop()}}),e)}))),cS.apply(this,arguments)}function lS(){return lS=Et(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bk()?wk():"http://localhost",i={identifier:n,continueUri:r},e.next=4,uS(mn(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),lS.apply(this,arguments)}function fS(){return(fS=Et(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mn(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&J_(r.auth,a,n),e.next=8,Bx(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hS(){return(hS=Et(It().mark((function e(t,n,r){var i,a,o,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&J_(i.auth,o,r),e.next=8,Qx(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dS(e,t){return pS.apply(this,arguments)}function pS(){return pS=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ck(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),pS.apply(this,arguments)}function vS(){return(vS=Et(It().mark((function e(t,n){var r,i,a,o,s,u,c;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=mn(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Gk(a,dS(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mS(e,t,n){return yS.apply(this,arguments)}function yS(){return yS=Et(It().mark((function e(t,n,r){var i,a,o,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Gk(t,jx(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),yS.apply(this,arguments)}var gS=At((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ct(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),wS=function(e){jt(n,e);var t=Ft(n);function n(e,r,i,a){var o;return Ct(this,n),(o=t.call(this,e,r,i)).username=a,o}return At(n)}(gS),bS=function(e){jt(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"facebook.com",r)}return At(n)}(gS),kS=function(e){jt(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return At(n)}(wS),xS=function(e){jt(n,e);var t=Ft(n);function n(e,r){return Ct(this,n),t.call(this,e,"google.com",r)}return At(n)}(gS),_S=function(e){jt(n,e);var t=Ft(n);function n(e,r,i){return Ct(this,n),t.call(this,e,"twitter.com",r,i)}return At(n)}(wS);function SS(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Kk(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new gS(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new bS(a,i);case"github.com":return new kS(a,i);case"google.com":return new xS(a,i);case"twitter.com":return new _S(a,i,e.screenName||null);case"custom":case"anonymous":return new gS(a,null);default:return new gS(a,r,i)}}(n)}var ES=function(){function e(t,n){Ct(this,e),this.type=t,this.credential=n}return At(e,[{key:"toJSON",value:function(){return{multiFactorSession:kt({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),TS=function(){function e(t,n,r){Ct(this,e),this.session=t,this.hints=n,this.signInResolver=r}return At(e,[{key:"resolveSignIn",value:function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Tx(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return $_._fromServerResponse(r,e)}));pk(i.mfaPendingCredential,r,"internal-error");var o=ES._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Et(It().mark((function e(t){var a,s,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,S_._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return pk(n.user,r,"internal-error"),e.abrupt("return",S_._forOperation(n.user,n.operationType,s));case 17:ck(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function IS(e,t){return Ck(e,"POST","/v2/accounts/mfaEnrollment:start",Ik(e,t))}function CS(e,t){return Ck(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ik(e,t))}var NS=function(){function e(t){var n=this;Ct(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return $_._fromServerResponse(t.auth,e)})))}))}return At(e,[{key:"getSession",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ES,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Et(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Gk(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Et(It().mark((function e(t){var n,r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Gk(this.user,CS(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),AS=new WeakMap;var OS="__sak",PS=function(){function e(t,n){Ct(this,e),this.storageRetriever=t,this.type=n}return At(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(OS,"1"),this.storage.removeItem(OS),Promise.resolve(!0)):Promise.resolve(!1)}catch(gy){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var RS=function(e){jt(n,e);var t=Ft(n);function n(){var e;return Ct(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=$t();return px(e)||bx(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=_x(),e._shouldAllowMigration=!0,e}return At(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);xx()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Et(It().mark((function e(t,r){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(Dt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Et(It().mark((function e(t){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(Dt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(Dt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(PS);RS.type="LOCAL";var jS=RS,DS=function(e){jt(n,e);var t=Ft(n);function n(){return Ct(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return At(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(PS);DS.type="SESSION";var LS=DS;function MS(e){return Promise.all(e.map(function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var US=function(){function e(t){Ct(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return At(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Et(It().mark((function e(t){var n,r,i,a,o,s,u,c;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,MS(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function FS(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}US.receivers=[];var VS=function(){function e(t){Ct(this,e),this.target=t,this.handlers=new Set}return At(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Et(It().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=FS("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function zS(){return window}function BS(){return"undefined"!==typeof zS().WorkerGlobalScope&&"function"===typeof zS().importScripts}function qS(){return HS.apply(this,arguments)}function HS(){return(HS=Et(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function WS(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var KS="firebaseLocalStorageDb",GS="firebaseLocalStorage",QS="fbase_key",$S=function(){function e(t){Ct(this,e),this.request=t}return At(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function YS(e,t){return e.transaction([GS],t?"readwrite":"readonly").objectStore(GS)}function JS(){var e=indexedDB.deleteDatabase(KS);return new $S(e).toPromise()}function XS(){var e=indexedDB.open(KS,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(GS,{keyPath:QS})}catch(r){n(r)}})),e.addEventListener("success",Et(It().mark((function n(){var r;return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(GS)){n.next=12;break}return r.close(),n.next=5,JS();case 5:return n.t0=t,n.next=8,XS();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ZS(e,t,n){return eE.apply(this,arguments)}function eE(){return eE=Et(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=YS(t,!0).put((kt(i={},QS,n),kt(i,"value",r),i)),e.abrupt("return",new $S(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),eE.apply(this,arguments)}function tE(e,t){return nE.apply(this,arguments)}function nE(){return nE=Et(It().mark((function e(t,n){var r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=YS(t,!1).get(n),e.next=3,new $S(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(e,t){var n=YS(e,!0).delete(t);return new $S(n).toPromise()}var iE=function(){function e(){Ct(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return At(e,[{key:"_openDb",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,XS();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Et(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",BS()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Et(It().mark((function e(){var t=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=US._getInstance(BS()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Et(It().mark((function e(n,r){var i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Et(It().mark((function e(){var t,n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qS();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new VS(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&WS()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Et(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,XS();case 5:return t=e.sent,e.next=8,ZS(t,OS,"1");case 8:return e.next=10,rE(t,OS);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Et(It().mark((function e(t,n){var r=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ZS(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return tE(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Et(It().mark((function e(t){var n=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return rE(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Et(It().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=YS(e,!1).getAll();return new $S(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ot(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Et(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();iE.type="LOCAL";var aE=iE;function oE(e,t){return Ck(e,"POST","/v2/accounts/mfaSignIn:start",Ik(e,t))}function sE(e){return uE.apply(this,arguments)}function uE(){return uE=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ck(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function cE(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=lk("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function lE(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var fE=1e12,hE=function(){function e(t){Ct(this,e),this.auth=t,this.counter=fE,this._widgets=new Map}return At(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new dE(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||fE;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||fE;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Et(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||fE,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),dE=function(){function e(t,n,r){var i=this;Ct(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;pk(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return At(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var pE=lE("rcb"),vE=new xk(3e4,6e4),mE="https://www.google.com/recaptcha/api.js?",yE=function(){function e(){Ct(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zS().grecaptcha}return At(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return pk(gE(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(zS().grecaptcha):new Promise((function(r,i){var a=zS().setTimeout((function(){i(lk(e,"network-request-failed"))}),vE.get());zS()[pE]=function(){zS().clearTimeout(a),delete zS()[pE];var o=zS().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(lk(e,"internal-error"))},cE("".concat(mE,"?").concat(ln({onload:pE,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(lk(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!zS().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function gE(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var wE=function(){function e(){Ct(this,e)}return At(e,[{key:"load",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new hE(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),bE="recaptcha",kE={theme:"light",type:"image"},xE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},kE),r=arguments.length>2?arguments[2]:void 0;Ct(this,e),this.parameters=n,this.type=bE,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Tx(r),this.isInvisible="invisible"===this.parameters.size,pk("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;pk(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wE:new yE,this.validateStartingState()}return At(e,[{key:"verify",value:function(){var e=Et(It().mark((function e(){var t,n,r,i=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){pk(!this.parameters.sitekey,this.auth,"argument-error"),pk(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pk("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=zS()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){pk(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Et(It().mark((function e(){var t,n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Et(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pk(bk()&&!BS(),this.auth,"internal-error"),e.next=3,_E();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,sE(this.auth);case 8:pk(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return pk(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function _E(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var SE=function(){function e(t,n){Ct(this,e),this.verificationId=t,this.onConfirmation=n}return At(e,[{key:"confirm",value:function(e){var t=l_._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function EE(){return EE=Et(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tx(t),e.next=3,NE(i,n,mn(r));case 3:return a=e.sent,e.abrupt("return",new SE(a,(function(e){return V_(i,e)})));case 5:case"end":return e.stop()}}),e)}))),EE.apply(this,arguments)}function TE(e,t,n){return IE.apply(this,arguments)}function IE(){return(IE=Et(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),e.next=3,j_(!1,i,"phone");case 3:return e.next=5,NE(i.auth,n,mn(r));case 5:return a=e.sent,e.abrupt("return",new SE(a,(function(e){return B_(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function CE(){return(CE=Et(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mn(t),e.next=3,NE(i.auth,n,mn(r));case 3:return a=e.sent,e.abrupt("return",new SE(a,(function(e){return H_(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function NE(e,t,n){return AE.apply(this,arguments)}function AE(){return AE=Et(It().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,pk("string"===typeof a,t,"argument-error"),pk(r.type===bE,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return pk("enroll"===s.type,t,"internal-error"),e.next=13,IS(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return pk("signin"===s.type,t,"internal-error"),pk(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,oE(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,i_(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),AE.apply(this,arguments)}function OE(){return(OE=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P_(mn(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var PE=function(){function e(t){Ct(this,e),this.providerId=e.PROVIDER_ID,this.auth=Tx(t)}return At(e,[{key:"verifyPhoneNumber",value:function(e,t){return NE(this.auth,e,mn(t))}}],[{key:"credential",value:function(e,t){return l_._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?l_._fromTokenResponse(n,r):null}}]),e}();function RE(e,t){return t?gk(t):(pk(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}PE.PROVIDER_ID="phone",PE.PHONE_SIGN_IN_METHOD="phone";var jE=function(e){jt(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this,"custom","custom")).params=e,r}return At(n,[{key:"_getIdTokenResponse",value:function(e){return t_(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return t_(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return t_(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ox);function DE(e){return U_(e.auth,new jE(e),e.bypassAuthState)}function LE(e){var t=e.auth,n=e.user;return pk(n,t,"internal-error"),L_(n,new jE(e),e.bypassAuthState)}function ME(e){return UE.apply(this,arguments)}function UE(){return UE=Et(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,pk(r=t.user,n,"internal-error"),e.abrupt("return",P_(r,new jE(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}var FE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ct(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return At(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Et(It().mark((function t(n,r){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Et(It().mark((function e(t){var n,r,i,a,o,s,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DE;case"linkViaPopup":case"linkViaRedirect":return ME;case"reauthViaPopup":case"reauthViaRedirect":return LE;default:ck(this.auth,"internal-error")}}},{key:"resolve",value:function(e){mk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){mk(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),VE=new xk(2e3,1e4);function zE(e,t,n){return BE.apply(this,arguments)}function BE(){return BE=Et(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tx(t),hk(t,n,d_),a=RE(i,r),o=new KE(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function qE(){return(qE=Et(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hk((i=mn(t)).auth,n,d_),a=RE(i.auth,r),o=new KE(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HE(e,t,n){return WE.apply(this,arguments)}function WE(){return(WE=Et(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hk((i=mn(t)).auth,n,d_),a=RE(i.auth,r),o=new KE(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var KE=function(e){jt(n,e);var t=Ft(n);function n(e,r,i,a,o){var s;return Ct(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Pt(s),s}return At(n,[{key:"executeNotNull",value:function(){var e=Et(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return pk(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Et(It().mark((function e(){var t,n=this;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mk(1===this.filter.length,"Popup operations only handle one event"),t=FS(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(lk(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(lk(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(lk(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,VE.get())}()}}]),n}(FE);KE.currentPopupAction=null;var GE=new Map,QE=function(e){jt(n,e);var t=Ft(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ct(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return At(n,[{key:"execute",value:function(){var e=Et(It().mark((function e(){var t,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=GE.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,$E(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ea(Dt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:GE.set(this.auth._key(),t);case 21:return this.bypassAuthState||GE.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Et(It().mark((function e(t){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ea(Dt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ea(Dt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(FE);function $E(e,t){return YE.apply(this,arguments)}function YE(){return YE=Et(It().mark((function e(t,n){var r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eT(n),i=ZE(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}function JE(e,t){return XE.apply(this,arguments)}function XE(){return XE=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ZE(t)._set(eT(n),"true"));case 1:case"end":return e.stop()}}),e)}))),XE.apply(this,arguments)}function ZE(e){return gk(e._redirectPersistence)}function eT(e){return lx("pendingRedirect",e.config.apiKey,e.name)}function tT(e,t,n){return function(e,t,n){return nT.apply(this,arguments)}(e,t,n)}function nT(){return nT=Et(It().mark((function e(t,n,r){var i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tx(t),hk(t,n,d_),a=RE(i,r),e.next=5,JE(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),nT.apply(this,arguments)}function rT(e,t,n){return function(e,t,n){return iT.apply(this,arguments)}(e,t,n)}function iT(){return(iT=Et(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hk((i=mn(t)).auth,n,d_),a=RE(i.auth,r),e.next=5,JE(a,i.auth);case 5:return e.next=7,fT(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function aT(e,t,n){return function(e,t,n){return oT.apply(this,arguments)}(e,t,n)}function oT(){return(oT=Et(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hk((i=mn(t)).auth,n,d_),a=RE(i.auth,r),e.next=5,j_(!1,i,n.providerId);case 5:return e.next=7,JE(a,i.auth);case 7:return e.next=9,fT(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sT(e,t){return uT.apply(this,arguments)}function uT(){return uT=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tx(t)._initializationPromise;case 2:return e.abrupt("return",cT(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}function cT(e,t){return lT.apply(this,arguments)}function lT(){return lT=Et(It().mark((function e(t,n){var r,i,a,o,s,u=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Tx(t),a=RE(i,n),o=new QE(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}function fT(e){return hT.apply(this,arguments)}function hT(){return(hT=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=FS("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var dT=function(){function e(t){Ct(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return At(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vT(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!vT(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(lk(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(pT(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function pT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function vT(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function mT(e){return yT.apply(this,arguments)}function yT(){return yT=Et(It().mark((function e(t){var n,r=arguments;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ck(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),yT.apply(this,arguments)}var gT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wT=/^https?/;function bT(){return bT=Et(It().mark((function e(t){var n,r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mT(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ot(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!kT(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ck(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),bT.apply(this,arguments)}function kT(e){var t=wk(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!wT.test(r))return!1;if(gT.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var xT=new xk(3e4,6e4);function _T(){var e=zS().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=gn(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ST=null;function ET(e){return ST=ST||function(e){return new Promise((function(t,n){var r,i,a;function o(){_T(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){_T(),n(lk(e,"network-request-failed"))},timeout:xT.get()})}if(null===(i=null===(r=zS().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=zS().gapi)||void 0===a?void 0:a.load)){var s=lE("iframefcb");return zS()[s]=function(){gapi.load?o():n(lk(e,"network-request-failed"))},cE("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ST=null,e}))}(e),ST}var TT=new xk(5e3,15e3),IT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NT(e){var t=e.config;pk(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?_k(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Xn},i=CT.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ln(r).slice(1))}function AT(e){return OT.apply(this,arguments)}function OT(){return OT=Et(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ET(t);case 2:return n=e.sent,pk(r=zS().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:NT(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IT,dontclear:!0},(function(e){return new Promise(function(){var n=Et(It().mark((function n(r,i){var a,o,s;return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){zS().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=lk(t,"network-request-failed"),o=zS().setTimeout((function(){i(a)}),TT.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}var PT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RT="_blank",jT="http://localhost",DT=function(){function e(t){Ct(this,e),this.window=t,this.associatedEvent=null}return At(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function LT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},PT),{width:r.toString(),height:i.toString(),top:a,left:o}),l=$t().toLowerCase();n&&(s=vx(l)?RT:n),dx(l)&&(t=t||jT,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(kx(l)&&"_self"!==s)return MT(t||"",s),new DT(null);var h=window.open(t||"",s,f);pk(h,e,"popup-blocked");try{h.focus()}catch(d){}return new DT(h)}function MT(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var UT="__/auth/handler",FT="emulator/auth/handler";function VT(e,t,n,r,i,a){pk(e.config.authDomain,e,"auth-domain-config-required"),pk(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Xn,eventId:i};if(t instanceof d_){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,c=Object.entries(a||{});s<c.length;s++){var l=u(c[s],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof p_){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(UT);return _k(t,FT)}(e),"?").concat(ln(p).slice(1))}var zT="webStorageSupport",BT=function(){function e(){Ct(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LS,this._completeRedirectFn=cT}return At(e,[{key:"_openPopup",value:function(){var e=Et(It().mark((function e(t,n,r,i){var a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mk(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=VT(t,n,r,wk(),i),e.abrupt("return",LT(t,o,FS()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Et(It().mark((function e(t,n,r,i){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=VT(t,n,r,wk(),i),zS().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(mk(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Et(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AT(t);case 2:return n=e.sent,r=new dT(t),n.register("authEvent",(function(e){return pk(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(zT,{type:zT},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ck(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return bT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return _x()||px()||bx()}}]),e}(),qT=BT,HT=function(){function e(t){Ct(this,e),this.factorId=t}return At(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return vk("unexpected MultiFactorSessionType")}}}]),e}(),WT=function(e){jt(n,e);var t=Ft(n);function n(e){var r;return Ct(this,n),(r=t.call(this,"phone")).credential=e,r}return At(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ck(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ik(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ck(e,"POST","/v2/accounts/mfaSignIn:finalize",Ik(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(HT),KT=function(){function e(){Ct(this,e)}return At(e,null,[{key:"assertion",value:function(e){return WT._fromCredential(e)}}]),e}();KT.FACTOR_ID="phone";var GT,QT="@firebase/auth",$T="0.19.4",YT=function(){function e(t){Ct(this,e),this.auth=t,this.internalListeners=new Map}return At(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){pk(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function JT(){return window}GT="Browser",qn(new wn("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){pk(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),pk(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:GT,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sx(GT)},r=new Ex(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gk);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),qn(new wn("auth-internal",(function(e){return function(e){return new YT(e)}(Tx(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ir(QT,$T,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(GT)),ir(QT,$T,"esm2017");function XT(e,t,n){return ZT.apply(this,arguments)}function ZT(){return ZT=Et(It().mark((function e(t,n,r){var i,a,o,s,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JT(),o=a.BuildInfo,mk(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,aI(n.sessionId);case 4:return s=e.sent,u={},bx()?u.ibi=o.packageName:yx()?u.apn=o.packageName:ck(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",VT(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),ZT.apply(this,arguments)}function eI(){return eI=Et(It().mark((function e(t){var n,r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JT(),r=n.BuildInfo,i={},bx()?i.iosBundleId=r.packageName:yx()?i.androidPackageName=r.packageName:ck(t,"operation-not-supported-in-this-environment"),e.next=5,mT(t,i);case 5:case"end":return e.stop()}}),e)}))),eI.apply(this,arguments)}function tI(e){var t=JT().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function nI(e,t,n){return rI.apply(this,arguments)}function rI(){return rI=Et(It().mark((function e(t,n,r){var i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JT(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(lk(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),yx()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),rI.apply(this,arguments)}function iI(e){var t,n,r,i,a,o,s,u,c,l,f=JT();pk("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pk("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pk("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pk("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pk("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function aI(e){return oI.apply(this,arguments)}function oI(){return(oI=Et(It().mark((function e(t){var n,r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sI(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sI(e){if(mk(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var uI=function(e){jt(n,e);var t=Ft(n);function n(){var e;return Ct(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return At(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ea(Dt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(dT);function cI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:pI(),postBody:null,tenantId:e.tenantId,error:lk(e,"no-auth-event")}}function lI(e,t){return vI()._set(mI(e),t)}function fI(e){return hI.apply(this,arguments)}function hI(){return hI=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vI()._get(mI(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,vI()._remove(mI(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),hI.apply(this,arguments)}function dI(e,t){var n,r,i=function(e){var t=yI(e),n=t.link?decodeURIComponent(t.link):void 0,r=yI(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return yI(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=yI(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?lk(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function pI(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function vI(){return gk(jS)}function mI(e){return lx("authEvent",e.config.apiKey,e.name)}function yI(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||yn(t)||o(t)||s();r[0];return fn(r.slice(1).join("?"))}var gI=function(){function e(){Ct(this,e),this._redirectPersistence=LS,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cT}return At(e,[{key:"_initialize",value:function(){var e=Et(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new uI(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ck(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Et(It().mark((function e(t,n,r,i){var a,o,s,u;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iI(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),GE.clear(),e.next=10,this._originValidation(t);case 10:return o=cI(t,r,i),e.next=13,lI(t,o);case 13:return e.next=15,XT(t,o,n);case 15:return s=e.sent,e.next=18,tI(s);case 18:return u=e.sent,e.abrupt("return",nI(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return eI.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=JT(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Et(It().mark((function n(){return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fI(e);case 2:t.onEvent(bI());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Et(It().mark((function n(r){var i,a;return It().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,fI(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=dI(i,r.url)),t.onEvent(a||bI());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");JT().handleOpenURL=function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),wI=gI;function bI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:lk("no-auth-event")}}function kI(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function xI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return!("file:"!==kI()&&"ionic:"!==kI()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function _I(){return en()&&11===(null===document||void 0===document?void 0:document.documentMode)}function SI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return/Edge\/\d+/.test(e)}function EI(){try{var e=self.localStorage,t=FS();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return _I()||SI(e)}()||tn()}catch(n){return TI()&&tn()}return!1}function TI(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function II(){return("http:"===kI()||"https:"===kI()||Xt()||xI())&&!(Zt()||Jt())&&EI()&&!TI()}function CI(){return xI()&&"undefined"!==typeof document}function NI(){return AI.apply(this,arguments)}function AI(){return(AI=Et(It().mark((function e(){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(CI()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var OI={LOCAL:"local",NONE:"none",SESSION:"session"},PI=pk,RI="persistence";function jI(e,t){PI(Object.values(OI).includes(t),e,"invalid-persistence-type"),Zt()?PI(t!==OI.SESSION,e,"unsupported-persistence-type"):Jt()?PI(t===OI.NONE,e,"unsupported-persistence-type"):TI()?PI(t===OI.NONE||t===OI.LOCAL&&tn(),e,"unsupported-persistence-type"):PI(t===OI.NONE||EI(),e,"unsupported-persistence-type")}function DI(e){return LI.apply(this,arguments)}function LI(){return LI=Et(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=MI(),r=lx(RI,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function MI(){return"undefined"!==typeof window?window:null}var UI=pk,FI=function(){function e(){Ct(this,e),this.browserResolver=gk(qT),this.cordovaResolver=gk(wI),this.underlyingResolver=null,this._redirectPersistence=LS,this._completeRedirectFn=cT}return At(e,[{key:"_initialize",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Et(It().mark((function e(t,n,r,i){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Et(It().mark((function e(t,n,r,i){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return CI()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return UI(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Et(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,NI();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function VI(e){return e.unwrap()}function zI(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new KI(e,function(e,t){var n,r=mn(e),i=t;return pk(t.customData.operationType,r,"argument-error"),pk(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),TS._fromError(r,i)}(e,t));else if(r){var i=BI(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function BI(e){var t=(e instanceof nn?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof nn)&&"temporaryProof"in t&&"phoneNumber"in t)return PE.credentialFromResult(e);var n,r=t.providerId;if(!r||r===$b)return null;switch(r){case Qb:n=y_;break;case Kb:n=m_;break;case Gb:n=g_;break;case Yb:n=k_;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?w_._create(r,s):r_._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new v_(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof nn?n.credentialFromError(e):n.credentialFromResult(e)}function qI(e,t){return t.catch((function(t){throw t instanceof nn&&zI(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,BI(t)),additionalUserInfo:SS(e),user:GI.getOrCreate(r)}}))}function HI(e,t){return WI.apply(this,arguments)}function WI(){return WI=Et(It().mark((function e(t,n){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return qI(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}var KI=function(){function e(t,n){Ct(this,e),this.resolver=n,this.auth=t.wrapped()}return At(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return qI(VI(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),GI=function(){function e(t){Ct(this,e),this._delegate=t,this.multiFactor=function(e){var t=mn(e);return AS.has(t)||AS.set(t,NS._fromUser(t)),AS.get(t)}(t)}return At(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qI(this.auth,B_(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",HI(this.auth,TE(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qI(this.auth,HE(this._delegate,t,FI)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DI(Tx(this.auth));case 2:return e.abrupt("return",aT(this._delegate,t,FI));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qI(this.auth,H_(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return HI(this.auth,function(e,t,n){return CE.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return qI(this.auth,function(e,t,n){return qE.apply(this,arguments)}(this._delegate,e,FI))}},{key:"reauthenticateWithRedirect",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DI(Tx(this.auth));case 2:return e.abrupt("return",rT(this._delegate,t,FI));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return fS.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A_(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return mS(mn(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return mS(mn(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return OE.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return vS.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return hS.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();GI.USER_MAP=new WeakMap;var QI=pk,$I=function(){function e(t,n){if(Ct(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;QI(r,"invalid-api-key",{appName:t.name});var i=[cx];if("undefined"!==typeof window){i=function(e,t){var n=MI();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=lx(RI,e,t);switch(n.sessionStorage.getItem(r)){case OI.NONE:return[cx];case OI.LOCAL:return[aE,LS];case OI.SESSION:return[LS];default:return[]}}(r,t.name);for(var a=0,o=[aE,jS,LS];a<o.length;a++){var s=o[a];i.includes(s)||i.push(s)}}QI(r,"invalid-api-key",{appName:t.name});var u="undefined"!==typeof window?FI:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:u}}),this._delegate._updateErrorMap(ik),this.linkUnderlyingAuth()}return At(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?GI.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Cx(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return eS.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return tS(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Z_.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Et(It().mark((function e(t,n){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qI(this._delegate,iS(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return lS.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=f_.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Et(It().mark((function e(){var t;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QI(II(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,sT(this._delegate,FI);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",qI(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Tx(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=YI(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=YI(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return oS.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return X_.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Et(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jI(this._delegate,t),e.t0=t,e.next=e.t0===OI.SESSION?4:e.t0===OI.LOCAL?6:e.t0===OI.NONE?11:13;break;case 4:return n=LS,e.abrupt("break",14);case 6:return e.next=8,gk(aE)._isAvailable();case 8:return r=e.sent,n=r?aE:jS,e.abrupt("break",14);case 11:return n=cx,e.abrupt("break",14);case 13:return e.abrupt("return",ck("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return qI(this._delegate,function(e){return T_.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return qI(this._delegate,V_(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return qI(this._delegate,function(e,t){return Q_.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return qI(this._delegate,function(e,t,n){return V_(mn(e),h_.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return qI(this._delegate,function(e,t,n){return sS.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return HI(this._delegate,function(e,t,n){return EE.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QI(II(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",qI(this._delegate,zE(this._delegate,t,FI)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QI(II(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,DI(this._delegate);case 3:return e.abrupt("return",tT(this._delegate,t,FI));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return rS.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function YI(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&GI.getOrCreate(e))},error:t,complete:n}}$I.Persistence=OI;var JI=function(){function e(){Ct(this,e),this.providerId="phone",this._delegate=new PE(VI(dr.auth()))}return At(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return PE.credential(e,t)}}]),e}();JI.PHONE_SIGN_IN_METHOD=PE.PHONE_SIGN_IN_METHOD,JI.PROVIDER_ID=PE.PROVIDER_ID;var XI=pk,ZI=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dr.app();Ct(this,e),XI(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new xE(t,n,i.auth()),this.type=this._delegate.type}return At(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new wn("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new $I(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Jb,PASSWORD_RESET:Xb,RECOVER_EMAIL:Zb,REVERT_SECOND_FACTOR_ADDITION:ek,VERIFY_AND_CHANGE_EMAIL:tk,VERIFY_EMAIL:nk}},EmailAuthProvider:h_,FacebookAuthProvider:m_,GithubAuthProvider:g_,GoogleAuthProvider:y_,OAuthProvider:v_,SAMLAuthProvider:b_,PhoneAuthProvider:JI,PhoneMultiFactorGenerator:KT,RecaptchaVerifier:ZI,TwitterAuthProvider:k_,Auth:$I,AuthCredential:Ox,Error:nn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.4")}(dr);dr.apps.length?dr.app():dr.initializeApp({apiKey:"AIzaSyCLLAOzIV1VDBcE_vyFx0ivy3MjDCJMYyc",authDomain:"modelest-ead46.firebaseapp.com",projectId:"modelest-ead46",storageBucket:"modelest-ead46.appspot.com",messagingSenderId:"305781315708",appId:"1:305781315708:web:fdc351ee737e1300d051f9",measurementId:"G-M6VVE1FV97"});var eC=dr.firestore(),tC=(dr.storage(),dr.auth());function nC(e,t){return rC.apply(this,arguments)}function rC(){return(rC=Et(It().mark((function e(t,n){var r,i,a,o;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=eC.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=17;break}return i=t.displayName,a=t.email,o=new Date,e.prev=9,e.next=12,r.set(_t({displayName:i,email:a,createdAt:o},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})))).apply(this,arguments)}var iC=t.createContext(),aC=function(e){var n=e.children,r=u(t.useState(null),2),i=r[0],a=r[1],o=u(t.useState(!0),2),s=o[0],c=o[1];t.useEffect((function(){var e=tC.onAuthStateChanged(function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,nC(t);case 3:e.sent.onSnapshot((function(e){a(_t({id:e.id},e.data())),c(!1)})),e.next=9;break;case 7:a(t),c(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[]);var l={user:i,loading:s};return s?(0,vt.jsx)("div",{className:"tw-text-gray-600 tw-flex tw-flex-col tw-items-center tw-mt-[50px]",children:"Loading..."}):(0,vt.jsx)(iC.Provider,{value:l,children:n})};var oC=function(e){var t=e.showText,n=e.id,r=e.children,i=e.commonId;return(0,vt.jsx)("span",{id:n,className:"tw-absolute tw-bottom-[-20px] tw-flex tw-flex-row tw-text-center tw-px-2 tw-py-[2px] tw-text-[10px] tw-font-bold tw-mt-2 tw-bg-zinc-100 tw-rounded tw-text-slate-800 tw-ease-in tw-duration-300"+(i===n&&t?" tw-opacity-60":" tw-opacity-0"),children:r})};var sC=function(){var e=(0,t.useContext)(iC).user,n=u(t.useState(!1),2),r=n[0],i=n[1];return(0,vt.jsxs)("div",{className:"tw-py-5 tw-pl-5 tw-flex tw-flex-row tw-items-center ",children:[(0,vt.jsx)(Y,{to:"/",children:(0,vt.jsx)("div",{className:"tw-text-lg tw-font-extrabold",children:(0,vt.jsx)("span",{className:"tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500",children:"modelEst"})})}),("estherodi2020@gmail.com"===(null===e||void 0===e?void 0:e.email)||"tisijola7@gmail.com"===(null===e||void 0===e?void 0:e.email))&&(0,vt.jsxs)(Y,{to:"/admin-portal",className:"tw-relative",onMouseOver:function(){!r&&i(!0)},onMouseOut:function(){i(!1)},children:[(0,vt.jsx)("div",{className:"tw-w-30 tw-h-30 tw-p-2 tw-text-rose-800 tw-text-xl hover:tw-cursor-pointer tw-bg-neutral-200 tw-rounded-full tw-ease-in tw-duration-300 tw-ml-5",children:(0,vt.jsx)(yt,{})}),(0,vt.jsx)(oC,{showText:r,children:"Admin"})]})]})},uC=[{id:"1",name:"Hair Bundles",route:"/hair-bundles"},{id:"2",name:"Closure Frontal",route:"/closure-frontal"},{id:"3",name:"Jet Black & Blonde Hairs",route:"/jet-black-&-blonde-hair"}];var cC=function(){return(0,vt.jsx)("div",{className:"tw-flex tw-flex-row tw-w-full tw-justify-between tw-relative",children:uC.map((function(e){return(0,vt.jsx)("div",{className:"tw-px-3 tw-uppercase tw-text-xs tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500 hover:tw-text-zinc-300 hover:tw-cursor-pointer tw-ease-in-out tw-duration-500 tw-text-center",children:(0,vt.jsx)(Y,{to:e.route,children:e.name})},e.id)}))})};function lC(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm18.31 6l-2.76 5z"}},{tag:"path",attr:{d:"M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"}}]})(e)}function fC(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"}}]})(e)}function hC(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function dC(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-8 4c0 .55-.45 1-1 1s-1-.45-1-1V8h2v2zm2-6c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm4 6c0 .55-.45 1-1 1s-1-.45-1-1V8h2v2z"}}]})(e)}function pC(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}function vC(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 16H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2v12z"}}]})(e)}function mC(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 10h11v2H3v-2zm0-2h11V6H3v2zm0 8h7v-2H3v2zm15.01-3.13l.71-.71a.996.996 0 011.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71-2.12-2.12zm-.71.71l-5.3 5.3V21h2.12l5.3-5.3-2.12-2.12z"}}]})(e)}function yC(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}}]})(e)}function gC(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"}}]})(e)}function wC(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}},{tag:"polyline",attr:{points:"10 17 15 12 10 7"}},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"}}]})(e)}function bC(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(e)}function kC(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function xC(e){return!!e&&!!e[fN]}function _C(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===hN}(e)||Array.isArray(e)||!!e[lN]||!!e.constructor[lN]||AC(e)||OC(e))}function SC(e,t,n){void 0===n&&(n=!1),0===EC(e)?(n?Object.keys:dN)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function EC(e){var t=e[fN];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:AC(e)?2:OC(e)?3:0}function TC(e,t){return 2===EC(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function IC(e,t){return 2===EC(e)?e.get(t):e[t]}function CC(e,t,n){var r=EC(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function NC(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function AC(e){return oN&&e instanceof Map}function OC(e){return sN&&e instanceof Set}function PC(e){return e.o||e.t}function RC(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=pN(e);delete t[fN];for(var n=dN(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function jC(e,t){return void 0===t&&(t=!1),LC(e)||xC(e)||!_C(e)||(EC(e)>1&&(e.set=e.add=e.clear=e.delete=DC),Object.freeze(e),t&&SC(e,(function(e,t){return jC(t,!0)}),!0)),e}function DC(){kC(2)}function LC(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function MC(e){var t=vN[e];return t||kC(18,e),t}function UC(e,t){vN[e]||(vN[e]=t)}function FC(){return iN}function VC(e,t){t&&(MC("Patches"),e.u=[],e.s=[],e.v=t)}function zC(e){BC(e),e.p.forEach(HC),e.p=null}function BC(e){e===iN&&(iN=e.l)}function qC(e){return iN={p:[],l:iN,h:e,m:!0,_:0}}function HC(e){var t=e[fN];0===t.i||1===t.i?t.j():t.O=!0}function WC(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||MC("ES5").S(t,e,r),r?(n[fN].P&&(zC(t),kC(4)),_C(e)&&(e=KC(t,e),t.l||QC(t,e)),t.u&&MC("Patches").M(n[fN],e,t.u,t.s)):e=KC(t,n,[]),zC(t),t.u&&t.v(t.u,t.s),e!==cN?e:void 0}function KC(e,t,n){if(LC(t))return t;var r=t[fN];if(!r)return SC(t,(function(i,a){return GC(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return QC(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=RC(r.k):r.o;SC(3===r.i?new Set(i):i,(function(t,a){return GC(e,r,i,t,a,n)})),QC(e,i,!1),n&&e.u&&MC("Patches").R(r,n,e.u,e.s)}return r.o}function GC(e,t,n,r,i,a){if(xC(i)){var o=KC(e,i,a&&t&&3!==t.i&&!TC(t.D,r)?a.concat(r):void 0);if(CC(n,r,o),!xC(o))return;e.m=!1}if(_C(i)&&!LC(i)){if(!e.h.F&&e._<1)return;KC(e,i),t&&t.A.l||QC(e,i)}}function QC(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&jC(t,n)}function $C(e,t){var n=e[fN];return(n?PC(n):e)[t]}function YC(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function JC(e){e.P||(e.P=!0,e.l&&JC(e.l))}function XC(e){e.o||(e.o=RC(e.t))}function ZC(e,t,n){var r=AC(t)?MC("MapSet").N(t,n):OC(t)?MC("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:FC(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=mN;n&&(i=[r],a=yN);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):MC("ES5").J(t,n);return(n?n.A:FC()).p.push(r),r}function eN(e){return xC(e)||kC(22,e),function e(t){if(!_C(t))return t;var n,r=t[fN],i=EC(t);if(r){if(!r.P&&(r.i<4||!MC("ES5").K(r)))return r.t;r.I=!0,n=tN(t,i),r.I=!1}else n=tN(t,i);return SC(n,(function(t,i){r&&IC(r.t,t)===i||CC(n,t,e(i))})),3===i?new Set(n):n}(e)}function tN(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return RC(e)}function nN(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[fN];return mN.get(t,e)},set:function(t){var n=this[fN];mN.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][fN];if(!i.P)switch(i.i){case 5:r(i)&&JC(i);break;case 4:n(i)&&JC(i)}}}function n(e){for(var t=e.t,n=e.k,r=dN(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==fN){var o=t[a];if(void 0===o&&!TC(t,a))return!0;var s=n[a],u=s&&s[fN];if(u?u.t!==o:!NC(s,o))return!0}}var c=!!t[fN];return r.length!==dN(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var i={};UC("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=pN(n);delete a[fN];for(var o=dN(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:FC(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,fN,{value:a,writable:!0}),i},S:function(e,n,i){i?xC(n)&&n[fN].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[fN];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)SC(a,(function(t){t!==fN&&(void 0!==i[t]||TC(i,t)?o[t]||e(a[t]):(o[t]=!0,JC(n)))})),SC(i,(function(e){void 0!==a[e]||TC(a,e)||(o[e]=!1,JC(n))}));else if(5===s){if(r(n)&&(JC(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var rN,iN,aN="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),oN="undefined"!=typeof Map,sN="undefined"!=typeof Set,uN="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,cN=aN?Symbol.for("immer-nothing"):((rN={})["immer-nothing"]=!0,rN),lN=aN?Symbol.for("immer-draftable"):"__$immer_draftable",fN=aN?Symbol.for("immer-state"):"__$immer_state",hN=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),dN="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,pN=Object.getOwnPropertyDescriptors||function(e){var t={};return dN(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},vN={},mN={get:function(e,t){if(t===fN)return e;var n=PC(e);if(!TC(n,t))return function(e,t,n){var r,i=YC(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!_C(r)?r:r===$C(e.t,t)?(XC(e),e.o[t]=ZC(e.A.h,r,e)):r},has:function(e,t){return t in PC(e)},ownKeys:function(e){return Reflect.ownKeys(PC(e))},set:function(e,t,n){var r=YC(PC(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=$C(PC(e),t),a=null==i?void 0:i[fN];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(NC(n,i)&&(void 0!==n||TC(e.t,t)))return!0;XC(e),JC(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==$C(e.t,t)||t in e.t?(e.D[t]=!1,XC(e),JC(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=PC(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){kC(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){kC(12)}},yN={};SC(mN,(function(e,t){yN[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),yN.deleteProperty=function(e,t){return mN.deleteProperty.call(this,e[0],t)},yN.set=function(e,t,n){return mN.set.call(this,e[0],t,n,e[0])};var gN=function(){function e(e){var t=this;this.g=uN,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&kC(6),void 0!==r&&"function"!=typeof r&&kC(7),_C(e)){var s=qC(t),u=ZC(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?zC(s):BC(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return VC(s,r),WC(e,s)}),(function(e){throw zC(s),e})):(VC(s,r),WC(o,s))}if(!e||"object"!=typeof e){if((o=n(e))===cN)return;return void 0===o&&(o=e),t.F&&jC(o,!0),o}kC(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){_C(e)||kC(8),xC(e)&&(e=eN(e));var t=qC(this),n=ZC(this,e,void 0);return n[fN].C=!0,BC(t),n},t.finishDraft=function(e,t){var n=(e&&e[fN]).A;return VC(n,t),WC(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!uN&&kC(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=MC("Patches").$;return xC(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),wN=new gN,bN=wN.produce,kN=(wN.produceWithPatches.bind(wN),wN.setAutoFreeze.bind(wN),wN.setUseProxies.bind(wN),wN.applyPatches.bind(wN),wN.createDraft.bind(wN),wN.finishDraft.bind(wN),bN);function xN(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _N="function"===typeof Symbol&&Symbol.observable||"@@observable",SN=function(){return Math.random().toString(36).substring(7).split("").join(".")},EN={INIT:"@@redux/INIT"+SN(),REPLACE:"@@redux/REPLACE"+SN(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+SN()}};function TN(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function IN(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(xN(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(xN(1));return n(IN)(e,t)}if("function"!==typeof e)throw new Error(xN(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(xN(3));return a}function f(e){if("function"!==typeof e)throw new Error(xN(4));if(u)throw new Error(xN(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(xN(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!TN(e))throw new Error(xN(7));if("undefined"===typeof e.type)throw new Error(xN(8));if(u)throw new Error(xN(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(xN(10));i=e,h({type:EN.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(xN(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[_N]=function(){return this},e}return h({type:EN.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[_N]=p,r}function CN(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:EN.INIT}))throw new Error(xN(12));if("undefined"===typeof n(void 0,{type:EN.PROBE_UNKNOWN_ACTION()}))throw new Error(xN(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(xN(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function NN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function AN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(xN(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=NN.apply(void 0,a)(n.dispatch),_t(_t({},n),{},{dispatch:r})}}}function ON(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var PN=ON();PN.withExtraArgument=ON;var RN=PN,jN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),DN=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},LN=Object.defineProperty,MN=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),UN=Object.prototype.hasOwnProperty,FN=Object.prototype.propertyIsEnumerable,VN=function(e,t,n){return t in e?LN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},zN=function(e,t){for(var n in t||(t={}))UN.call(t,n)&&VN(e,n,t[n]);if(MN)for(var r=0,i=MN(t);r<i.length;r++){n=i[r];FN.call(t,n)&&VN(e,n,t[n])}return e},BN="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?NN:NN.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function qN(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var HN=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return jN(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,DN([void 0],e[0].concat(this)))):new(t.bind.apply(t,DN([void 0],e.concat(this))))},t}(Array);function WN(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new HN);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(RN.withExtraArgument(n.extraArgument)):r.push(RN));0;return r}(e)}}function KN(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return zN(zN({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function GN(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}nN();var QN="persist:",$N="persist/FLUSH",YN="persist/REHYDRATE",JN="persist/PAUSE",XN="persist/PERSIST",ZN="persist/PURGE",eA="persist/REGISTER";function tA(e){return tA="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tA(e)}function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iA(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nA(n,!0).forEach((function(t){rA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===tA(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function aA(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],a=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:QN).concat(e.key),s=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:oA;var u=e.writeFailHandler||null,c={},l={},f=[],h=null,d=null;function p(){if(0===f.length)return h&&clearInterval(h),void(h=null);var e=f.shift(),n=i.reduce((function(t,n){return n.in(t,e,c)}),c[e]);if(void 0!==n)try{l[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete l[e];0===f.length&&(Object.keys(l).forEach((function(e){void 0===c[e]&&delete l[e]})),d=s.setItem(o,t(l)).catch(m))}function v(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function m(e){u&&u(e)}return{update:function(e){Object.keys(e).forEach((function(t){v(t)&&c[t]!==e[t]&&-1===f.indexOf(t)&&f.push(t)})),Object.keys(c).forEach((function(t){void 0===e[t]&&v(t)&&-1===f.indexOf(t)&&void 0!==c[t]&&f.push(t)})),null===h&&(h=setInterval(p,a)),c=e},flush:function(){for(;0!==f.length;)p();return d||Promise.resolve()}}}function oA(e){return JSON.stringify(e)}function sA(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:QN).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:uA,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(a){throw a}}))}function uA(e){return JSON.parse(e)}function cA(e){0}function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lA(n,!0).forEach((function(t){hA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pA(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vA(n,!0).forEach((function(t){yA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gA={registry:[],bootstrapped:!1},wA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gA,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case eA:return mA({},e,{registry:[].concat(pA(e.registry),[t.key])});case YN:var n=e.registry.indexOf(t.key),r=pA(e.registry);return r.splice(n,1),mA({},e,{registry:r,bootstrapped:0===r.length});default:return e}};var bA={key:"root",storage:n(5752).Z,whitelist:["cartItems","itemCount","total"]},kA=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:kN(e.initialState,(function(){})),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?GN(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=zN(zN({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?GN(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return kN(e(),(function(){}))};else{var c=kN(e,(function(){}));i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=DN([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(xC(e))return"undefined"===typeof(r=n(e,t))?e:r;if(_C(e))return kN(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?KN(c,r):KN(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"app",initialState:{cartItems:[],itemCount:0,total:0,bookingObject:""},reducers:{addToCartItem:function(e,t){e.cartItems.find((function(e){return e.id===t.payload.id}))||e.cartItems.push(_t(_t({},t.payload),{},{quantity:1})),e.itemCount=e.cartItems.reduce((function(e,t){return e+t.quantity}),0),e.total=e.cartItems.reduce((function(e,t){return e+t.price*t.quantity}),0)},increaseCartItem:function(e,t){var n=e.cartItems.findIndex((function(e){return e.id===t.payload.id}));e.cartItems[n].quantity++,e.itemCount=e.cartItems.reduce((function(e,t){return e+t.quantity}),0),e.total=e.cartItems.reduce((function(e,t){return e+t.price*t.quantity}),0)},decreaseCartItem:function(e,t){var n=e.cartItems.findIndex((function(e){return e.id===t.payload.id})),r=e.cartItems[n];r.quantity>1&&r.quantity--,e.itemCount=e.cartItems.reduce((function(e,t){return e+t.quantity}),0),e.total=e.cartItems.reduce((function(e,t){return e+t.price*t.quantity}),0)},removeCartItem:function(e,t){var n=e.cartItems.filter((function(e){return e.id!==t.payload.id}));e.cartItems=gn(n),e.itemCount=e.cartItems.reduce((function(e,t){return e+t.quantity}),0),e.total=e.cartItems.reduce((function(e,t){return e+t.price*t.quantity}),0)},clearCartItem:function(e){e.cartItems=[],e.itemCount=0,e.total=0},setBookingObject:function(e,t){e.bookingObject=t.payload}}}),xA=kA.actions,_A=xA.addToCartItem,SA=xA.increaseCartItem,EA=xA.decreaseCartItem,TA=xA.removeCartItem,IA=xA.clearCartItem,CA=(xA.setBookingObject,function(e){return e.app.cartItems}),NA=function(e){return e.app.itemCount},AA=function(e){return e.app.total},OA=function(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?iA:e.stateReconciler),i=e.getStoredState||sA,a=void 0!==e.timeout?e.timeout:5e3,o=null,s=!1,u=!0,c=function(e){return e._persist.rehydrated&&o&&!u&&o.update(e),e};return function(l,f){var h=l||{},d=h._persist,p=dA(h,["_persist"]);if(f.type===XN){var v=!1,m=function(t,n){v||(f.rehydrate(e.key,t,n),v=!0)};if(a&&setTimeout((function(){!v&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),a),u=!1,o||(o=aA(e)),d)return fA({},t(p,f),{_persist:d});if("function"!==typeof f.rehydrate||"function"!==typeof f.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return f.register(e.key),i(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then((function(e){m(e)}),(function(e){m(void 0,e)}))}),(function(e){m(void 0,e)})),fA({},t(p,f),{_persist:{version:n,rehydrated:!1}})}if(f.type===ZN)return s=!0,f.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:QN).concat(e.key);return t.removeItem(n,cA)}(e)),fA({},t(p,f),{_persist:d});if(f.type===$N)return f.result(o&&o.flush()),fA({},t(p,f),{_persist:d});if(f.type===JN)u=!0;else if(f.type===YN){if(s)return fA({},p,{_persist:fA({},d,{rehydrated:!0})});if(f.key===e.key){var y=t(p,f),g=f.payload,w=fA({},!1!==r&&void 0!==g?r(g,l,y,e):y,{_persist:fA({},d,{rehydrated:!0})});return c(w)}}if(!d)return t(l,f);var b=t(p,f);return b===p?l:c(fA({},b,{_persist:d}))}}(bA,kA.reducer),PA=t.createContext(null);var RA=function(e){e()},jA=function(){return RA};var DA={notify:function(){},get:function(){return[]}};function LA(e,t){var n,r=DA;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=jA(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=DA)},getListeners:function(){return r}};return o}var MA="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var UA=function(e){var n=e.store,r=e.context,i=e.children,a=(0,t.useMemo)((function(){var e=LA(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),o=(0,t.useMemo)((function(){return n.getState()}),[n]);MA((function(){var e=a.subscription;return e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var s=r||PA;return t.createElement(s.Provider,{value:a},i)},FA=n(2110),VA=n.n(FA);n(6900);function zA(){return(0,t.useContext)(PA)}function BA(e){void 0===e&&(e=PA);var n=e===PA?zA:function(){return(0,t.useContext)(e)};return function(){return n().store}}var qA=BA();function HA(e){void 0===e&&(e=PA);var t=e===PA?qA:BA(e);return function(){return t().dispatch}}var WA=HA(),KA=function(e,t){return e===t};function GA(e){void 0===e&&(e=PA);var n=e===PA?zA:function(){return(0,t.useContext)(e)};return function(e,r){void 0===r&&(r=KA);var i=n(),a=function(e,n,r,i){var a,o=(0,t.useReducer)((function(e){return e+1}),0)[1],s=(0,t.useMemo)((function(){return LA(r,i)}),[r,i]),u=(0,t.useRef)(),c=(0,t.useRef)(),l=(0,t.useRef)(),f=(0,t.useRef)(),h=r.getState();try{if(e!==c.current||h!==l.current||u.current){var d=e(h);a=void 0!==f.current&&n(d,f.current)?f.current:d}else a=f.current}catch(p){throw u.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),p}return MA((function(){c.current=e,l.current=h,f.current=a,u.current=void 0})),MA((function(){function e(){try{var e=r.getState();if(e===l.current)return;var t=c.current(e);if(n(t,f.current))return;f.current=t,l.current=e}catch(p){u.current=p}o()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[r,s]),a}(e,r,i.store,i.subscription);return(0,t.useDebugValue)(a),a}}var QA,$A=GA();QA=r.unstable_batchedUpdates,RA=QA;var YA=function(){var e=(0,t.useContext)(iC).user,n=$A(NA),r=N();return(0,vt.jsxs)("div",{className:" tw-flex tw-flex-row tw-w-46 tw-mr-5 tw-justify-center tw-items-center",children:[(0,vt.jsxs)("div",{onClick:function(){return r("/user-cart")},className:"tw-w-30 tw-h-30 tw-text-gray-300 tw-text-xl hover:tw-cursor-pointer hover:tw-bg-gray-300 hover:tw-p-2 hover:tw-rounded-full tw-ease-in tw-duration-300 tw-relative",children:[n>0?(0,vt.jsx)(dC,{size:25}):(0,vt.jsx)(vC,{size:25}),n>0&&(0,vt.jsx)("span",{className:"tw-absolute tw--top-4 tw-right-[-16px] tw-border-2 tw-text-sm bg-blur2 tw-bg-clip-text tw-text-neutral-50 tw-font-light tw-rounded-full tw-p-3 tw-h-7 tw-w-7 tw-flex tw-mx-auto tw-justify-center tw-items-center",children:n})]}),e&&(0,vt.jsxs)("div",{className:"tw-flex  tw-ml-[20px] tw-flex-col tw-justify-center tw-items-center hover:tw-opacity-[0.5] hover:tw-cursor-pointer  tw-relative",children:[(0,vt.jsx)("div",{className:"tw-text-gray-300 tw-text-xl tw-ease-in tw-duration-500",children:(0,vt.jsx)(bC,{onClick:function(){tC.signOut(),r("/")}})}),(0,vt.jsx)("span",{className:"tw-text-[7px] tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500 tw-uppercase",children:"sign out"})]}),!e&&(0,vt.jsxs)("div",{className:"tw-w-[80px] tw-ml-[25px] tw-flex tw-flex-row tw-justify-between tw-items-center",children:[(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-justify-center tw-items-center hover:tw-opacity-[0.5] hover:tw-cursor-pointer tw-relative",children:[(0,vt.jsx)("div",{className:"tw-text-gray-300 tw-text-xl tw-ease-in tw-duration-500",children:(0,vt.jsx)(wC,{onClick:function(){return r("/login")}})}),(0,vt.jsx)("span",{className:"tw-text-[7px] tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500 tw-uppercase",children:"sign in"})]}),(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-justify-center tw-items-center hover:tw-opacity-[0.5] hover:tw-cursor-pointer tw-relative",children:[(0,vt.jsx)("div",{className:"tw-text-gray-300 tw-text-xl tw-ease-in tw-duration-500",children:(0,vt.jsx)(fC,{onClick:function(){return r("/register")}})}),(0,vt.jsx)("span",{className:"tw-text-[7px] tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500 tw-uppercase",children:"sign up"})]})]})]})};var JA=function(){return(0,vt.jsxs)("div",{children:[(0,vt.jsxs)("div",{className:"tw-flex tw-w-[95%] lg:tw-w-[100%] xl:tw-w-[85%] 2xl:tw-w-[80%] tw-grow tw-flex-row tw-items-center tw-justify-between tw-my-0 tw-mx-auto",children:[(0,vt.jsx)("div",{children:(0,vt.jsx)(sC,{})}),(0,vt.jsx)("div",{className:"tw-hidden md:tw-inline tw-flex-0.8",children:(0,vt.jsx)(cC,{})}),(0,vt.jsx)("div",{className:"tw-flex-0.1",children:(0,vt.jsx)(YA,{})})]}),(0,vt.jsx)("div",{className:"tw-in-line tw-px-3 md:tw-hidden tw-flex-0.8 tw-border-t-[1px] tw-border-neutral-600 tw-py-2",children:(0,vt.jsx)(cC,{})})]})};var XA=function(e){var t=e.children;return(0,vt.jsxs)("div",{children:[(0,vt.jsx)("div",{className:"bg-blur2 tw-shadow-2xl tw-shadow-neutral-700 tw-fixed tw-top-0 tw-left-0 tw-right-0 tw-z-10 ",children:(0,vt.jsx)(JA,{})}),(0,vt.jsx)("div",{className:"tw-mt-2",children:t}),(0,vt.jsx)("div",{children:(0,vt.jsx)(mt,{})})]})},ZA=n(4569),eO=n.n(ZA);var tO=function(e){var n=e.product,r=e.setSingleproducts,i=u(t.useState(""),2),a=i[0],o=i[1];function s(){return s=Et(It().mark((function e(t){var n,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eO().get("/api/v1/products");case 3:n=e.sent,i=n.data.products,a=i.filter((function(e){return e._id===t.target.id})),r(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),s.apply(this,arguments)}return(0,vt.jsxs)("div",{onMouseOver:function(e){o(e.target.id)},onMouseOut:function(){return o("")},className:"tw-w-[90%] tw-h-[420px] md:tw-w-[300px] tw-shadow-lg md:tw-h-[300px] tw-relative tw-rounded-lg",children:[(0,vt.jsx)("img",{onClick:function(e){return s.apply(this,arguments)},id:n._id,src:null===n||void 0===n?void 0:n.image,alt:n._id,className:" tw-w-[400px] tw-h-full tw-object-cover tw-rounded-lg hover:tw-cursor-pointer"}),a===n._id&&(0,vt.jsx)("div",{className:"tw-absolute tw-top-0 tw-right-0 tw-bg-neutral-300 tw-rounded-tr-lg tw-rounded-bl-lg tw-text-xs tw-p-2",children:(0,vt.jsx)("span",{className:"tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500",children:"View Image"})}),(0,vt.jsx)("div",{className:"bg-blur tw-text-neutral-800 tw-pl-5 tw-w-full tw-absolute tw-z-5 tw-bottom-0 tw-rounded-b-lg",children:(0,vt.jsx)("div",{className:"tw-flex tw-flex-row tw-justify-between",children:(0,vt.jsxs)("div",{className:"tw-pt-2",children:[(0,vt.jsx)("p",{className:" tw-text-sm",children:n.name}),(0,vt.jsx)("p",{className:" tw-text-xs tw-text-neutral-600 tw-mb-3",children:n.description})]})})})]})};function nO(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"}}]})(e)}var rO=n(101);var iO=function(){return(0,vt.jsxs)("div",{className:"tw-px-10",children:[(0,vt.jsx)("img",{className:"tw-w-64 tw-h-[300px] tw-float-left tw-aspect-[1/1] lg:tw-aspect-[1/2] tw-rounded-lg tw-shadow-lg tw-object-cover tw-object-center tw-mb-0 tw-mr-6 [clip-path:var(--my-shape)] [shape-outside:var(--my-shape)] lg:[--my-shape:polygon(0%_0%,100%_0%,75%_100%,0%_100%)]",src:rO,alt:""}),(0,vt.jsx)("h1",{className:"tw-text-3xl tw-font-bold",children:"ABOUT US"}),(0,vt.jsxs)("div",{className:"tw-relative",children:[(0,vt.jsx)("div",{className:"tw-bg-clip-border tw-p-0.5 tw-mt-[-5px] tw-mb-[20px] tw-w-[40px] tw-ml-[280px] tw tw-bg-pink-600"}),(0,vt.jsx)("h3",{className:"tw-font-semibold tw-text-neutral-600 tw-mb-[15px]",children:"OFFERING THE BEST HAIR BUNDLES"})]}),(0,vt.jsxs)("p",{className:"tw-text-neutral-600 tw-font-thin",children:["ModelEst was created for those who have a flair for hair, those that have to switch it up by length, color and texture. This vision came out of passion for hair and poised appearance. As a woman, I can not keep a hairstyle for a long time because I love to switch it up. All women should have the opportunity to look elegant and hair-raising. The contemporary world we live in today has taken a 360 turn to feminism and presentation of self is the order of the day.",(0,vt.jsx)("br",{}),(0,vt.jsx)("br",{}),"Our mode of serve ranges from full installment to scheduling payment. We provide this method to ease the burden for those who want to make installmental payment just because they couldn\u2019t afford to let that hair pass them by. We are fully here for your service if installmental/scheduling payment is your preferred option.",(0,vt.jsx)("br",{}),(0,vt.jsx)("br",{}),(0,vt.jsx)("div",{className:"tw-italic tw-text-sm tw-font-semibold tw-text-left",children:(0,vt.jsx)("span",{children:" ...we serve everyone and leave no one behind!"})}),(0,vt.jsx)("br",{}),"Beaty don\u2019t cost much if you are dealing with the right merchant that cares about not making you break your bank and provides the best quality you can ever get out there. We at modelEst cares and we are committed to bringing you the best quality with an affordable deal every time you buy from us. Optimum guaranteed for your desired hair product and gets to you in due time.",(0,vt.jsx)("br",{}),(0,vt.jsx)("br",{}),"Integrity, respect, loyalty and service is what we are built on and these principles have brought us this far and still drive us to forge ahead. There is no stopping till all women of all ages look their best and more\u2026"]})]})};var aO=function(){(0,t.useContext)(iC).user;var e=u(t.useState([]),2),n=e[0],r=e[1],i=u(t.useState(null),2),a=i[0],o=i[1];function s(){return s=Et(It().mark((function e(){var t,n,i,a,o,s;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eO().get("/api/v1/products");case 3:t=e.sent,n=t.data,i=n.products,a=n.curUser,s=0,null!==(o=[])&&void 0!==o&&o.includes(a)||(null===o||void 0===o||o.push(a),s+=1),eC.collection("admin").doc("".concat(wt,"/")).collection("Hit").onSnapshot((function(e){var t,n=null===e||void 0===e||null===(t=e.docs)||void 0===t?void 0:t.map((function(e){return{data:e.data()}}));0===n.length&&eC.collection("admin").doc("".concat(wt,"/")).collection("Hit").add({users:o,no:s}),n&&n.map((function(e){var t,n;null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&null!==(n=t.users)&&void 0!==n&&n.includes(a)||eC.collection("admin").doc("".concat(wt,"/")).collection("Hit").add({users:o,no:s})}))})),r(i.sort((function(e,t){return e.name.localeCompare(t.name)}))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),s.apply(this,arguments)}return t.useEffect((function(){!function(){s.apply(this,arguments)}()}),[]),(0,vt.jsx)("div",{className:"tw-pb-10 tw-pt-10 tw-relative tw-flex tw-flex-col tw-items-center ",children:a?(0,vt.jsx)("div",{className:"tw-absolute tw-z-10 tw-h-[100vh] tw-w-[100%] tw-right-0 tw-left-0 tw-top-0 tw-flex tw-flex-row tw-items-center tw-justify-center bg-blur2",children:(0,vt.jsxs)("div",{className:"tw-w-[600px] tw-h-[600px]",children:[(0,vt.jsx)("img",{id:null===a||void 0===a?void 0:a[0]._id,src:null===a||void 0===a?void 0:a[0].image,alt:null===a||void 0===a?void 0:a[0]._id,className:"tw-w-full tw-h-full tw-mt-[-50px] tw-object-contain"}),(0,vt.jsxs)("div",{className:"tw-absolute tw-bottom-[30%]",children:[(0,vt.jsx)("p",{className:"tw-text-md tw-font-200 tw-tracking-tight tw-text-neutral-900 tw-rounded-md tw-mb-[1px] bg-blur tw-px-2 tw-leading-6 lg:tw-mt-[150px]",children:null===a||void 0===a?void 0:a[0].name}),(0,vt.jsx)("p",{className:"tw-font-medium tw-text-slate-900 tw-text-xs tw-rounded-md tw-mb-[1px] bg-blur tw-px-2 tw-mt-0",children:null===a||void 0===a?void 0:a[0].description})]}),(0,vt.jsx)(nO,{onClick:function(){return o(null)},className:"tw-absolute tw-top-20 tw-right-20 tw-w-16 tw-h-16 tw-p-5 tw-bg-gray-100 tw-rounded-full hover:tw-cursor-pointer"})]})}):(0,vt.jsxs)(vt.Fragment,{children:[n?(0,vt.jsx)("div",{className:"tw-flex tw-flex-col tw-items-center tw-w-full md:tw-w-[90%] md:tw-grid md:tw-grid-cols-2 lg:tw-grid-cols-3 2xl:tw-grid-cols-4 3xl:tw-grid-cols-5 tw-gap-5 ",children:n.map((function(e){return(0,vt.jsx)("div",{className:"tw-justify-center tw-items-center tw-flex tw-flex-row",children:(0,vt.jsx)(tO,{product:e,setSingleproducts:o},e._id)},e._id)}))}):(0,vt.jsx)("div",{className:"tw-text-neutral-500",children:"Loading data..."}),(0,vt.jsx)("div",{className:"tw-mx-auto lg:tw-w-4/5 xl:tw-w-full tw-bg-neutral-50 tw-py-10 tw-mt-10",children:(0,vt.jsx)(iO,{})})]})})};var oO=function(){return(0,vt.jsxs)("div",{className:"tw-bg-neutral-800 relative",children:[(0,vt.jsx)(rt,{children:(0,vt.jsx)("title",{children:"Home"})}),(0,vt.jsx)(XA,{children:(0,vt.jsx)("div",{className:"tw-pt-[100px] md:tw-py-[70px] lg:tw-w-[100%] xl:tw-w-[90%] 2xl:tw-w-[80%] lg:tw-mx-auto",children:(0,vt.jsx)(aO,{})})})]})};var sO=function(e){return(0,vt.jsx)("button",{onClick:e.handleFunc,type:e.type,className:"tw-bg-gray-700 tw-text-xs tw-text-white tw-py-1.5 tw-px-6 tw-rounded-full tw-font-light hover:tw-bg-gray-600 tw-ease-in tw-duration-300 tw-shadow-xl tw-shadow-neutral-900",children:e.children})},uO=function(){var e=N(),n=u((0,t.useState)({name:"",email:"",phone:"",password:"",error:null}),2),r=n[0],i=n[1],a=function(e){i(_t(_t({},r),{},kt({},e.target.name,e.target.value)))},o=function(){var t=Et(It().mark((function t(n){var a,o;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,tC.createUserWithEmailAndPassword(r.email,r.password);case 4:return a=t.sent,o=a.user,t.next=8,nC(o,{displayName:r.name,Phone:r.phone});case 8:e("/"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0),i(_t(_t({},r),{},{error:t.t0.message}));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return(0,vt.jsxs)("div",{children:[(0,vt.jsx)(rt,{children:(0,vt.jsx)("title",{children:"Sign Up"})}),(0,vt.jsx)(XA,{children:(0,vt.jsxs)("section",{className:"tw-flex tw-flex-col tw-items-center tw-mt-[150px] lg:tw-mt-[100px]",children:[(0,vt.jsxs)("div",{className:"tw-text-center",children:[(0,vt.jsx)("h1",{className:"tw-text-2xl tw-font-bold",children:"Sign Up"}),(0,vt.jsxs)("p",{className:"tw-w-[55%] tw-mx-auto tw-my-10",children:["By creating account with us, you consent to receiving newsletters or promotions from"," ",(0,vt.jsx)(Y,{to:"/",children:(0,vt.jsx)("span",{className:"tw-text-rose-800",children:"modelEst."})})]})]}),(0,vt.jsx)("article",{className:"tw-w-full",children:(0,vt.jsxs)("form",{onSubmit:o,children:[(0,vt.jsx)("div",{children:(0,vt.jsx)("input",{type:"text",name:"name",id:"name",value:r.name,onChange:a,placeholder:"Full Name",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5"})}),(0,vt.jsx)("div",{children:(0,vt.jsx)("input",{type:"text",name:"email",id:"email",value:r.email,onChange:a,placeholder:"Email",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5"})}),(0,vt.jsx)("div",{children:(0,vt.jsx)("input",{type:"password",name:"password",id:"password",value:r.password,onChange:a,placeholder:"Password",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5"})}),(0,vt.jsx)("div",{children:(0,vt.jsx)("input",{type:"number",name:"phone",id:"number",value:r.phone,onChange:a,placeholder:"Phone-Number (optional)",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5"})}),(0,vt.jsx)("div",{className:"tw-text-center tw-text-xs tw-text-red-800",children:r.error?(0,vt.jsxs)("p",{children:["Error message: ",r.error]}):null}),(0,vt.jsx)("div",{className:"tw-flex tw-flex-row tw-my-10 tw-justify-center",children:(0,vt.jsx)(sO,{onClick:o,type:"submit",children:"Create Account"})})]})}),(0,vt.jsx)("div",{children:(0,vt.jsxs)("p",{className:"tw-text-neutral-500 tw-font-light",children:["Already have an account with us?"," ",(0,vt.jsx)(Y,{to:"/login",children:(0,vt.jsx)("button",{className:"tw-text-pink-800 tw-mb-10",children:"Login"})})," "]})}),(0,vt.jsx)("div",{children:(0,vt.jsxs)("p",{className:"tw-font-light tw-mb-10 tw-w-[70%] tw-mx-auto tw-text-center",children:["This site is protected by Google"," ",(0,vt.jsx)("a",{href:"https://policies.google.com/privacy",rel:"noopener noreferrer",children:(0,vt.jsx)("span",{className:"tw-text-pink-800 tw-mb-10 tw-text-sm tw-underline",children:"Privacy Policy"})})," ","and"," ",(0,vt.jsx)("a",{href:"https://policies.google.com/terms",rel:"noopener noreferrer",children:(0,vt.jsx)("span",{className:"tw-text-pink-800 tw-mb-10 tw-text-sm tw-underline",children:"Terms of Service"})})," ","apply"]})})]})})]})},cO=function(){var e=N(),n=u(t.useState(!1),2),r=n[0],i=n[1],a=u((0,t.useState)({email:"",password:"",error:null}),2),o=a[0],s=a[1],c=u((0,t.useState)(!1),2),l=c[0],f=c[1],h=function(e){s(_t(_t({},o),{},kt({},e.target.name,e.target.value)))},d=function(){var t=Et(It().mark((function t(n){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,tC.signInWithEmailAndPassword(o.email,o.password);case 4:e("/"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0),s(_t(_t({},o),{},{error:t.t0.message}));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return(0,vt.jsxs)("div",{children:[(0,vt.jsx)(rt,{children:(0,vt.jsx)("title",{children:"Sign In"})}),(0,vt.jsx)(XA,{children:(0,vt.jsx)("main",{className:"",children:(0,vt.jsxs)("section",{className:"tw-flex tw-flex-col tw-items-center tw-mt-[150px] lg:tw-mt-[100px]",children:[(0,vt.jsx)("div",{className:"tw-text-center",children:(0,vt.jsx)("h1",{className:"tw-text-2xl tw-font-bold tw-mb-10",children:"Sign In"})}),(0,vt.jsx)("article",{className:"tw-w-full",children:(0,vt.jsxs)("form",{onSubmit:d,children:[(0,vt.jsx)("div",{children:(0,vt.jsx)("input",{type:"text",name:"email",id:"email",value:o.email,onChange:h,placeholder:"Email",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5"})}),(0,vt.jsxs)("div",{className:"tw-relative tw-h-[38.4px] lg:tw-w-[30%] tw-w-[70%] tw-mx-auto tw-shadow-xl",children:[(0,vt.jsx)("input",{type:l?"text":"password",name:"password",id:"password",value:o.password,onChange:h,placeholder:"Password",className:"tw-mt-1 tw-block tw-w-full tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm  tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5"}),(0,vt.jsx)("div",{className:"tw-text-neutral-500 tw-font-light tw-flex tw-flex-row tw-justify-center tw-items-center tw-absolute tw-top-0 tw-bg-pink-900 tw-pr-2 tw-h-full tw-right-0 tw-w-[50px] tw-text-center tw-border tw-border-pink-900",children:(0,vt.jsx)("input",{className:"tw-border-gray-300 tw-ml-2 tw-rounded-full",type:"checkbox",onClick:function(){f(!l)}})})]}),(0,vt.jsx)("div",{className:"tw-text-red-800 tw-text-xs tw-mt-5 tw-text-center",children:o.error?(0,vt.jsx)("p",{children:o.error}):null}),(0,vt.jsx)("div",{className:"tw-flex tw-flex-row tw-my-10 tw-justify-center",children:(0,vt.jsx)(sO,{onClick:d,type:"submit",children:"Sign In"})})]})}),(0,vt.jsxs)("div",{className:"tw-text-neutral-700 tw-items-center tw-text-sm tw-flex tw-flex-col tw-font-light ",children:[(0,vt.jsxs)("span",{children:["Forgot Password? |"," ",(0,vt.jsx)("button",{onClick:function(){return o.email,void dr.auth().sendPasswordResetEmail(o.email).then((function(){try{i(!0)}catch(lO){console.log("error message - ".concat(lO.message))}}))},className:"tw-text-pink-800 tw-underline",children:"Reset"})]}),r&&(0,vt.jsx)("div",{className:" tw-text-blue-800 tw-mt-5",children:(0,vt.jsx)("span",{children:"A password reset link has been sent to this email - ".concat(o.email)})}),(0,vt.jsxs)("p",{className:"tw-mt-5 tw-mb-10",children:["Not a Member? |"," ",(0,vt.jsx)(Y,{to:"/register",children:(0,vt.jsx)("button",{className:"tw-text-pink-800 tw-underline",children:"Create Account"})})]})]})]})})})]})};var lO=function(){var e=u(t.useState(!1),2),n=e[0],r=e[1];return(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)(rt,{children:(0,vt.jsx)("title",{children:"Error Page"})}),(0,vt.jsx)(XA,{children:(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-my-[100px] tw-rounded-lg tw-w-[90%] md:tw-w-[60%] xl:tw-w-[40%] tw-p-10 tw-text-center tw-mx-auto tw-shadow-2xl tw-bg-neutral-200",children:[(0,vt.jsx)("h1",{className:"tw-text-3xl tw-font-bold tw-text-red-900",children:"404"}),(0,vt.jsx)("p",{className:"tw-text-neutral-600 tw-mt-2 tw-font-light",children:"The page you are about to access does not exist"}),(0,vt.jsxs)("div",{onMouseOver:function(){!n&&r(!0)},onMouseOut:function(){r(!1)},className:"tw-flex tw-flex-col tw-mt-6 tw-relative",children:[(0,vt.jsx)(Y,{to:"/",children:(0,vt.jsx)(sO,{children:(0,vt.jsx)(ht,{className:"tw-text-lg"})})}),(0,vt.jsx)(oC,{showText:n,children:"Back to Home"})]})]})})]})};var fO=function(e){var t=e.children;return(0,vt.jsx)("div",{className:"",children:(0,vt.jsx)("h1",{className:"tw-text-2xl tw-font-bold tw-capitalize tw-text-neutral-700",children:t})})},hO=function(){return(0,vt.jsx)(XA,{children:(0,vt.jsxs)("div",{className:"tw-mt-[150px] lg:tw-mt-[100px] tw-flex tw-flex-col tw-items-center",children:[(0,vt.jsx)(fO,{children:"payment failed"}),(0,vt.jsx)("div",{className:"tw-my-5",children:(0,vt.jsx)("span",{className:"tw-font-semibold tw-text-red-800",children:"Payment was not successful"})}),(0,vt.jsx)(Y,{className:"tw-mb-10",to:"/",children:(0,vt.jsx)(sO,{children:"Continue Shopping"})})]})})},dO=function(){var e=(0,t.useContext)(iC).user,n=e.displayName,r=WA(),i=$A(CA),a=localStorage.getItem("address");return t.useEffect((function(){(null===e||void 0===e?void 0:e.email)&&0!==i.length&&i.map((function(t){eC.collection("users").doc("".concat(null===e||void 0===e?void 0:e.email,"/")).collection("shoppings").add({id:t.id,title:t.name,description:t.description,quantity:t.quantity,price:t.price,address:a,customer:null===e||void 0===e?void 0:e.displayName}).then((function(){console.log("SUCCESSFULL")})).catch((function(e){return console.log("Error"+e.message)})),eC.collection("admin").doc("".concat(wt,"/")).collection("all-purchased").add({id:t.id,title:t.name,description:t.description,quantity:t.quantity,price:t.price,address:a,customer:null===e||void 0===e?void 0:e.displayName}).then((function(){console.log("SUCCESSFULL")})).catch((function(e){return console.log("Error"+e.message)}))})),setTimeout((function(){r(IA())}),1e3)})),(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)(rt,{children:(0,vt.jsx)("title",{children:"Success"})}),(0,vt.jsx)(XA,{children:(0,vt.jsxs)("div",{className:"tw-mt-[150px] lg:tw-mt-[100px] tw-flex tw-flex-col tw-items-center",children:[(0,vt.jsx)("h1",{className:"tw-text-md tw-text-neutral-600 tw-uppercase tw-mb-1",children:"Hey ".concat(n)}),(0,vt.jsx)("h1",{className:"tw-text-xl tw-uppercase",children:"Thank you for your purchase"}),(0,vt.jsx)("div",{className:"tw-mt-10 tw-text-neutral-600 tw-font-light tw-text-center",children:(0,vt.jsx)("span",{children:"We are currently processing your order and will send you a confirmation email shortly"})}),(0,vt.jsx)(Y,{className:"tw-my-10 ",to:"/",children:(0,vt.jsx)(sO,{children:"Continue Shopping"})})]})})]})};var pO=function(e){var t=e.handleSubmit,n=e.inputTypes,r=e.handleformDataChange,i=e.formData,a=e.isTrue,o=e.togglePassword,s=e.postError,u=e.buttonText,c=e.uploadFile;return(0,vt.jsx)("form",{onSubmit:t,children:(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center",children:[n.map((function(e){return(0,vt.jsx)("input",{type:e.type,name:e.name,id:e.id,value:e.value,onChange:r,placeholder:e.placeholder,className:"tw-rounded tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"})})),(0,vt.jsx)("textarea",{value:i.description,name:"description",onChange:r,rows:10,cols:50,placeholder:"Description...",className:"tw-rounded tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,vt.jsx)("div",{className:"tw-text-violet-700 tw-text-xs ",children:(0,vt.jsx)("span",{children:"Substitute space with a dash in image name ( e.g abc-def )"})}),(0,vt.jsxs)("div",{className:"tw-rounded tw-flex tw-flex-row tw-items-center tw-shadow-xl tw-pl-3 tw-py-2",children:[(0,vt.jsx)("label",{className:"tw-mr-3 tw-text-gray-500 tw-text-sm",children:"Image"}),(0,vt.jsx)("input",{type:"file",onChange:c,className:"tw-block tw-w-full tw-text-sm tw-text-gray-500 file:tw-mr-4 file:tw-py-1 file:tw-px-4 file:tw-rounded file:tw-border-0 file:tw-text-sm file:tw-bg-gray-200 file:tw-text-violet-700 hover:file:tw-bg-violet-100 tw-ease-in tw-duration-300"})]}),(0,vt.jsxs)("div",{className:"tw-rounded tw-flex tw-flex-row tw-items-center tw-mt-5 tw-shadow-xl tw-p-2",children:[(0,vt.jsx)("label",{className:"tw-mr-3 tw-text-gray-500 tw-text-sm",children:"Sales"}),(0,vt.jsx)("input",{type:"checkbox",checked:a,className:a?"tw-ml-2 tw-rounded-full tw-bg-violet-400":"tw-ml-2 tw-rounded-full tw-bg-none tw-border-violet-200",onChange:o})]}),s&&(0,vt.jsx)("span",{className:"tw-text-xs tw-text-red-700 tw-mt-5",children:"Error: ".concat(s)}),(0,vt.jsx)("div",{className:"tw-my-10",children:(0,vt.jsx)(sO,{type:"submit",children:u})})]})})};var vO=function(){var e=u(t.useState(!1),2),n=e[0],r=e[1],i=u(t.useState(""),2),a=i[0],o=i[1],s=u(t.useState({title:"",type:"",price:"",length:"",description:""}),2),c=s[0],l=s[1],f=u(t.useState(""),2),h=f[0],d=f[1],p=function(){var e=Et(It().mark((function e(t){var i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,i={name:c.title,type:c.type,color:c.color,price:c.price,length:c.length,description:c.description,sales:n,image:h},e.next=5,eO().post("/api/v1/products",i);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),o(e.t0.message),console.log(e.t0);case 11:l({title:"",type:"",color:"",price:"",length:"",description:""}),r(!1);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),v=[{id:"1",name:"title",type:"text",value:c.title,placeholder:"Product Name..."},{id:"2",name:"type",type:"text",value:c.type,placeholder:"Product Type..."},{id:"3",name:"color",type:"text",value:c.color,placeholder:"Product Color..."},{id:"4",name:"length",type:"number",value:c.length,placeholder:"Length..."},{id:"5",name:"price",type:"number",value:c.price,placeholder:"Price CA($)..."}],m=function(){var e=Et(It().mark((function e(t){var n,r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],(r=new FormData).append("image",n),e.prev=3,e.next=6,eO().post("/api/v1/products/uploads",r,{headers:{"Content-Type":"multipart/form-data"}});case 6:i=e.sent,a=i.data.image.src,d(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,vt.jsx)(pO,{handleSubmit:p,inputTypes:v,handleformDataChange:function(e){l(_t(_t({},c),{},kt({},e.target.name,e.target.value)))},formData:c,isTrue:n,togglePassword:function(){r(!n)},postError:a,buttonText:"Add to Inventory",uploadFile:m})},mO={_origin:"https://api.emailjs.com"},yO=function(e,t,n){if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0},gO=At((function e(t){Ct(this,e),this.status=t.status,this.text=t.responseText})),wO=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){var a=new XMLHttpRequest;a.addEventListener("load",(function(e){var t=e.target,n=new gO(t);200===n.status||"OK"===n.text?r(n):i(n)})),a.addEventListener("error",(function(e){var t=e.target;i(new gO(t))})),a.open("POST",mO._origin+e,!0),Object.keys(n).forEach((function(e){a.setRequestHeader(e,n[e])})),a.send(t)}))},bO=function(e,t,n,r){var i=r||mO._userID;yO(i,e,t);var a={lib_version:"3.2.0",user_id:i,service_id:e,template_id:t,template_params:n};return wO("/api/v1.0/email/send",JSON.stringify(a),{"Content-type":"application/json"})};function kO(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M17.47 250.9C88.82 328.1 158 397.6 224.5 485.5c72.3-143.8 146.3-288.1 268.4-444.37L460 26.06C356.9 135.4 276.8 238.9 207.2 361.9c-48.4-43.6-126.62-105.3-174.38-137z"}}]})(e)}function xO(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M199 103v50h-78v30h270v-30h-78v-50H199zm18 18h78v32h-78v-32zm-79.002 80l30.106 286h175.794l30.104-286H137.998zm62.338 13.38l.64 8.98 16 224 .643 8.976-17.956 1.283-.64-8.98-16-224-.643-8.976 17.956-1.283zm111.328 0l17.955 1.284-.643 8.977-16 224-.64 8.98-17.956-1.284.643-8.977 16-224 .64-8.98zM247 215h18v242h-18V215z"}}]})(e)}var _O=function(){var e,n,r,i,a,o,s,c,l=(0,t.useContext)(iC).user,f=u(t.useState(!1),2),h=f[0],d=f[1],p=u(t.useState(!1),2),v=p[0],m=p[1],y=u(t.useState(!1),2),g=y[0],w=y[1],b=u(t.useState(""),2),k=b[0],x=b[1],_=u(t.useState(""),2),S=_[0],E=_[1],T=u(t.useState(!0),2),I=T[0],C=T[1],N=u(t.useState({shippingHeader:[],shippingData:[]}),2),A=N[0],O=N[1],P=u((0,t.useState)({number:"",courier:""}),2),R=P[0],j=P[1],D=[];null===A||void 0===A||null===(e=A.shippingData)||void 0===e||e.filter((function(e){var t={name:e.title,quantity:e.quantity,description:e.description,id:e.id};e.id===k&&D.push(t)}));var L={name:l.displayName,message:"Thank you for your patronage. Your order of ".concat(null===D||void 0===D||null===(n=D[0])||void 0===n?void 0:n.quantity," ").concat(null===D||void 0===D||null===(r=D[0])||void 0===r?void 0:r.name,", is being processed and your tracking information is: Tracking No - ").concat(R.number,", Courier - ").concat(R.courier,"."),client:null===l||void 0===l?void 0:l.email},M=function(e){j(_t(_t({},R),{},kt({},e.target.name,e.target.value)))},U=function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r;t.push(null===Object||void 0===Object?void 0:Object.keys((null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.data)||[]))}return t.map((function(e){return e.sort()})),t};t.useEffect((function(){l&&eC.collection("admin").doc("".concat(wt,"/")).collection("all-purchased").orderBy("title","asc").onSnapshot((function(e){var t=e.docs.map((function(e){return{data:e.data()}}));if(t){var n,r=[],i=Ot(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.push({address:null===a||void 0===a?void 0:a.data.address,customer:null===a||void 0===a?void 0:a.data.customer,description:null===a||void 0===a?void 0:a.data.description,id:null===a||void 0===a?void 0:a.data.id,price:"CA$ ".concat(null===a||void 0===a?void 0:a.data.price),quantity:null===a||void 0===a?void 0:a.data.quantity,title:null===a||void 0===a?void 0:a.data.title})}}catch(o){i.e(o)}finally{i.f()}O({shippingHeader:U(t),shippingData:r})}}))}),[l]),I&&setTimeout((function(){C(!1)}),5e3);var F=function(e){eC.collection("admin").doc("".concat(wt,"/")).collection("all-purchased").onSnapshot((function(t){t.docs.map((function(t){return t.data().id===e&&eC.collection("admin").doc("".concat(wt,"/")).collection("all-purchased").doc(t.id).delete()}))}));setTimeout((function(){bO("service_2yc5daa","template_kxtdmr3",L,"user_VORMh20QoM0GcnDrVoVnj").then((function(e){})).catch((function(e){return console.log(e)}))}),1e3),m(!1),w(!1)};return(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-my-5",children:[(0,vt.jsx)(fO,{children:"Shipment"}),(null===l||void 0===l?void 0:l.email)===wt||bt?(0,vt.jsxs)("div",{children:[(0,vt.jsx)("main",{className:"history-page",children:0===(null===A||void 0===A||null===(i=A.shippingHeader)||void 0===i?void 0:i.length)&&0===(null===A||void 0===A||null===(a=A.shippingHeader)||void 0===a?void 0:a.length)?I?(0,vt.jsx)("span",{children:"Loading..."}):(0,vt.jsx)("span",{children:"Data not Found"}):(0,vt.jsx)(vt.Fragment,{children:(0,vt.jsx)("div",{className:"top",children:(0,vt.jsxs)("table",{children:[(0,vt.jsx)("thead",{children:(0,vt.jsx)("tr",{className:"table-head-row",children:null===A||void 0===A||null===(o=A.shippingHeader)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.map((function(e,t){return(0,vt.jsxs)("th",{className:"table-head-item",children:[e," ","appointment"===e||"reservation"===e?" - date":""]},t)}))})}),(0,vt.jsx)("tbody",{children:null===A||void 0===A||null===(c=A.shippingData)||void 0===c?void 0:c.map((function(e){var t;return(0,vt.jsxs)("tr",{className:"table-item-row",children:[null===Object||void 0===Object||null===(t=Object.values(e))||void 0===t?void 0:t.map((function(t,n){return(0,vt.jsxs)("td",{className:t.length>=200?"table-items align-left":"table-items",onClick:function(){return t=e.id,E(t),void w(!0);var t},children:["string"===typeof t&&t.length>=200?h&&S===e.id?t:"".concat(t.substring(0,70),"..."):t,t.length>=200&&(0,vt.jsx)(vt.Fragment,{children:(0,vt.jsx)("span",{onClick:function(){return t=e.id,E(t),void d(!h);var t},children:h&&S===e.id?(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)("span",{children:"Read Less"})," ",(0,vt.jsx)(gC,{})]}):(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)("span",{children:"Read More"})," ",(0,vt.jsx)(yC,{})]})})})]},n)})),g&&S===e.id&&(0,vt.jsxs)("div",{className:"been-shipped",children:[(0,vt.jsxs)("div",{className:"tw-mt-[30px] tw-text-xs ",children:["Has this product been shipped ? ",(0,vt.jsx)("br",{}),(0,vt.jsx)("span",{className:"been-shipped-textsm tw-text-red-400 tw-text-sm",children:"Please verify before clicking on yes"})]}),(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-justify-center",children:[(0,vt.jsxs)("button",{className:"tw-mx-2 tw-flex tw-flex-row tw-text-sm tw-items-center hover:tw-text-green-800",onClick:function(){x(e.id),m(!0)},children:[(0,vt.jsx)(kO,{className:"tw-mr-1"}),"Yes"]}),(0,vt.jsxs)("button",{className:"tw-mx-2 tw-flex tw-flex-row tw-text-sm tw-items-center hover:tw-text-red-800",onClick:function(){m(!1),w(!1)},children:[(0,vt.jsx)(pC,{size:20,className:"tw-mr-1"}),"No"]})]})]})]},e.id)}))})]})})})}),v&&(0,vt.jsxs)("div",{className:"tw-mt-10 tw-w-full",children:[(0,vt.jsx)("input",{type:"text",name:"number",id:"number",value:R.number,onChange:M,placeholder:"Tracking Number",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-blue-600 focus:tw-ring-0 focus:tw-ring-blue-600 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5"}),(0,vt.jsx)("input",{type:"text",name:"courier",id:"courier",value:R.courier,onChange:M,placeholder:"Courier Name",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-blue-600 focus:tw-ring-0 focus:tw-ring-blue-600 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5"}),(0,vt.jsx)("div",{className:"tw-flex tw-flex-col tw-justify-center tw-text-sm tw-text-blue-500 hover:tw-text-gray-400",children:(0,vt.jsx)("button",{onClick:function(){return F(k)},children:"Send Tracking"})})]})]}):(0,vt.jsxs)("div",{className:"history-page",children:[(0,vt.jsx)("p",{className:"danger",children:"UNAUTHORIZED PATH!"}),(0,vt.jsx)(sO,{to:"/",className:"btn block total_btn",children:"Back to Home"})]})]})};function SO(e){return ct({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 16a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2zm6.5-4.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 1 0z"}}]})(e)}function EO(e){return ct({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM9 5.5V7h1.5a.5.5 0 0 1 0 1H9v1.5a.5.5 0 0 1-1 0V8H6.5a.5.5 0 0 1 0-1H8V5.5a.5.5 0 0 1 1 0z"}}]})(e)}function TO(e){return ct({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.5 7a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4z"}},{tag:"path",attr:{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}}]})(e)}var IO=function(e){var t=e.product,n=e.fetchProducts,r=e.setSingleProduct;function i(){return i=Et(It().mark((function e(){var r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id,e.prev=1,e.next=4,eO().delete("/api/v1/products/".concat(r));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:n();case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),i.apply(this,arguments)}function a(){return a=Et(It().mark((function e(){var n,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.prev=1,e.next=4,eO().get("/api/v1/products/".concat(n));case 4:i=e.sent,a=i.data.product,r({id:a._id,name:a.name,price:a.price,description:a.description,sales:a.sales}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),a.apply(this,arguments)}return(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-bg-neutral-100 tw-p-3",children:[(0,vt.jsx)("div",{className:"tw-mr-1 tw-w-[20%]",children:(0,vt.jsx)("img",{alt:"",loading:"lazy",src:t.image,className:"tw-w-[100px] tw-h-[100px] tw-object-cover tw-rounded tw-mr-5"})}),(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-w-[80%]",children:[(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-mr-5 tw-text-xs tw-font-light tw-w-[85%]",children:[(0,vt.jsx)("span",{className:"tw-w-[100%]",children:"Name: ".concat(t.name)}),(0,vt.jsx)("span",{className:"tw-w-[100%]",children:"Color: ".concat(t.color)}),(0,vt.jsx)("span",{className:"tw-w-[100%]",children:"Price: CA$".concat(t.price)}),(0,vt.jsx)("span",{className:"tw-w-[100%]",children:"Length: ".concat(t.length,'"')}),(0,vt.jsx)("span",{className:"tw-w-[100%]",children:"Description: ".concat(t.description)}),(0,vt.jsx)("span",{className:"tw-text-red-800",children:t.sales&&"onsale"})]}),(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-justify-between tw-w-[15%] tw-border-l tw-border-neutral-300 tw-pl-[10px] lg:tw-pl-2 xl:tw-pl-[2px]",children:[(0,vt.jsx)(hC,{onClick:function(){return i.apply(this,arguments)},size:30,className:"tw-p-[4px] tw-text-neutral-800 hover:tw-text-neutral-300 hover:tw-cursor-pointer hover:tw-border-red-800 hover:tw-border hover:tw-rounded-full tw-ease-in tw-duration-300 tw-mb-3"}),(0,vt.jsx)(mC,{onClick:function(){return a.apply(this,arguments)},size:30,className:"tw-p-[4px] tw-text-neutral-800 hover:tw-text-neutral-300 hover:tw-cursor-pointer hover:tw-border-neutral-800 hover:tw-border hover:tw-rounded-full tw-ease-in tw-duration-300"})]})]})]})};var CO=function(){var e=u(t.useState([]),2),n=e[0],r=e[1],i=u(t.useState(),2),a=i[0],o=i[1],s=u(t.useState(""),2),c=s[0],l=s[1],f=u(t.useState(!1),2),h=f[0],d=f[1],p=u(t.useState(""),2),v=p[0],m=p[1];function y(){return g.apply(this,arguments)}function g(){return(g=Et(It().mark((function e(){var t,n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eO().get("/api/v1/products");case 3:t=e.sent,n=t.data.products,r(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function w(){return w=Et(It().mark((function e(t){var n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=null===a||void 0===a?void 0:a.id,e.prev=2,""!==(r={name:a.name,type:a.type,color:a.color,price:a.price,length:a.length,description:a.description,sales:h,image:v}).name&&""!==r.type&&""!==r.color&&null!==r.price&&null!==r.length&&""!==r.description){e.next=6;break}return e.abrupt("return",l("Missing Credentials"));case 6:return e.next=8,eO().patch("/api/v1/products/".concat(n),r);case 8:l(""),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),l(e.t0.message),console.log(e.t0);case 15:o(),y();case 17:case"end":return e.stop()}}),e,null,[[2,11]])}))),w.apply(this,arguments)}t.useEffect((function(){y()}),[]);var b=function(){var e=Et(It().mark((function e(t){var n,r,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.files[0],(r=new FormData).append("image",n),e.prev=4,e.next=7,eO().post("/api/v1/products/uploads",r,{headers:{"Content-Type":"multipart/form-data"}});case 7:i=e.sent,a=i.data.image.src,m(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return(0,vt.jsx)("div",{children:a?(0,vt.jsxs)("div",{className:"tw-w-[100%]",children:[(0,vt.jsx)("span",{className:" tw-text-xl tw-text-neutral-800 tw-flex tw-flex-col tw-items-center tw-mt-10",children:"Edit Product"}),(0,vt.jsx)("span",{className:"tw-text-neutral-500 tw-text-xs tw-flex tw-flex-col tw-items-center tw-mb-5 tw-mt-2",children:"ProductID: ".concat(a.id)}),(0,vt.jsx)("span",{className:"tw-flex tw-flex-col tw-items-center tw-mb-5 tw-mt-2 tw-capitalize tw-text-xs tw-text-red-800",children:"Please ensure to edit all field for better performance"}),(0,vt.jsx)("form",{onSubmit:function(e){return w.apply(this,arguments)},children:(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center",children:[(0,vt.jsx)("input",{type:"text",name:"title",id:"title",value:a.name,onChange:function(e){o({id:a.id,name:e.target.value,type:a.type,color:a.color,price:Number(a.price),length:Number(a.length),description:a.description,sales:a.sales})},placeholder:"Product Name...",className:"tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,vt.jsx)("input",{type:"text",name:"type",id:"type",value:a.type,onChange:function(e){o({id:a.id,name:a.name,type:e.target.value,color:a.color,price:Number(a.price),length:Number(a.length),description:a.description,sales:a.sales})},placeholder:"Product Type...",className:"tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,vt.jsx)("input",{type:"text",name:"color",id:"type",value:a.color,onChange:function(e){o({id:a.id,name:a.name,type:a.type,color:e.target.value,price:Number(a.price),length:Number(a.length),description:a.description,sales:a.sales})},placeholder:"Product Color...",className:"tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,vt.jsx)("input",{type:"number",name:"length",id:"length",value:a.length,onChange:function(e){o({id:a.id,name:a.name,type:a.type,color:a.color,price:Number(a.price),length:e.target.value,description:a.description,sales:a.sales})},placeholder:"Length...",className:"tw-rounded tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,vt.jsx)("input",{type:"number",name:"price",id:"price",value:a.price,onChange:function(e){o({id:a.id,name:a.name,type:a.type,color:a.color,price:e.target.value,length:Number(a.length),description:a.description,sales:a.sales})},placeholder:"Price...",className:"tw-rounded tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,vt.jsx)("textarea",{value:a.description,name:"description",onChange:function(e){o({id:a.id,name:a.name,type:a.type,color:a.color,price:Number(a.price),length:Number(a.length),sales:a.sales,description:e.target.value})},rows:5,cols:50,placeholder:"Description...",className:"tw-rounded tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,vt.jsx)("div",{className:"tw-text-violet-700 tw-text-xs tw-mb-2 ",children:(0,vt.jsx)("span",{children:"Substitute space with a dash in image name ( e.g abc-def )"})}),(0,vt.jsxs)("div",{className:"tw-rounded tw-flex tw-flex-row tw-items-center tw-shadow-xl tw-pl-3 tw-pb-1",children:[(0,vt.jsx)("label",{className:"tw-mr-3 tw-text-gray-500 tw-text-sm",children:"Image"}),(0,vt.jsx)("input",{onChange:b,type:"file",className:"tw-block tw-w-full tw-text-sm tw-text-gray-500 file:tw-mr-4 file:tw-py-1 file:tw-px-4 file:tw-rounded file:tw-border-0 file:tw-text-sm file:tw-bg-gray-200 file:tw-text-violet-700 hover:file:tw-bg-violet-100 tw-ease-in tw-duration-300"})]}),(0,vt.jsxs)("div",{className:"tw-rounded tw-flex tw-flex-row tw-items-center tw-mt-5 tw-shadow-xl tw-p-2",children:[(0,vt.jsx)("label",{className:"tw-mr-3 tw-text-gray-500 tw-text-sm",children:"Sales"}),(0,vt.jsx)("input",{type:"checkbox",checked:h,className:h?"tw-ml-2 tw-rounded-full tw-bg-violet-400":"tw-ml-2 tw-rounded-full tw-bg-none tw-border-violet-200",onChange:function(){d(!h)}})]}),c&&(0,vt.jsx)("span",{className:"tw-text-xs tw-text-red-700 tw-mt-5",children:"Error: ".concat(c)}),(0,vt.jsx)("div",{className:"tw-my-10",children:(0,vt.jsx)(sO,{type:"submit",children:"Update Inventory"})})]})})]}):(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-w-[100%] xl:tw-w-[90%] 2xl:tw-w-[85%] tw-mx-auto tw-mt-5",children:[(0,vt.jsx)(fO,{children:"All Inventories"}),(0,vt.jsx)("div",{className:"tw-grid tw-grid-cols-1 tw-w-full md:tw-grid-cols-2 xl:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-5 tw-p-5 lg:tw-p-10",children:n.map((function(e){return(0,vt.jsx)(IO,{product:e,fetchProducts:y,setSingleProduct:o},e._id)}))})]})})};var NO=function(){var e=u(t.useState("all-inventory"),2),n=e[0],r=e[1],i=(0,t.useContext)(iC).user,a=function(e){r(e.target.id)},o=function(){return"all-inventory"===n?(0,vt.jsx)(CO,{}):"inventory"===n?(0,vt.jsx)(vO,{}):"shipping"===n?(0,vt.jsx)(_O,{}):void 0};return(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)(rt,{children:(0,vt.jsx)("title",{children:"Admin Portal"})}),(0,vt.jsx)(XA,{children:(0,vt.jsxs)("div",{className:"tw-mt-[70px] tw-pt-20 md:tw-pt-10 tw-flex tw-flex-col tw-w-[100%] tw-items-center tw-bg-neutral-300",children:[(0,vt.jsx)(fO,{children:"Admin portal"}),(0,vt.jsx)("div",{className:"tw-my-5 tw-w-[100%] tw-text-violet-700",children:(0,vt.jsxs)("ul",{className:"tw-flex tw-text-xs tw-flex-row tw-items-center tw-justify-between tw-w-[90%] lg:tw-w-[50%] tw-mx-auto",children:[(0,vt.jsx)("li",{id:"all-inventory",className:"hover:tw-cursor-pointer tw-bg-violet-50 tw-px-4 tw-py-2 tw-rounded-full hover:tw-bg-violet-100 tw-ease-in tw-duration-300",onClick:a,children:"All Inventories"}),(0,vt.jsx)("li",{id:"inventory",className:"hover:tw-cursor-pointer tw-bg-violet-50 tw-px-4 tw-py-2 tw-rounded-full hover:tw-bg-violet-100 tw-ease-in tw-duration-300",onClick:a,children:"Add to Inventory"}),(0,vt.jsx)("li",{id:"shipping",className:"hover:tw-cursor-pointer tw-bg-violet-50  tw-px-4 tw-py-2 tw-rounded-full hover:tw-bg-violet-100 tw-ease-in tw-duration-300",onClick:a,children:"Shipment"})]})}),i&&(0,vt.jsx)("div",{className:"tw-w-[100%]",children:(0,vt.jsx)(o,{})}),!n&&(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-my-20 ",children:[(0,vt.jsx)("div",{className:"tw-text-2xl tw-text-stone-600",children:(0,vt.jsx)(SO,{})}),(0,vt.jsx)("span",{className:"tw-text-stone-600 tw-my-5 tw-capitalize tw-font-light",children:"Action Required!"})]})]})})]})},AO=function(e,t){return t.find((function(t){return t.id===e.id}))};var OO=function(e){var n=e.product,r=e.setSingleproducts,i=e.length,a=u(t.useState(""),2),o=a[0],s=a[1],c=$A(CA),l=WA(),f=u(t.useState({length:"",quantity:""}),2),h=f[0],d=f[1];function p(){return p=Et(It().mark((function e(t){var n,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eO().get("/api/v1/products");case 3:n=e.sent,i=n.data.products,a=i.filter((function(e){return e._id===t.target.id})),r(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),p.apply(this,arguments)}var v=n.price;"14-inches"===h.length?v=n.price:"16-inches"===h.length?v=n.price+10:"18-inches"===h.length?v=n.price+20:"20-inches"===h.length?v=n.price+30:"22-inches"===h.length?v=n.price+40:"24-inches"===h.length?v=n.price+50:"26-inches"===h.length?v=n.price+60:"28-inches"===h.length?v=n.price+70:"30-inches"===h.length&&(v=n.price+80);var m=n.name,y=n._id,g=n.image,w=n.description,b={name:m,id:y,image:g,price:v,hairLength:h.length,description:w};return(0,vt.jsxs)("div",{onMouseOver:function(e){s(e.target.id)},onMouseOut:function(){return s("")},className:"tw-w-[90%] tw-mx-auto tw-h-[600px] tw-mb-2 md:tw-mx-1 md:tw-w-[300px] tw-shadow-lg tw-relative tw-rounded-lg",children:[(0,vt.jsx)("img",{onClick:function(e){return p.apply(this,arguments)},id:n._id,src:n.image,alt:n._id,className:" tw-w-full tw-h-full tw-object-cover tw-rounded-lg hover:tw-cursor-pointer"}),o===n._id&&(0,vt.jsx)("div",{className:"tw-absolute tw-top-0 tw-right-0 tw-bg-neutral-300 tw-rounded-tr-lg tw-rounded-bl-lg tw-text-xs tw-p-2",children:(0,vt.jsx)("span",{className:"tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500",children:"View Image"})}),(0,vt.jsxs)("div",{className:"bg-blur tw-text-neutral-800 tw-pl-5 tw-w-full tw-absolute tw-z-5 tw-bottom-0 tw-rounded-b-lg",children:[(0,vt.jsx)("div",{className:"tw-flex tw-flex-row tw-justify-between",children:(0,vt.jsxs)("div",{className:"tw-pt-2",children:[(0,vt.jsx)("p",{className:" tw-text-sm",children:n.name}),(0,vt.jsx)("p",{className:" tw-text-xs tw-text-neutral-600",children:n.description}),(0,vt.jsx)("div",{className:"tw-pb-2",children:(0,vt.jsxs)("span",{children:["$",v]})})]})}),(0,vt.jsx)("div",{className:"tw-mr-5",children:(0,vt.jsx)("select",{className:"tw-text-gray-500 tw-mt-1 tw-block tw-w-full tw-mr-5 tw-px-3 tw-py-2 tw-border tw-border-gray-100 tw-rounded-md tw-text-xs tw-shadow-sm tw-placeholder-gray-200 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-noneinvalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-3",onChange:function(e){d(_t(_t({},h),{},kt({},e.target.name,e.target.value)))},id:"length",value:h.length,name:"length",placeholder:"Length",children:i.map((function(e){return(0,vt.jsx)("option",{children:e.name},e.id)}))})}),(0,vt.jsx)("div",{className:"tw-text-sm tw-flex tw-flex-row tw-rounded-md tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500 tw-px-4 tw-py-2 tw-items-center tw-justify-center tw-w-[150px] tw-mx-auto tw-text-neutral-50 hover:tw-cursor-pointer hover:tw-text-neutral-400 tw-ease-in tw-duration-500 tw-mb-5",children:AO(b,c)?(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center",onClick:""!==h.length&&function(){l(SA(b))},children:[(0,vt.jsx)("span",{className:"tw-mr-3",children:"Add More"}),(0,vt.jsx)(EO,{})]}):(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center",onClick:""!==h.length&&function(){l(_A(b))},children:[(0,vt.jsx)("span",{className:"tw-mr-3",children:"Add to cart"}),(0,vt.jsx)(dt,{})]})})]})]})};var PO=function(){var e=u(t.useState([]),2),n=e[0],r=e[1],i=u(t.useState(null),2),a=i[0],o=i[1],s=u(t.useState(!1),2),c=s[0],l=s[1];function f(){return f=Et(It().mark((function e(){var t,n,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eO().get("/api/v1/products");case 3:t=e.sent,n=t.data.products,i=n.filter((function(e){return"natural black"===e.color.toLowerCase()})),r(i.sort((function(e,t){return e.name.localeCompare(t.name)}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),f.apply(this,arguments)}t.useEffect((function(){!function(){f.apply(this,arguments)}(),setTimeout((function(){l(!0)}),2e3)}),[]);var h=[{id:"1",name:"Length"},{id:"len1",name:"14-inches"},{id:"len2",name:"16-inches"},{id:"len3",name:"18-inches"},{id:"len4",name:"20-inches"},{id:"len5",name:"22-inches"},{id:"len6",name:"24-inches"},{id:"len7",name:"26-inches"},{id:"len8",name:"28-inches"},{id:"len9",name:"30-inches"}];return(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)(rt,{children:(0,vt.jsx)("title",{children:"Hair Bundles"})}),(0,vt.jsx)(XA,{children:(0,vt.jsxs)("div",{className:"tw-pb-10 md:tw-pt-24 tw-pt-32 tw-h-full tw-relative tw-bg-neutral-800 tw-flex tw-flex-col tw-items-center tw-mx-auto",children:[c&&n&&(0,vt.jsx)("div",{className:"tw-flex tw-flex-col md:tw-grid md:tw-grid-cols-2 lg:tw-grid-cols-3 xl:tw-grid-cols-4 tw-w-[90%] xl:tw-w-[85%] 2xl:tw-w-[70%]",children:n.map((function(e){return(0,vt.jsx)("div",{className:"tw-justify-center tw-items-center tw-flex tw-flex-row",children:(0,vt.jsx)(OO,{product:e,setSingleproducts:o,length:h},e._id)},e._id)}))}),!c&&(0,vt.jsx)("div",{className:"tw-text-neutral-50 tw-font-light tw-text-sm",children:"Loading products..."}),a&&(0,vt.jsx)("div",{className:"tw-absolute tw-z-10 tw-h-[100vh] tw-right-0 tw-left-0 tw-top-0 tw-flex tw-flex-row tw-items-center tw-justify-center bg-blur2",children:(0,vt.jsxs)("div",{className:"tw-w-[600px] tw-h-[600px]",children:[(0,vt.jsx)("img",{id:null===a||void 0===a?void 0:a[0]._id,src:null===a||void 0===a?void 0:a[0].image,alt:null===a||void 0===a?void 0:a[0]._id,className:"tw-w-full tw-h-full tw-object-contain"}),(0,vt.jsxs)("div",{className:"tw-absolute tw-bottom-[25%]",children:[(0,vt.jsx)("p",{className:"tw-text-md tw-font-200 tw-tracking-tight tw-text-neutral-900 tw-rounded-md tw-mb-[1px] bg-blur tw-px-2 tw-leading-6 lg:tw-mt-[150px]",children:null===a||void 0===a?void 0:a[0].name}),(0,vt.jsx)("p",{className:"tw-font-medium tw-text-slate-900 tw-text-xs tw-rounded-md tw-mb-[1px] bg-blur tw-px-2 tw-mt-0",children:null===a||void 0===a?void 0:a[0].description})]}),(0,vt.jsx)(nO,{onClick:function(){return o(null)},className:"tw-absolute tw-top-20 tw-right-20 tw-w-16 tw-h-16 tw-p-5 tw-bg-gray-100 tw-rounded-full hover:tw-cursor-pointer"})]})})]})})]})};var RO=function(e){var n=e.product,r=e.setSingleproducts,i=u(t.useState(""),2),a=i[0],o=i[1],s=$A(CA),c=WA(),l=u(t.useState({length:"",color:""}),2),f=l[0],h=l[1];function d(){return d=Et(It().mark((function e(t){var n,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eO().get("/api/v1/products");case 3:n=e.sent,i=n.data.products,a=i.filter((function(e){return e._id===t.target.id})),r(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),d.apply(this,arguments)}var p=n.price;"14-inches"===f.length?p=n.price:"16-inches"===f.length?p=n.price+10:"18-inches"===f.length?p=n.price+20:"20-inches"===f.length?p=n.price+30:"22-inches"===f.length&&(p=n.price+40);var v=n.price;"14-inches"===f.length?v=n.price:"16-inches"===f.length?v=n.price+10:"18-inches"===f.length?v=n.price+20:"20-inches"===f.length?v=n.price+30:"22-inches"===f.length&&(v=n.price+40);var m=n.name,y=n._id,g=n.image,w=n.description,b={name:m,id:y,image:g,price:"frontal"===n.type.toLowerCase()?"Blonde613"===f.color?v+=10:v:"Blonde613"===f.color?p+=10:p,hairLength:f.length,hairColor:f.color,description:w},k=function(e){h(_t(_t({},f),{},kt({},e.target.name,e.target.value)))};return(0,vt.jsxs)("div",{onMouseOver:function(e){o(e.target.id)},onMouseOut:function(){return o("")},className:"tw-w-[90%] tw-h-[600px] tw-mb-2 md:tw-mx-1 md:tw-w-[300px] tw-shadow-lg tw-relative tw-rounded-lg",children:[(0,vt.jsx)("img",{onClick:function(e){return d.apply(this,arguments)},id:n._id,src:n.image,alt:n._id,className:" tw-w-full tw-h-full tw-object-cover tw-rounded-lg hover:tw-cursor-pointer"}),a===n._id&&(0,vt.jsx)("div",{className:"tw-absolute tw-top-0 tw-right-0 tw-bg-neutral-300 tw-rounded-tr-lg tw-rounded-bl-lg tw-text-xs tw-p-2",children:(0,vt.jsx)("span",{className:"tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500",children:"View Image"})}),(0,vt.jsxs)("div",{className:"bg-blur tw-text-neutral-800 tw-pl-5 tw-w-full tw-absolute tw-z-5 tw-bottom-0 tw-rounded-b-lg",children:[(0,vt.jsx)("div",{className:"tw-flex tw-flex-row tw-justify-between",children:(0,vt.jsxs)("div",{className:"tw-pt-2",children:[(0,vt.jsx)("p",{className:" tw-text-sm",children:n.name}),(0,vt.jsx)("p",{className:" tw-text-xs tw-text-neutral-600",children:n.description}),(0,vt.jsx)("div",{className:"tw-pb-2",children:(0,vt.jsxs)("span",{children:["$","frontal"===n.type.toLowerCase()?v:p]})})]})}),(0,vt.jsxs)("div",{className:"tw-mr-5",children:[(0,vt.jsx)("select",{className:"tw-text-gray-500 tw-mt-1 tw-block tw-w-full tw-mr-5 tw-px-3 tw-py-2 tw-border tw-border-gray-100 tw-rounded-md tw-text-xs tw-shadow-sm tw-placeholder-gray-200 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-noneinvalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-3",onChange:k,id:"length",value:f.length,name:"length",children:[{id:"1",name:"Length"},{id:"len1",name:"14-inches"},{id:"len2",name:"16-inches"},{id:"len3",name:"18-inches"},{id:"len4",name:"20-inches"},{id:"len5",name:"22-inches"}].map((function(e){return(0,vt.jsx)("option",{children:e.name},e.id)}))}),(0,vt.jsx)("select",{className:"tw-text-gray-500 tw-mt-1 tw-block tw-w-full tw-mr-5 tw-px-3 tw-py-2 tw-border tw-border-gray-100 tw-rounded-md tw-text-xs tw-shadow-sm tw-placeholder-gray-200 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-noneinvalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-3",onChange:k,id:"color",value:f.color,name:"color",children:[{id:"1",name:"Color"},{id:"colo1",name:"Natural Black"},{id:"colo2",name:"Blonde613"}].map((function(e){return(0,vt.jsx)("option",{children:e.name},e.id)}))})]}),(0,vt.jsx)("div",{className:"tw-text-sm tw-flex tw-flex-row tw-rounded-md tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500 tw-px-4 tw-py-2 tw-items-center tw-justify-center tw-w-[150px] tw-mx-auto tw-text-neutral-50 hover:tw-cursor-pointer hover:tw-text-neutral-400 tw-ease-in tw-duration-500 tw-mb-5",children:AO(b,s)?(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center",onClick:0!==s.length&&function(){c(SA(b))},children:[(0,vt.jsx)("span",{className:"tw-mr-3",children:"Add More"}),(0,vt.jsx)(EO,{})]}):(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center",onClick:""!==f.length&&function(){c(_A(b))},children:[(0,vt.jsx)("span",{className:"tw-mr-3",children:"Add to cart"}),(0,vt.jsx)(dt,{})]})})]})]})};var jO=function(){var e=u(t.useState(null),2),n=e[0],r=e[1],i=u(t.useState([]),2),a=i[0],o=i[1],s=u(t.useState(!1),2),c=s[0],l=s[1];function f(){return f=Et(It().mark((function e(){var t,n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eO().get("/api/v1/products");case 3:t=e.sent,n=t.data.products,r=n.filter((function(e){return"closure"===e.type.toLowerCase()||"frontal"===e.type.toLowerCase()})),o(r.sort((function(e,t){return e.name.localeCompare(t.name)}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),f.apply(this,arguments)}return t.useEffect((function(){!function(){f.apply(this,arguments)}(),setTimeout((function(){l(!0)}),2e3)}),[]),(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)(rt,{children:(0,vt.jsx)("title",{children:"Closure & Frontal"})}),(0,vt.jsx)(XA,{children:(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-pb-10 md:tw-pt-24 tw-pt-32 tw-h-full tw-relative tw-bg-neutral-800 tw-items-center ",children:[c&&a&&(0,vt.jsx)("div",{className:a.length>2?"md:tw-mx-auto md:tw-grid md:tw-grid-cols-2 lg:tw-grid-cols-3 xl:tw-grid-cols-4 xl:tw-w-[85%]":"tw-flex tw-flex-col tw-w-[90%] md:tw-flex-row md:tw-justify-center",children:a.map((function(e){return(0,vt.jsx)("div",{className:"tw-justify-center tw-items-center tw-flex tw-flex-row",children:(0,vt.jsx)(RO,{product:e,setSingleproducts:r},e._id)},e._id)}))}),!c&&(0,vt.jsx)("div",{className:"tw-text-neutral-50 tw-font-light tw-text-sm",children:"Loading products..."}),n&&(0,vt.jsx)("div",{className:"tw-absolute tw-z-10 tw-h-[100vh] tw-right-0 tw-left-0 tw-top-0 tw-flex tw-flex-row tw-items-center tw-justify-center bg-blur2",children:(0,vt.jsxs)("div",{className:"tw-w-[600px] tw-h-[600px]",children:[(0,vt.jsx)("img",{id:null===n||void 0===n?void 0:n[0]._id,src:null===n||void 0===n?void 0:n[0].image,alt:null===n||void 0===n?void 0:n[0]._id,className:"tw-w-full tw-h-full tw-object-contain"}),(0,vt.jsxs)("div",{className:"tw-absolute tw-bottom-[25%]",children:[(0,vt.jsx)("p",{className:"tw-text-md tw-font-200 tw-tracking-tight tw-text-neutral-900 tw-rounded-md tw-mb-[1px] bg-blur tw-px-2 tw-leading-6 lg:tw-mt-[150px]",children:null===n||void 0===n?void 0:n[0].name}),(0,vt.jsx)("p",{className:"tw-font-medium tw-text-slate-900 tw-text-xs tw-rounded-md tw-mb-[1px] bg-blur tw-px-2 tw-mt-0",children:null===n||void 0===n?void 0:n[0].description})]}),(0,vt.jsx)(nO,{onClick:function(){return r(null)},className:"tw-absolute tw-top-20 tw-right-20 tw-w-16 tw-h-16 tw-p-5 tw-bg-gray-100 tw-rounded-full hover:tw-cursor-pointer"})]})})]})})]})};var DO=function(e){var n=e.product,r=e.setSingleproducts,i=e.length,a=u(t.useState(""),2),o=a[0],s=a[1],c=$A(CA),l=WA(),f=u(t.useState({length:"",quantity:""}),2),h=f[0],d=f[1];function p(){return p=Et(It().mark((function e(t){var n,i,a;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eO().get("/api/v1/products");case 3:n=e.sent,i=n.data.products,a=i.filter((function(e){return e._id===t.target.id})),r(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),p.apply(this,arguments)}var v=n.price;"14-inches"===h.length?v=n.price:"16-inches"===h.length?v=n.price+10:"18-inches"===h.length?v=n.price+20:"20-inches"===h.length?v=n.price+30:"22-inches"===h.length?v=n.price+40:"24-inches"===h.length?v=n.price+50:"26-inches"===h.length?v=n.price+60:"28-inches"===h.length?v=n.price+70:"30-inches"===h.length&&(v=n.price+80);var m=n.price;"14-inches"===h.length?m=n.price:"16-inches"===h.length?m=n.price+10:"18-inches"===h.length?m=n.price+20:"20-inches"===h.length?m=n.price+30:"22-inches"===h.length?m=n.price+40:"24-inches"===h.length?m=n.price+50:"26-inches"===h.length?m=n.price+60:"28-inches"===h.length?m=n.price+70:"30-inches"===h.length&&(m=n.price+80);var y=n.name,g=n._id,w=n.image,b=n.description,k={name:y,id:g,image:w,price:"blonde613"===n.color?m:v,hairLength:h.length,description:b};return(0,vt.jsxs)("div",{onMouseOver:function(e){s(e.target.id)},onMouseOut:function(){return s("")},className:"tw-w-[90%] tw-h-[600px] tw-mb-2 md:tw-mx-1 md:tw-w-[300px] tw-shadow-lg tw-relative tw-rounded-lg",children:[(0,vt.jsx)("img",{onClick:function(e){return p.apply(this,arguments)},id:n._id,src:n.image,alt:n._id,className:" tw-w-full tw-h-full tw-object-cover tw-rounded-lg hover:tw-cursor-pointer"}),o===n._id&&(0,vt.jsx)("div",{className:"tw-absolute tw-top-0 tw-right-0 tw-bg-neutral-300 tw-rounded-tr-lg tw-rounded-bl-lg tw-text-xs tw-p-2",children:(0,vt.jsx)("span",{className:"tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500",children:"View Image"})}),(0,vt.jsxs)("div",{className:"bg-blur tw-text-neutral-800 tw-pl-5 tw-w-full tw-absolute tw-z-5 tw-bottom-0 tw-rounded-b-lg",children:[(0,vt.jsx)("div",{className:"tw-flex tw-flex-row tw-justify-between",children:(0,vt.jsxs)("div",{className:"tw-pt-2",children:[(0,vt.jsx)("p",{className:" tw-text-sm",children:n.name}),(0,vt.jsx)("p",{className:" tw-text-xs tw-text-neutral-600",children:n.description}),(0,vt.jsx)("div",{className:"tw-pb-2",children:(0,vt.jsxs)("span",{children:["$","blonde613"===n.color?m:v]})})]})}),(0,vt.jsx)("div",{className:"tw-mr-5",children:(0,vt.jsx)("select",{className:"tw-text-gray-500 tw-mt-1 tw-block tw-w-full tw-mr-5 tw-px-3 tw-py-2 tw-border tw-border-gray-100 tw-rounded-md tw-text-xs tw-shadow-sm tw-placeholder-gray-200 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-noneinvalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-3",onChange:function(e){d(_t(_t({},h),{},kt({},e.target.name,e.target.value)))},id:"length",value:h.length,name:"length",children:i.map((function(e){return(0,vt.jsx)("option",{children:e.name},e.id)}))})}),(0,vt.jsx)("div",{className:"tw-text-sm tw-flex tw-flex-row tw-rounded-md tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500 tw-px-4 tw-py-2 tw-items-center tw-justify-center tw-w-[150px] tw-mx-auto tw-text-neutral-50 hover:tw-cursor-pointer hover:tw-text-neutral-400 tw-ease-in tw-duration-500 tw-mb-5",children:AO(k,c)?(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center",onClick:0!==c.length&&function(){l(SA(k))},children:[(0,vt.jsx)("span",{className:"tw-mr-3",children:"Add More"}),(0,vt.jsx)(EO,{})]}):(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center",onClick:""!==h.length&&function(){l(_A(k))},children:[(0,vt.jsx)("span",{className:"tw-mr-3",children:"Add to cart"}),(0,vt.jsx)(dt,{})]})})]})]})};var LO=function(){var e=u(t.useState(null),2),n=e[0],r=e[1],i=u(t.useState([]),2),a=i[0],o=i[1],s=u(t.useState(!1),2),c=s[0],l=s[1];function f(){return f=Et(It().mark((function e(){var t,n,r;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eO().get("/api/v1/products");case 3:t=e.sent,n=t.data.products,r=n.filter((function(e){return"jet black"===e.color.toLowerCase()||e.color.toLowerCase().includes("blonde613")})),o(r.sort((function(e,t){return e.name.localeCompare(t.name)}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),f.apply(this,arguments)}t.useEffect((function(){!function(){f.apply(this,arguments)}(),setTimeout((function(){l(!0)}),2e3)}),[]);var h=[{id:"1",name:"Length"},{id:"len1",name:"14-inches"},{id:"len2",name:"16-inches"},{id:"len3",name:"18-inches"},{id:"len4",name:"20-inches"},{id:"len5",name:"22-inches"},{id:"len6",name:"24-inches"},{id:"len7",name:"26-inches"},{id:"len8",name:"28-inches"},{id:"len9",name:"30-inches"}];return(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)(rt,{children:(0,vt.jsx)("title",{children:"Jet Black & Blonde Hair"})}),(0,vt.jsx)(XA,{children:(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-pb-10 md:tw-pt-24 tw-pt-32 tw-h-full tw-relative tw-bg-neutral-800 tw-items-center ",children:[c&&a&&(0,vt.jsx)("div",{className:"tw-flex tw-flex-col md:tw-grid md:tw-grid-cols-2 lg:tw-grid-cols-3 xl:tw-grid-cols-4 tw-w-[90%] xl:tw-w-[85%] 2xl:tw-w-[70%]",children:a.map((function(e){return(0,vt.jsx)("div",{className:"tw-justify-center tw-items-center tw-flex tw-flex-row",children:(0,vt.jsx)(DO,{product:e,setSingleproducts:r,length:h},e._id)},e._id)}))}),!c&&(0,vt.jsx)("div",{className:"tw-text-neutral-50 tw-font-light tw-text-sm",children:"Loading products..."}),n&&(0,vt.jsx)("div",{className:"tw-absolute tw-z-10 tw-h-[100vh] tw-right-0 tw-left-0 tw-top-0 tw-flex tw-flex-row tw-items-center tw-justify-center bg-blur2",children:(0,vt.jsxs)("div",{className:"tw-w-[600px] tw-h-[600px]",children:[(0,vt.jsx)("img",{id:null===n||void 0===n?void 0:n[0]._id,src:null===n||void 0===n?void 0:n[0].image,alt:null===n||void 0===n?void 0:n[0]._id,className:"tw-w-full tw-h-full tw-object-contain"}),(0,vt.jsxs)("div",{className:"tw-absolute tw-bottom-[25%]",children:[(0,vt.jsx)("p",{className:"tw-text-md tw-font-200 tw-tracking-tight tw-text-neutral-900 tw-rounded-md tw-mb-[1px] bg-blur tw-px-2 tw-leading-6 lg:tw-mt-[150px]",children:null===n||void 0===n?void 0:n[0].name}),(0,vt.jsx)("p",{className:"tw-font-medium tw-text-slate-900 tw-text-xs tw-rounded-md tw-mb-[1px] bg-blur tw-px-2 tw-mt-0",children:null===n||void 0===n?void 0:n[0].description})]}),(0,vt.jsx)(nO,{onClick:function(){return r(null)},className:"tw-absolute tw-top-20 tw-right-20 tw-w-16 tw-h-16 tw-p-5 tw-bg-gray-100 tw-rounded-full hover:tw-cursor-pointer"})]})})]})})]})},MO=function(e){var n=e.product,r=n.name,i=n.image,a=n.price,o=n.quantity,s=n.hairLength,c=n.hairColor,l=n.description,f=n.id,h=u(t.useState(!1),2),d=h[0],p=h[1],v=WA(),m={name:r,id:f,image:i,price:a,hairLength:s,hairColor:c,description:l};return(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-p-5 tw-w-full tw-bg-gray-50 tw-mb-1",children:[(0,vt.jsx)("div",{className:"tw-mr-5",children:(0,vt.jsx)("img",{className:"tw-w-[100px] tw-h-[100px] tw-shadow-lg",src:i,alt:r})}),(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-justify-between tw-items-center tw-w-[100%] tw-pr-5",children:[(0,vt.jsxs)("div",{className:"tw-text-neutral-600 tw-font-light tw-text-sm",children:[(0,vt.jsx)("div",{className:"tw-font-bold",children:(0,vt.jsx)("h4",{children:r})}),(0,vt.jsx)("p",{children:"Price: $".concat(a)}),(0,vt.jsx)("p",{children:"Length: ".concat(s)}),c&&(0,vt.jsx)("p",{children:"Color: ".concat(c)}),(0,vt.jsx)("p",{children:"Quantity: ".concat(o)}),(0,vt.jsxs)("div",{className:"",children:[!d&&l.length>=100?(0,vt.jsxs)("span",{children:[l.substring(0,50),"..."]}):(0,vt.jsx)("span",{children:l}),l.length>=100&&(0,vt.jsx)("span",{onClick:function(){return p(!d)},className:"tw-cursor-pointer",children:d?(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-text-xs tw-font-bold",children:[(0,vt.jsx)("span",{children:"Read Less"})," ",(0,vt.jsx)(gC,{})]}):(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-text-xs tw-font-bold",children:[(0,vt.jsx)("span",{children:"Read More"})," ",(0,vt.jsx)(yC,{})]})})]})]}),(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-justify-between tw-h-[70%]",children:[(0,vt.jsx)("div",{className:"tw-text-2xl tw-text-neutral-300 hover:tw-cursor-pointer hover:tw-text-neutral-900 tw-ease-in tw-duration-300",onClick:function(){v(SA(m))},children:(0,vt.jsx)(lC,{})}),1===o&&(0,vt.jsx)("div",{className:"tw-text-2xl tw-text-neutral-300 hover:tw-cursor-pointer hover:tw-text-neutral-900 tw-ease-in tw-duration-300",onClick:function(){v(TA(m))},children:(0,vt.jsx)(xO,{})}),o>1&&(0,vt.jsx)("div",{className:"tw-text-2xl tw-text-neutral-300 hover:tw-cursor-pointer hover:tw-text-neutral-900 tw-ease-in tw-duration-300",onClick:function(){v(EA(m))},children:(0,vt.jsx)(TO,{})})]})]})]})};var UO=n(5764),FO=n(7441),VO=n(9613),zO=n.n(VO);var BO=function(e){function t(e,r,u,c,h){for(var d,p,v,m,b,x=0,_=0,S=0,E=0,T=0,P=0,j=v=d=0,L=0,M=0,U=0,F=0,V=u.length,z=V-1,B="",q="",H="",W="";L<V;){if(p=u.charCodeAt(L),L===z&&0!==_+E+S+x&&(0!==_&&(p=47===_?10:47),E=S=x=0,V++,z++),0===_+E+S+x){if(L===z&&(0<M&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(L)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,F=++L;L<V;){switch(p=u.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(L+1)){case 42:case 47:e:{for(j=L+1;j<z;++j)switch(u.charCodeAt(j)){case 47:if(42===p&&42===u.charCodeAt(j-1)&&L+2!==j){L=j+1;break e}break;case 10:if(47===p){L=j+1;break e}}L=j}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<z&&u.charCodeAt(L)!==p;);}if(0===v)break;L++}if(v=u.substring(F,L),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<M&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:M=r;break;default:M=O}if(F=(v=t(r,M,v,p,h+1)).length,0<R&&(b=s(3,v,M=n(O,B,U),r,C,I,F,p,h,c),B=M.join(""),void 0!==b&&0===(F=(v=b.trim()).length)&&(p=0,v="")),0<F)switch(p){case 115:B=B.replace(k,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,U),v,c,h+1);H+=v,v=U=M=j=d=0,B="",p=u.charCodeAt(++L);break;case 125:case 59:if(1<(F=(B=(0<M?B.replace(f,""):B).trim()).length))switch(0===j&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(F=(B=B.replace(" ",":")).length),0<R&&void 0!==(b=s(1,B,r,e,C,I,q.length,c,h,c))&&0===(F=(B=b.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=B+u.charAt(L);break}default:58!==B.charCodeAt(F-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}U=M=j=d=0,B="",p=u.charCodeAt(++L)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<B.length&&(M=1,B+="\0"),0<R*D&&s(0,B,r,e,C,I,q.length,c,h,c),I=1,C++;break;case 59:case 125:if(0===_+E+S+x){I++;break}default:switch(I++,m=u.charAt(L),p){case 9:case 32:if(0===E+x+_)switch(T){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===E+_+x&&(M=U=1,m="\f"+m);break;case 108:if(0===E+_+x+N&&0<j)switch(L-j){case 2:112===T&&58===u.charCodeAt(L-3)&&(N=T);case 8:111===P&&(N=P)}break;case 58:0===E+_+x&&(j=L);break;case 44:0===_+S+E+x&&(M=1,m+="\r");break;case 34:case 39:0===_&&(E=E===p?0:0===E?p:E);break;case 91:0===E+_+S&&x++;break;case 93:0===E+_+S&&x--;break;case 41:0===E+_+x&&S--;break;case 40:if(0===E+_+x){if(0===d)if(2*T+3*P===533);else d=1;S++}break;case 64:0===_+S+E+x+j+v&&(v=1);break;case 42:case 47:if(!(0<E+x+S))switch(_){case 0:switch(2*p+3*u.charCodeAt(L+1)){case 235:_=47;break;case 220:F=L,_=42}break;case 42:47===p&&42===T&&F+2!==L&&(33===u.charCodeAt(F+2)&&(q+=u.substring(F,L+1)),m="",_=0)}}0===_&&(B+=m)}P=T,T=p,L++}if(0<(F=q.length)){if(M=r,0<R&&(void 0!==(b=s(2,q,M,e,C,I,F,c,h,c))&&0===(q=b).length))return W+q+H;if(q=M.join(",")+"{"+q+"}",0!==A*N){switch(2!==A||a(q,2)||(N=0),N){case 111:q=q.replace(w,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}N=0}}return W+q+H}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===A||2===A&&a(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(T,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(b,"tb");break;case 232:u=o.replace(b,"tb-rl");break;case 220:u=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),j(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<R;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(j=null,e?"function"!==typeof e?A=1:(A=2,j=e):A=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=s(-1,n,r,r,C,I,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(O,r,n,0,0);return 0<R&&(void 0!==(i=s(-2,a,r,r,C,I,a.length,0,0,0))&&(a=i)),"",N=0,I=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,w=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,I=1,C=1,N=0,A=1,O=[],P=[],R=0,j=null,D=0;return c.use=function e(t){switch(t){case void 0:case null:R=P.length=0;break;default:if("function"===typeof t)P[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else D=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},qO={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var HO=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},WO=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,KO=HO((function(e){return WO.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function GO(){return(GO=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var QO=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},$O=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,FO.typeOf)(e)},YO=Object.freeze([]),JO=Object.freeze({});function XO(e){return"function"==typeof e}function ZO(e){return e.displayName||e.name||"Component"}function eP(e){return e&&"string"==typeof e.styledComponentId}var tP="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",nP="undefined"!=typeof window&&"HTMLElement"in window,rP=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function iP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var aP=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&iP(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),oP=new Map,sP=new Map,uP=1,cP=function(e){if(oP.has(e))return oP.get(e);for(;sP.has(uP);)uP++;var t=uP++;return oP.set(e,t),sP.set(t,e),t},lP=function(e){return sP.get(e)},fP=function(e,t){t>=uP&&(uP=t+1),oP.set(e,t),sP.set(t,e)},hP="style["+tP+'][data-styled-version="5.3.3"]',dP=new RegExp("^"+tP+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),pP=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},vP=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(dP);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(fP(c,u),pP(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},mP=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},yP=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(tP))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(tP,"active"),r.setAttribute("data-styled-version","5.3.3");var o=mP();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},gP=function(){function e(e){var t=this.element=yP(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}iP(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),wP=function(){function e(e){var t=this.element=yP(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),bP=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),kP=nP,xP={isServer:!nP,useCSSOMInjection:!rP},_P=function(){function e(e,t,n){void 0===e&&(e=JO),void 0===t&&(t={}),this.options=GO({},xP,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&nP&&kP&&(kP=!1,function(e){for(var t=document.querySelectorAll(hP),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(tP)&&(vP(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return cP(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(GO({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new bP(i):r?new gP(i):new wP(i),new aP(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(cP(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(cP(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(cP(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=lP(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=tP+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),SP=/(a)(d)/gi,EP=function(e){return String.fromCharCode(e+(e>25?39:97))};function TP(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=EP(t%52)+n;return(EP(t%52)+n).replace(SP,"$1-$2")}var IP=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},CP=function(e){return IP(5381,e)};function NP(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(XO(n)&&!eP(n))return!1}return!0}var AP=CP("5.3.3"),OP=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&NP(e),this.componentId=t,this.baseHash=IP(AP,t),this.baseStyle=n,_P.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=$P(this.rules,e,t,n).join(""),o=TP(IP(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=IP(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=$P(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=IP(c,p+f),l+=p}}if(l){var v=TP(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),PP=/^\s*\/\/.*$/gm,RP=[":","[",".","#"];function jP(e){var t,n,r,i,a=void 0===e?JO:e,o=a.options,s=void 0===o?JO:o,u=a.plugins,c=void 0===u?YO:u,l=new BO(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==RP.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(PP,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||iP(15),IP(e,t.name)}),5381).toString():"",p}var DP=t.createContext(),LP=(DP.Consumer,t.createContext()),MP=(LP.Consumer,new _P),UP=jP();function FP(){return(0,t.useContext)(DP)||MP}function VP(){return(0,t.useContext)(LP)||UP}function zP(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=FP(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,t.useMemo)((function(){return jP({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){zO()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(DP.Provider,{value:o},t.createElement(LP.Provider,{value:s},e.children))}var BP=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=UP);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return iP(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=UP),this.name+e.hash},e}(),qP=/([A-Z])/,HP=/([A-Z])/g,WP=/^ms-/,KP=function(e){return"-"+e.toLowerCase()};function GP(e){return qP.test(e)?e.replace(HP,KP).replace(WP,"-ms-"):e}var QP=function(e){return null==e||!1===e||""===e};function $P(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=$P(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return QP(e)?"":eP(e)?"."+e.styledComponentId:XO(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:$P(e(t),t,n,r):e instanceof BP?n?(e.inject(n,r),e.getName(r)):e:$O(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!QP(t[o])&&(Array.isArray(t[o])&&t[o].isCss||XO(t[o])?a.push(GP(o)+":",t[o],";"):$O(t[o])?a.push.apply(a,e(t[o],o)):a.push(GP(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in qO?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var YP=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function JP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return XO(e)||$O(e)?YP($P(QO(YO,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:YP($P(QO(e,n)))}new Set;var XP=function(e,t,n){return void 0===n&&(n=JO),e.theme!==n.theme&&e.theme||t||n.theme},ZP=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,eR=/(^-|-$)/g;function tR(e){return e.replace(ZP,"-").replace(eR,"")}var nR=function(e){return TP(CP(e)>>>0)};function rR(e){return"string"==typeof e&&!0}var iR=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},aR=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function oR(e,t,n){var r=e[n];iR(t)&&iR(r)?sR(r,t):e[n]=t}function sR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(iR(o))for(var s in o)aR(s)&&oR(e,o[s],s)}return e}var uR=t.createContext();uR.Consumer;var cR={};function lR(e,n,r){var i=eP(e),a=!rR(e),o=n.attrs,s=void 0===o?YO:o,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":tR(e);cR[n]=(cR[n]||0)+1;var r=n+"-"+nR("5.3.3"+n+cR[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,f=void 0===l?function(e){return rR(e)?"styled."+e:"Styled("+ZO(e)+")"}(e):l,h=n.displayName&&n.componentId?tR(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,m=new OP(r,h,i?e.componentStyle:void 0),y=m.isStatic&&0===s.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=JO);var r=GO({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in XO(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(XP(n,(0,t.useContext)(uR),s)||JO,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=FP(),a=VP();return t?e.generateAndInjectStyles(JO,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=r,y=p.$as||n.$as||p.as||n.as||f,g=rR(y),w=p!==n?GO({},n,{},p):n,b={};for(var k in w)"$"!==k[0]&&"as"!==k&&("forwardedAs"===k?b.as=w[k]:(c?c(k,KO,y):!g||KO(k))&&(b[k]=w[k]));return n.style&&p.style!==n.style&&(b.style=GO({},n.style,{},p.style)),b.className=Array.prototype.concat(u,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,t.createElement)(y,b)}(v,e,n,y)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):YO,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(rR(e)?e:tR(ZO(e)));return lR(e,GO({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?sR({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&VA()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var fR=function(e){return function e(t,n,r){if(void 0===r&&(r=JO),!(0,FO.isValidElementType)(n))return iP(1,String(n));var i=function(){return t(n,r,JP.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,GO({},r,{},i))},i.attrs=function(i){return e(t,n,GO({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(lR,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){fR[e]=fR(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=NP(e),_P.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r($P(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&_P.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=mP();return"<style "+[n&&'nonce="'+n+'"',tP+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?iP(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return iP(2);var r=((n={})[tP]="",n["data-styled-version"]="5.3.3",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=mP();return i&&(r.nonce=i),[t.createElement("style",GO({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new _P({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?iP(2):t.createElement(zP,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return iP(3)}}();var hR=fR,dR="https://js.stripe.com/v3",pR=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,vR="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",mR=null,yR=function(e){return null!==mR||(mR=new Promise((function(t,n){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(vR),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(dR,'"]')),t=0;t<e.length;t++){var n=e[t];if(pR.test(n.src))return n}return null}();r&&e?console.warn(vR):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(dR).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(lO){return void n(lO)}else t(null)}))),mR},gR=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.22.0",startTime:t})}(r,n),r},wR=Promise.resolve().then((function(){return yR(null)})),bR=!1;wR.catch((function(e){bR||console.warn(e)}));function kR(e){return ct({tag:"svg",attr:{viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}}]})(e)}var xR,_R,SR,ER=function(e){var n=e.total,r=(e.itemCount,N()),i=(0,UO.useStripe)(),a=(0,UO.useElements)(),o=$A(CA),s=u(t.useState(""),2),c=s[0],l=s[1],f=u(t.useState(!1),2),h=f[0],d=f[1],p=u(t.useState(null),2),v=p[0],m=p[1],y=u(t.useState(""),2),g=y[0],w=y[1],b=u(t.useState(!0),2),k=b[0],x=b[1],_=u(t.useState(""),2),S=_[0],E=_[1],T=u(t.useState(!1),2),I=T[0],C=T[1],A=u(t.useState({street:"",city:"",province:"",postalcode:"",country:""}),2),O=A[0],P=A[1],R=u(t.useState({country:"",cost:""}),2),j=R[0],D=R[1],L=u(t.useState(!1),2),M=L[0],U=L[1],F=WA(),V=(0,t.useContext)(iC).user,z=function(e){P(_t(_t({},O),{},kt({},e.target.name,e.target.value)))},B=Math.floor(100*j.cost),q=.06*n,H=Math.floor(100*(n+q)),W=function(){var e=Et(It().mark((function e(){var t,n,r,i;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eO().post("/.netlify/functions/create-payment-intent",JSON.stringify({cartItems:o,shipping_fee:B,total_amount:H}));case 3:n=e.sent,r=n.data,E(null===(t=r.clientSecret.split("'"))||void 0===t?void 0:t[0]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m(null!==e.t0&&void 0!==e.t0&&null!==(i=e.t0.response)&&void 0!==i&&i.data?"Please contact modelEst Admin...":"");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();t.useEffect((function(){W()}),[]);var K=function(){var e=Et(It().mark((function e(t){return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t.empty),m(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Et(It().mark((function e(t){var n;return It().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w(!0),e.next=4,i.confirmCardPayment(S,{payment_method:{card:a.getElement(UO.CardElement)}});case 4:(n=e.sent).error?(m("Payment failed ".concat(n.error.message)),w(!1),setTimeout((function(){r("/canceled")}),5e3)):(m(null),w(!1),d(!0),setTimeout((function(){r("/success")}),5e3));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,vt.jsxs)("div",{children:[(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-max-w-[70%] tw-mx-auto tw-mt-5",children:[!V&&(0,vt.jsx)("input",{type:"email",onChange:function(e){return l(e.target.value)},placeholder:"Email",value:c,className:M&&!c?"user-email-input input-error":"user-email-input"}),(0,vt.jsx)("input",{name:"street",type:"text",value:O.street,onChange:z,placeholder:"Address",className:M&&!O.street?"user-email-input input-error":"user-email-input"}),(0,vt.jsx)("input",{name:"city",type:"text",value:O.city,onChange:z,placeholder:"City",className:M&&!O.city?"user-email-input input-error":"user-email-input"}),(0,vt.jsx)("input",{name:"province",type:"text",value:O.province,onChange:z,placeholder:"Province",className:M&&!O.province?"user-email-input input-error":"user-email-input"}),(0,vt.jsx)("input",{name:"postalcode",type:"text",value:O.postalcode,onChange:z,placeholder:"Postal Code",className:M&&!O.postalcode?"user-email-input input-error":"user-email-input"}),(0,vt.jsx)("input",{name:"country",type:"text",value:O.country,onChange:z,placeholder:"Country",className:M&&!O.country?"user-email-input input-error":"user-email-input"})]}),"com"===c.substr(c.length-3)&&(0,vt.jsx)("div",{className:"email-verify",children:(0,vt.jsx)("span",{children:"Please verify you have the correct email and address"})}),M&&c.length<1&&(0,vt.jsx)("div",{className:"user-email-input-error tw-text-center",children:(0,vt.jsx)("span",{children:"Hey! You have missing credentials!"})}),(0,vt.jsxs)("div",{className:"total-button tw-text-sm tw-mx-auto tw-flex tw-flex-row tw-items-center",children:[(0,vt.jsx)("button",{disabled:I,onClick:function(){var e="".concat(O.street,", ").concat(O.city,". ").concat(O.province,". ").concat(O.postalcode,". ").concat(O.country);V&&c||U(!0),(V&&null!==O&&void 0!==O&&O.street&&null!==O&&void 0!==O&&O.city&&null!==O&&void 0!==O&&O.province&&null!==O&&void 0!==O&&O.postalcode&&null!==O&&void 0!==O&&O.country||c&&null!==O&&void 0!==O&&O.street&&null!==O&&void 0!==O&&O.city&&null!==O&&void 0!==O&&O.province&&null!==O&&void 0!==O&&O.postalcode&&null!==O&&void 0!==O&&O.country)&&(localStorage.setItem("address",e),C(!0),P({street:"",city:"",province:"",postalcode:"",country:""}),U(!1)),Object.keys(gt).filter((function(e){return e.toLowerCase()===O.country.toLowerCase()&&D({country:e,cost:gt[e]})}))},className:"tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500 hover:tw-text-neutral-400 tw-ease-in tw-duration-500 tw-mr-5 tw-border-r-2 tw-pr-5",type:"submit",children:"PROCEED"}),(0,vt.jsx)("span",{onClick:function(){return F(IA())},className:"hover:tw-text-neutral-400 hover:tw-cursor-pointer tw-ease-in tw-duration-500 tw-min-w-[100px]",children:"CLEAR CART"})]}),I&&(0,vt.jsx)("div",{children:h?(0,vt.jsxs)("article",{className:"tw-text-center tw-mt-5",children:[(0,vt.jsx)("h4",{children:"Thank you. Your payment was successful!"}),(0,vt.jsxs)("h4",{className:"tw-text-xs tw-text-green-700 tw-my-4",children:["Redirecting to ",h?"success":"canceled"," page..."]})]}):(0,vt.jsx)("article",{className:"tw-text-center tw-text-xs tw-p-1 tw-mt-10 tw-max-w-[70%] tw-mx-auto tw-rounded-sm tw-text-neutral-500",children:(0,vt.jsxs)("p",{children:["Hello, ",V&&(null===V||void 0===V?void 0:V.displayName),", your total is CA$",((H+B)/100).toFixed(2)," + tax"]})})}),(0,vt.jsxs)("form",{className:I?"tw-block tw-ease-in tw-duration-300 tw-w-full":"tw-hidden tw-ease-in tw-duration-300",id:"payment-form",onSubmit:G,children:[(0,vt.jsx)(UO.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:K,className:"tw-w-[95%] tw-mx-auto tw-border-[1px] tw-border-b-0 tw-p-3 tw-rounded-t-[4px] "}),(0,vt.jsx)("button",{className:"tw-bg-neutral-800 tw-w-[95%] tw-flex tw-mx-auto tw-justify-center tw-py-2 tw-rounded-b-md",disabled:g||k||h,id:"submit",children:(0,vt.jsx)("span",{className:g||k||h?"tw-text-neutral-50 tw-font-light":"tw-text-orange-500 tw-font-light",children:g?(0,vt.jsx)("div",{className:"spinner",id:"spinner"}):"Pay now"})}),v&&(0,vt.jsxs)("div",{className:"card-error tw-flex tw-items-center tw-justify-center tw-text-xs tw-text-red-700 ",role:"alert",children:[(0,vt.jsx)(kR,{className:"tw-mr-2"}),v]}),(0,vt.jsx)("div",{className:"tw-w-[90%] tw-mx-auto tw-pt-1",children:(0,vt.jsxs)("p",{className:h?"result-message":"result-message hidden",children:["Payment Succeeded,","tisijola7@gmail.com"===(null===V||void 0===V?void 0:V.email)&&(0,vt.jsxs)("span",{children:[" ","see the result in your",(0,vt.jsxs)("a",{className:"tw-text-blue-600",href:"https://dashboard.stripe.com/test/payments",target:"_blank",rel:"noreferrer",children:[" ","Stripe Dashboard"]})]})," ","Refresh the page to pay again"]})})]})]})},TR=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];bR=!0;var r=Date.now();return wR.then((function(e){return gR(e,t,r)}))}("pk_live_51KQIMSLTIkVkSAcpbfJjcDC9oMzqtRdbC4bLu9LJuaTh9HzCWflHOK8HyhY7AJfdE2F088cQirCdKvPssaCXVrwh00mUeAZT6h"),IR=hR.section(xR||(_R=["\n\tform {\n\t\twidth: 30vw;\n\t\talign-self: center;\n\t\tbox-shadow: 0px 0px 0px 0.5px rgba(50, 50, 93, 0.1),\n\t\t\t0px 2px 5px 0px rgba(50, 50, 93, 0.1),\n\t\t\t0px 1px 1.5px 0px rgba(0, 0, 0, 0.07);\n\t\tborder-radius: 7px;\n\t\tpadding-left: 10px;\n\t\tpadding-right: 10px;\n\t\tpadding-top: 30px;\n\t\tpadding-bottom: 30px;\n\t}\n\n\tinput {\n\t\tborder-radius: 6px;\n\t\tmargin-bottom: 6px;\n\t\tpadding: 12px;\n\t\tborder: 1px solid rgba(50, 50, 93, 0.1);\n\t\tmax-height: 44px;\n\t\tfont-size: 16px;\n\t\twidth: 100%;\n\t\tbackground: white;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.result-message {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t}\n\n\t.result-message a {\n\t\tcolor: rgb(89, 111, 214);\n\t\tfont-weight: 600;\n\t\ttext-decoration: none;\n\t}\n\n\t.hidden {\n\t\tdisplay: none;\n\t}\n\n\t#card-error {\n\t\tcolor: rgb(105, 115, 134);\n\t\tfont-size: 16px;\n\t\tline-height: 20px;\n\t\tmargin-top: 12px;\n\t\ttext-align: center;\n\t}\n\n\t#card-element {\n\t\tborder-radius: 4px 4px 0 0;\n\t\tpadding: 12px;\n\t\tborder: 1px solid rgba(50, 50, 93, 0.1);\n\t\tmax-height: 44px;\n\t\twidth: 100%;\n\t\tbackground: white;\n\t\tbox-sizing: border-box;\n\t}\n\n\t#payment-request-button {\n\t\tmargin-bottom: 32px;\n\t}\n\n\tbutton:hover {\n\t\tfilter: contrast(115%);\n\t}\n\n\tbutton:disabled {\n\t\topacity: 0.5;\n\t\tcursor: default;\n\t}\n\n\t/* spinner/processing state, errors */\n\t.spinner,\n\t.spinner:before,\n\t.spinner:after {\n\t\tborder-radius: 50%;\n\t}\n\n\t.spinner {\n\t\tcolor: #ffffff;\n\t\tfont-size: 22px;\n\t\ttext-indent: -99999px;\n\t\tmargin: 0px auto;\n\t\tposition: relative;\n\t\twidth: 20px;\n\t\theight: 20px;\n\t\tbox-shadow: inset 0 0 0 2px;\n\t\t-webkit-transform: translateZ(0);\n\t\t-ms-transform: translateZ(0);\n\t\ttransform: translateZ(0);\n\t}\n\n\t.spinner:before,\n\t.spinner:after {\n\t\tposition: absolute;\n\t\tcontent: '';\n\t}\n\n\t.spinner:before {\n\t\twidth: 10.4px;\n\t\theight: 20.4px;\n\t\tbackground: undefined;\n\t\tborder-radius: 20.4px 0 0 20.4px;\n\t\ttop: -0.2px;\n\t\tleft: -0.2px;\n\t\t-webkit-transform-origin: 10.4px 10.2px;\n\t\ttransform-origin: 10.4px 10.2px;\n\t\t-webkit-animation: loading 2s infinite ease 1.5s;\n\t\tanimation: loading 2s infinite ease 1.5s;\n\t}\n\n\t.spinner:after {\n\t\twidth: 10.4px;\n\t\theight: 10.2px;\n\t\tbackground: undefined;\n\t\tborder-radius: 0 10.2px 10.2px 0;\n\t\ttop: -0.1px;\n\t\tleft: 10.2px;\n\t\t-webkit-transform-origin: 0px 10.2px;\n\t\ttransform-origin: 0px 10.2px;\n\t\t-webkit-animation: loading 2s infinite ease;\n\t\tanimation: loading 2s infinite ease;\n\t}\n\n\t@keyframes loading {\n\t\t0% {\n\t\t\t-webkit-transform: rotate(0deg);\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\t-webkit-transform: rotate(360deg);\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\n\t@media only screen and (max-width: 600px) {\n\t\tform {\n\t\t\twidth: 80vw;\n\t\t}\n\t}\n"],SR||(SR=_R.slice(0)),xR=Object.freeze(Object.defineProperties(_R,{raw:{value:Object.freeze(SR)}})))),CR=function(e){var t=e.total,n=e.itemCount;return(0,vt.jsx)(IR,{children:(0,vt.jsx)(UO.Elements,{stripe:TR,children:(0,vt.jsx)(ER,{total:t,itemCount:n})})})},NR=function(e){var t=e.itemCount,r=e.total,i=n(3361),a=n(1268),o=n(7451);return(0,vt.jsxs)("div",{className:"tw-bg-neutral-50 tw-p-5",children:[(0,vt.jsx)("div",{className:"tw-border-[1px] tw-py-3 tw-px-5 tw-rounded-sm tw-text-slate-600 tw-max-w-[70%] tw-mx-auto tw-flex tw-flex-row tw-justify-between",children:(0,vt.jsxs)("ul",{children:[(0,vt.jsxs)("li",{className:"tw-flex tw-flex-row tw-items-center tw-text-xs tw-font-medium",children:[(0,vt.jsx)("img",{className:"tw-h-[8px] tw-mr-3",src:a,alt:"usa-flag"}),"USA - $",gt.usa,":00"]}),(0,vt.jsxs)("li",{className:"tw-flex tw-flex-row tw-items-center tw-text-xs tw-font-medium",children:[(0,vt.jsx)("img",{className:"tw-h-[8px] tw-mr-3",src:i,alt:"canada-flag"}),"CAN - $",gt.canada,":00"]}),(0,vt.jsxs)("li",{className:"tw-flex tw-flex-row tw-items-center tw-text-xs tw-font-medium",children:[(0,vt.jsx)("img",{className:"tw-h-[8px] tw-mr-3",src:o,alt:"london-flag"}),"UK - $",gt.london,":00"]})]})}),(0,vt.jsx)(CR,{total:r,itemCount:t})]})},AR=function(){var e=$A(NA),t=$A(AA),n=$A(CA),r=N();return(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)(rt,{children:(0,vt.jsx)("title",{children:"Checkout"})}),(0,vt.jsx)(XA,{children:(0,vt.jsxs)("div",{className:"tw-bg-gray-300 tw-pt-[150px] md:tw-pt-[100px] tw-pb-[30px] tw-w-full tw-flex tw-flex-col tw-items-center tw-justify-center ",children:[(0,vt.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center tw-mb-5",children:[(0,vt.jsx)(dt,{className:"tw-text-2xl tw-text-violet-500"}),(0,vt.jsx)("h2",{className:"tw-text-2xl tw-ml-2 tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500",children:"Cart"})]}),0===n.length?(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)("div",{className:"tw-mb-5",children:"Your Cart is Empty"}),(0,vt.jsx)(sO,{handleFunc:function(){return r("/")},children:"Shop now"})]}):(0,vt.jsxs)("div",{className:"tw-flex tw-flex-col tw-w-full tw-px-5 lg:tw-flex-row lg:tw-w-[90%] tw-justify-center tw-items-center lg:tw-items-start",children:[(0,vt.jsx)("div",{className:"tw-w-full lg:tw-w-[40%] xl:tw-w-[50%]",children:n.map((function(e){return(0,vt.jsx)(MO,{product:e},e.id)}))}),(0,vt.jsx)("div",{className:"tw-w-full lg:tw-ml-5 xl:tw-ml-5 lg:tw-w-[60%] xl:tw-w-[50%]",children:(0,vt.jsx)(NR,{itemCount:e,total:t})})]})]})})]})};var OR=function(){var e=(0,t.useContext)(iC).user;return(0,vt.jsxs)(vt.Fragment,{children:[(0,vt.jsx)(rt,{children:(0,vt.jsx)("title",{children:"Account"})}),(0,vt.jsx)(XA,{children:(0,vt.jsx)("div",{className:"tw-py-[100px] tw-px-5 tw-bg-gray-300 tw-flex tw-flex-col tw-items-center",children:(0,vt.jsxs)("div",{className:" tw-w-[80%]",children:[(0,vt.jsxs)("div",{className:"tw-bg-neutral-50 tw-p-2 tw-rounded-sm tw-mb-1",children:[(0,vt.jsxs)("h1",{className:"tw-font-light tw-text-xs",children:["Account Name: ",null===e||void 0===e?void 0:e.displayName]}),(0,vt.jsxs)("h1",{className:"tw-font-light tw-text-xs",children:["Account Email: ",null===e||void 0===e?void 0:e.email]})]}),(0,vt.jsx)("div",{className:"tw-bg-neutral-50 tw-p-2 tw-rounded-sm tw-mb-1",children:(0,vt.jsx)("h1",{className:"tw-font-light tw-text-md",children:"Booking History"})}),(0,vt.jsx)("div",{className:"tw-bg-neutral-50 tw-p-2 tw-rounded-sm",children:(0,vt.jsx)("h1",{className:"tw-font-light tw-text-md",children:"Cart History"})})]})})})]})};var PR=function(){return(0,vt.jsxs)(E,{children:[(0,vt.jsx)(_,{exact:!0,path:"/register",element:(0,vt.jsx)(uO,{})}),(0,vt.jsx)(_,{exact:!0,path:"/login",element:(0,vt.jsx)(cO,{})}),(0,vt.jsx)(_,{exact:!0,path:"/canceled",element:(0,vt.jsx)(hO,{})}),(0,vt.jsx)(_,{exact:!0,path:"/success",element:(0,vt.jsx)(dO,{})}),(0,vt.jsx)(_,{exact:!0,path:"/admin-portal",element:(0,vt.jsx)(NO,{})}),(0,vt.jsx)(_,{exact:!0,path:"/hair-bundles",element:(0,vt.jsx)(PO,{})}),(0,vt.jsx)(_,{exact:!0,path:"/closure-frontal",element:(0,vt.jsx)(jO,{})}),(0,vt.jsx)(_,{exact:!0,path:"/jet-black-&-blonde-hair",element:(0,vt.jsx)(LO,{})}),(0,vt.jsx)(_,{exact:!0,path:"/user-cart",element:(0,vt.jsx)(AR,{})}),(0,vt.jsx)(_,{exact:!0,path:"/user-account",element:(0,vt.jsx)(OR,{})}),(0,vt.jsx)(_,{exact:!0,path:"*",element:(0,vt.jsx)(lO,{})}),(0,vt.jsx)(_,{exact:!0,path:"/",element:(0,vt.jsx)(oO,{})})]})},RR=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},jR=function(e){var t,n=WN(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!qN(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=CN(a)}var p=s;"function"===typeof p&&(p=p(n));var v=AN.apply(void 0,p),m=NN;c&&(m=BN(zN({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(d)?y=DN([v],d):"function"===typeof d&&(y=d(y)),IN(t,f,m.apply(void 0,y))}({reducer:{app:OA}}),DR=function(e,t,n){var r=n||!1,i=IN(wA,gA,t&&t.enhancer?t.enhancer:void 0),a=function(e){i.dispatch({type:eA,key:e})},o=function(t,n,a){var o={type:YN,payload:n,err:a,key:t};e.dispatch(o),i.dispatch(o),r&&s.getState().bootstrapped&&(r(),r=!1)},s=mA({},i,{purge:function(){var t=[];return e.dispatch({type:ZN,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:$N,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:JN})},persist:function(){e.dispatch({type:XN,register:a,rehydrate:o})}});return t&&t.manualPersist||s.persist(),s}(jR);function LR(e){return LR="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LR(e)}function MR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FR(e,t){return!t||"object"!==LR(t)&&"function"!==typeof t?zR(e):t}function VR(e){return VR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},VR(e)}function zR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BR(e,t){return BR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},BR(e,t)}function qR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HR=function(e){function t(){var e,n;MR(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return qR(zR(n=FR(this,(e=VR(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),qR(zR(n),"_unsubscribe",void 0),qR(zR(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BR(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&UR(n.prototype,r),i&&UR(n,i),t}(t.PureComponent);qR(HR,"defaultProps",{children:null,loading:null}),r.render((0,vt.jsx)(UA,{store:jR,children:(0,vt.jsx)(HR,{persistor:DR,children:(0,vt.jsx)($,{children:(0,vt.jsx)(aC,{children:(0,vt.jsx)(PR,{})})})})}),document.getElementById("root")),RR()}()}();
//# sourceMappingURL=main.57302ba1.js.map